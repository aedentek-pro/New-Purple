(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eu={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function lv(){if(hh)return El;hh=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(o,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:t,type:o,key:h,ref:u!==void 0?u:null,props:f}}return El.Fragment=n,El.jsx=l,El.jsxs=l,El}var ph;function ov(){return ph||(ph=1,Eu.exports=lv()),Eu.exports}var r=ov(),Nu={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function av(){if(gh)return Re;gh=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function z(A,V,L){this.props=A,this.context=V,this.refs=F,this.updater=L||_}z.prototype.isReactComponent={},z.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function J(){}J.prototype=z.prototype;function j(A,V,L){this.props=A,this.context=V,this.refs=F,this.updater=L||_}var B=j.prototype=new J;B.constructor=j,N(B,z.prototype),B.isPureReactComponent=!0;var W=Array.isArray;function te(){}var D={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function le(A,V,L){var de=L.ref;return{$$typeof:t,type:A,key:V,ref:de!==void 0?de:null,props:L}}function ue(A,V){return le(A.type,V,A.props)}function oe(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function fe(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(L){return V[L]})}var Ne=/\/+/g;function O(A,V){return typeof A=="object"&&A!==null&&A.key!=null?fe(""+A.key):V.toString(36)}function re(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(te,te):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function U(A,V,L,de,be){var Me=typeof A;(Me==="undefined"||Me==="boolean")&&(A=null);var K=!1;if(A===null)K=!0;else switch(Me){case"bigint":case"string":case"number":K=!0;break;case"object":switch(A.$$typeof){case t:case n:K=!0;break;case x:return K=A._init,U(K(A._payload),V,L,de,be)}}if(K)return be=be(A),K=de===""?"."+O(A,0):de,W(be)?(L="",K!=null&&(L=K.replace(Ne,"$&/")+"/"),U(be,V,L,"",function(_e){return _e})):be!=null&&(oe(be)&&(be=ue(be,L+(be.key==null||A&&A.key===be.key?"":(""+be.key).replace(Ne,"$&/")+"/")+K)),V.push(be)),1;K=0;var pe=de===""?".":de+":";if(W(A))for(var Se=0;Se<A.length;Se++)de=A[Se],Me=pe+O(de,Se),K+=U(de,V,L,Me,be);else if(Se=E(A),typeof Se=="function")for(A=Se.call(A),Se=0;!(de=A.next()).done;)de=de.value,Me=pe+O(de,Se++),K+=U(de,V,L,Me,be);else if(Me==="object"){if(typeof A.then=="function")return U(re(A),V,L,de,be);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return K}function G(A,V,L){if(A==null)return A;var de=[],be=0;return U(A,de,"","",function(Me){return V.call(L,Me,be++)}),de}function ce(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(L){(A._status===0||A._status===-1)&&(A._status=1,A._result=L)},function(L){(A._status===0||A._status===-1)&&(A._status=2,A._result=L)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var ye=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},X={map:G,forEach:function(A,V,L){G(A,function(){V.apply(this,arguments)},L)},count:function(A){var V=0;return G(A,function(){V++}),V},toArray:function(A){return G(A,function(V){return V})||[]},only:function(A){if(!oe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Re.Activity=T,Re.Children=X,Re.Component=z,Re.Fragment=l,Re.Profiler=u,Re.PureComponent=j,Re.StrictMode=o,Re.Suspense=v,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(A){return D.H.useMemoCache(A)}},Re.cache=function(A){return function(){return A.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(A,V,L){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var de=N({},A.props),be=A.key;if(V!=null)for(Me in V.key!==void 0&&(be=""+V.key),V)!he.call(V,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&V.ref===void 0||(de[Me]=V[Me]);var Me=arguments.length-2;if(Me===1)de.children=L;else if(1<Me){for(var K=Array(Me),pe=0;pe<Me;pe++)K[pe]=arguments[pe+2];de.children=K}return le(A.type,be,de)},Re.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},Re.createElement=function(A,V,L){var de,be={},Me=null;if(V!=null)for(de in V.key!==void 0&&(Me=""+V.key),V)he.call(V,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=V[de]);var K=arguments.length-2;if(K===1)be.children=L;else if(1<K){for(var pe=Array(K),Se=0;Se<K;Se++)pe[Se]=arguments[Se+2];be.children=pe}if(A&&A.defaultProps)for(de in K=A.defaultProps,K)be[de]===void 0&&(be[de]=K[de]);return le(A,Me,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:y,render:A}},Re.isValidElement=oe,Re.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:ce}},Re.memo=function(A,V){return{$$typeof:g,type:A,compare:V===void 0?null:V}},Re.startTransition=function(A){var V=D.T,L={};D.T=L;try{var de=A(),be=D.S;be!==null&&be(L,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(te,ye)}catch(Me){ye(Me)}finally{V!==null&&L.types!==null&&(V.types=L.types),D.T=V}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(A){return D.H.use(A)},Re.useActionState=function(A,V,L){return D.H.useActionState(A,V,L)},Re.useCallback=function(A,V){return D.H.useCallback(A,V)},Re.useContext=function(A){return D.H.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A,V){return D.H.useDeferredValue(A,V)},Re.useEffect=function(A,V){return D.H.useEffect(A,V)},Re.useEffectEvent=function(A){return D.H.useEffectEvent(A)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(A,V,L){return D.H.useImperativeHandle(A,V,L)},Re.useInsertionEffect=function(A,V){return D.H.useInsertionEffect(A,V)},Re.useLayoutEffect=function(A,V){return D.H.useLayoutEffect(A,V)},Re.useMemo=function(A,V){return D.H.useMemo(A,V)},Re.useOptimistic=function(A,V){return D.H.useOptimistic(A,V)},Re.useReducer=function(A,V,L){return D.H.useReducer(A,V,L)},Re.useRef=function(A){return D.H.useRef(A)},Re.useState=function(A){return D.H.useState(A)},Re.useSyncExternalStore=function(A,V,L){return D.H.useSyncExternalStore(A,V,L)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.0",Re}var yh;function Hu(){return yh||(yh=1,Nu.exports=av()),Nu.exports}var I=Hu();const Zp=Xp(I);var Au={exports:{}},Nl={},_u={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function rv(){return vh||(vh=1,(function(t){function n(U,G){var ce=U.length;U.push(G);e:for(;0<ce;){var ye=ce-1>>>1,X=U[ye];if(0<u(X,G))U[ye]=G,U[ce]=X,ce=ye;else break e}}function l(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var G=U[0],ce=U.pop();if(ce!==G){U[0]=ce;e:for(var ye=0,X=U.length,A=X>>>1;ye<A;){var V=2*(ye+1)-1,L=U[V],de=V+1,be=U[de];if(0>u(L,ce))de<X&&0>u(be,L)?(U[ye]=be,U[de]=ce,ye=de):(U[ye]=L,U[V]=ce,ye=V);else if(de<X&&0>u(be,ce))U[ye]=be,U[de]=ce,ye=de;else break e}}return G}function u(U,G){var ce=U.sortIndex-G.sortIndex;return ce!==0?ce:U.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();t.unstable_now=function(){return h.now()-y}}var v=[],g=[],x=1,T=null,C=3,E=!1,_=!1,N=!1,F=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function B(U){for(var G=l(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=U)o(g),G.sortIndex=G.expirationTime,n(v,G);else break;G=l(g)}}function W(U){if(N=!1,B(U),!_)if(l(v)!==null)_=!0,te||(te=!0,fe());else{var G=l(g);G!==null&&re(W,G.startTime-U)}}var te=!1,D=-1,he=5,le=-1;function ue(){return F?!0:!(t.unstable_now()-le<he)}function oe(){if(F=!1,te){var U=t.unstable_now();le=U;var G=!0;try{e:{_=!1,N&&(N=!1,J(D),D=-1),E=!0;var ce=C;try{t:{for(B(U),T=l(v);T!==null&&!(T.expirationTime>U&&ue());){var ye=T.callback;if(typeof ye=="function"){T.callback=null,C=T.priorityLevel;var X=ye(T.expirationTime<=U);if(U=t.unstable_now(),typeof X=="function"){T.callback=X,B(U),G=!0;break t}T===l(v)&&o(v),B(U)}else o(v);T=l(v)}if(T!==null)G=!0;else{var A=l(g);A!==null&&re(W,A.startTime-U),G=!1}}break e}finally{T=null,C=ce,E=!1}G=void 0}}finally{G?fe():te=!1}}}var fe;if(typeof j=="function")fe=function(){j(oe)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,O=Ne.port2;Ne.port1.onmessage=oe,fe=function(){O.postMessage(null)}}else fe=function(){z(oe,0)};function re(U,G){D=z(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(U){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var ce=C;C=G;try{return U()}finally{C=ce}},t.unstable_requestPaint=function(){F=!0},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ce=C;C=U;try{return G()}finally{C=ce}},t.unstable_scheduleCallback=function(U,G,ce){var ye=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ye+ce:ye):ce=ye,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,U={id:x++,callback:G,priorityLevel:U,startTime:ce,expirationTime:X,sortIndex:-1},ce>ye?(U.sortIndex=ce,n(g,U),l(v)===null&&U===l(g)&&(N?(J(D),D=-1):N=!0,re(W,ce-ye))):(U.sortIndex=X,n(v,U),_||E||(_=!0,te||(te=!0,fe()))),U},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(U){var G=C;return function(){var ce=C;C=G;try{return U.apply(this,arguments)}finally{C=ce}}}})(wu)),wu}var xh;function uv(){return xh||(xh=1,_u.exports=rv()),_u.exports}var Mu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function cv(){if(Sh)return Et;Sh=1;var t=Hu();function n(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,g,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:v,containerInfo:g,implementation:x}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Et.createPortal=function(v,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(v,g,null,x)},Et.flushSync=function(v){var g=h.T,x=o.p;try{if(h.T=null,o.p=2,v)return v()}finally{h.T=g,o.p=x,o.d.f()}},Et.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(v,g))},Et.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Et.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var x=g.as,T=y(x,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?o.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:E}):x==="script"&&o.d.X(v,{crossOrigin:T,integrity:C,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Et.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=y(g.as,g.crossOrigin);o.d.M(v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(v)},Et.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,T=y(x,g.crossOrigin);o.d.L(v,x,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Et.preloadModule=function(v,g){if(typeof v=="string")if(g){var x=y(g.as,g.crossOrigin);o.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(v)},Et.requestFormReset=function(v){o.d.r(v)},Et.unstable_batchedUpdates=function(v,g){return v(g)},Et.useFormState=function(v,g,x){return h.H.useFormState(v,g,x)},Et.useFormStatus=function(){return h.H.useHostTransitionStatus()},Et.version="19.2.0",Et}var Th;function dv(){if(Th)return Mu.exports;Th=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Mu.exports=cv(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function fv(){if(Ch)return Nl;Ch=1;var t=uv(),n=Hu(),l=dv();function o(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(o(188))}function g(e){var i=e.alternate;if(!i){if(i=f(e),i===null)throw Error(o(188));return i!==e?null:e}for(var s=e,a=i;;){var m=s.return;if(m===null)break;var p=m.alternate;if(p===null){if(a=m.return,a!==null){s=a;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===s)return v(m),e;if(p===a)return v(m),i;p=p.sibling}throw Error(o(188))}if(s.return!==a.return)s=m,a=p;else{for(var S=!1,b=m.child;b;){if(b===s){S=!0,s=m,a=p;break}if(b===a){S=!0,a=m,s=p;break}b=b.sibling}if(!S){for(b=p.child;b;){if(b===s){S=!0,s=p,a=m;break}if(b===a){S=!0,a=p,s=m;break}b=b.sibling}if(!S)throw Error(o(189))}}if(s.alternate!==a)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:i}function x(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=x(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Symbol.for("react.client.reference");function O(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case z:return"Profiler";case F:return"StrictMode";case W:return"Suspense";case te:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case j:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case B:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:O(e.type)||"Memo";case he:i=e._payload,e=e._init;try{return O(e(i))}catch{}}return null}var re=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ye=[],X=-1;function A(e){return{current:e}}function V(e){0>X||(e.current=ye[X],ye[X]=null,X--)}function L(e,i){X++,ye[X]=e.current,e.current=i}var de=A(null),be=A(null),Me=A(null),K=A(null);function pe(e,i){switch(L(Me,i),L(be,e),L(de,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=zm(i),e=Pm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(de),L(de,e)}function Se(){V(de),V(be),V(Me)}function _e(e){e.memoizedState!==null&&L(K,e);var i=de.current,s=Pm(i,e.type);i!==s&&(L(be,e),L(de,s))}function tn(e){be.current===e&&(V(de),V(be)),K.current===e&&(V(K),Sl._currentValue=ce)}var zn,Pn;function nn(e){if(zn===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);zn=i&&i[1]||"",Pn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+e+Pn}var Ms=!1;function Is(e,i){if(!e||Ms)return"";Ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(H){var P=H}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(H){P=H}e.call(ee.prototype)}}else{try{throw Error()}catch(H){P=H}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),S=p[0],b=p[1];if(S&&b){var w=S.split(`
`),q=b.split(`
`);for(m=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(a===w.length||m===q.length)for(a=w.length-1,m=q.length-1;1<=a&&0<=m&&w[a]!==q[m];)m--;for(;1<=a&&0<=m;a--,m--)if(w[a]!==q[m]){if(a!==1||m!==1)do if(a--,m--,0>m||w[a]!==q[m]){var Q=`
`+w[a].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=a&&0<=m);break}}}finally{Ms=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?nn(s):""}function aa(e,i){switch(e.tag){case 26:case 27:case 5:return nn(e.type);case 16:return nn("Lazy");case 13:return e.child!==i&&i!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return Is(e.type,!1);case 11:return Is(e.type.render,!1);case 1:return Is(e.type,!0);case 31:return nn("Activity");default:return""}}function Il(e){try{var i="",s=null;do i+=aa(e,s),s=e,e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var qi=Object.prototype.hasOwnProperty,Rs=t.unstable_scheduleCallback,zi=t.unstable_cancelCallback,ra=t.unstable_shouldYield,ua=t.unstable_requestPaint,At=t.unstable_now,ca=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,$=t.unstable_UserBlockingPriority,ie=t.unstable_NormalPriority,se=t.unstable_LowPriority,ae=t.unstable_IdlePriority,me=t.log,ve=t.unstable_setDisableYieldValue,Ue=null,Pe=null;function lt(e){if(typeof me=="function"&&ve(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ue,e)}catch{}}var He=Math.clz32?Math.clz32:da,un=Math.log,Ds=Math.LN2;function da(e){return e>>>=0,e===0?32:31-(un(e)/Ds|0)|0}var Rl=256,Dl=262144,Ul=4194304;function mi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kl(e,i,s){var a=e.pendingLanes;if(a===0)return 0;var m=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~p,a!==0?m=mi(a):(S&=b,S!==0?m=mi(S):s||(s=b&~e,s!==0&&(m=mi(s))))):(b=a&~p,b!==0?m=mi(b):S!==0?m=mi(S):s||(s=a&~e,s!==0&&(m=mi(s)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:m}function Us(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Yg(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var e=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),e}function fa(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function ks(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jg(e,i,s,a,m,p){var S=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,q=e.hiddenUpdates;for(s=S&~s;0<s;){var Q=31-He(s),ee=1<<Q;b[Q]=0,w[Q]=-1;var P=q[Q];if(P!==null)for(q[Q]=null,Q=0;Q<P.length;Q++){var H=P[Q];H!==null&&(H.lane&=-536870913)}s&=~ee}a!==0&&vc(e,a,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~i))}function vc(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var a=31-He(i);e.entangledLanes|=i,e.entanglements[a]=e.entanglements[a]|1073741824|s&261930}function xc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var a=31-He(s),m=1<<a;m&i|e[a]&i&&(e[a]|=i),s&=~m}}function Sc(e,i){var s=i&-i;return s=(s&42)!==0?1:ma(s),(s&(e.suspendedLanes|i))!==0?0:s}function ma(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ha(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:ah(e.type))}function Cc(e,i){var s=G.p;try{return G.p=e,i()}finally{G.p=s}}var Bn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Bn,Mt="__reactProps$"+Bn,Pi="__reactContainer$"+Bn,pa="__reactEvents$"+Bn,Qg="__reactListeners$"+Bn,Kg="__reactHandles$"+Bn,bc="__reactResources$"+Bn,Ls="__reactMarker$"+Bn;function ga(e){delete e[xt],delete e[Mt],delete e[pa],delete e[Qg],delete e[Kg]}function Bi(e){var i=e[xt];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Pi]||s[xt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Fm(e);e!==null;){if(s=e[xt])return s;e=Fm(e)}return i}e=s,s=e.parentNode}return null}function ji(e){if(e=e[xt]||e[Pi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function qs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(o(33))}function Gi(e){var i=e[bc];return i||(i=e[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(e){e[Ls]=!0}var Ec=new Set,Nc={};function hi(e,i){Vi(e,i),Vi(e+"Capture",i)}function Vi(e,i){for(Nc[e]=i,e=0;e<i.length;e++)Ec.add(i[e])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},_c={};function Xg(e){return qi.call(_c,e)?!0:qi.call(Ac,e)?!1:$g.test(e)?_c[e]=!0:(Ac[e]=!0,!1)}function Ll(e,i,s){if(Xg(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function ql(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function pn(e,i,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+a)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zg(e,i,s){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,p=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){s=""+S,p.call(this,S)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ya(e){if(!e._valueTracker){var i=wc(e)?"checked":"value";e._valueTracker=Zg(e,i,""+e[i])}}function Mc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return e&&(a=wc(e)?e.checked?"true":"false":e.value),e=a,e!==s?(i.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wg=/[\n"\\]/g;function Ft(e){return e.replace(Wg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(e,i,s,a,m,p,S,b){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ot(i)):e.value!==""+Ot(i)&&(e.value=""+Ot(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?xa(e,S,Ot(i)):s!=null?xa(e,S,Ot(s)):a!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ot(b):e.removeAttribute("name")}function Ic(e,i,s,a,m,p,S,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){ya(e);return}s=s!=null?""+Ot(s):"",i=i!=null?""+Ot(i):s,b||i===e.value||(e.value=i),e.defaultValue=i}a=a??m,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ya(e)}function xa(e,i,s){i==="number"&&zl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Hi(e,i,s,a){if(e=e.options,i){i={};for(var m=0;m<s.length;m++)i["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=i.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ot(s),i=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,a&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Rc(e,i,s){if(i!=null&&(i=""+Ot(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Ot(s):""}function Dc(e,i,s,a){if(i==null){if(a!=null){if(s!=null)throw Error(o(92));if(re(a)){if(1<a.length)throw Error(o(93));a=a[0]}s=a}s==null&&(s=""),i=s}s=Ot(i),e.defaultValue=s,a=e.textContent,a===s&&a!==""&&a!==null&&(e.value=a),ya(e)}function Oi(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(e,i,s){var a=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":a?e.setProperty(i,s):typeof s!="number"||s===0||e0.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function kc(e,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(e=e.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var m in i)a=i[m],i.hasOwnProperty(m)&&s[m]!==a&&Uc(e,m,a)}else for(var p in i)i.hasOwnProperty(p)&&Uc(e,p,i[p])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(e){return n0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function gn(){}var Ta=null;function Ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Yi=null;function Lc(e){var i=ji(e);if(i&&(e=i.stateNode)){var s=e[Mt]||null;e:switch(e=i.stateNode,i.type){case"input":if(va(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ft(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==e&&a.form===e.form){var m=a[Mt]||null;if(!m)throw Error(o(90));va(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<s.length;i++)a=s[i],a.form===e.form&&Mc(a)}break e;case"textarea":Rc(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Hi(e,!!s.multiple,i,!1)}}}var ba=!1;function qc(e,i,s){if(ba)return e(i,s);ba=!0;try{var a=e(i);return a}finally{if(ba=!1,(Fi!==null||Yi!==null)&&(Ao(),Fi&&(i=Fi,e=Yi,Yi=Fi=null,Lc(i),e)))for(i=0;i<e.length;i++)Lc(e[i])}}function zs(e,i){var s=e.stateNode;if(s===null)return null;var a=s[Mt]||null;if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(yn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Ea=!1}var jn=null,Na=null,Bl=null;function zc(){if(Bl)return Bl;var e,i=Na,s=i.length,a,m="value"in jn?jn.value:jn.textContent,p=m.length;for(e=0;e<s&&i[e]===m[e];e++);var S=s-e;for(a=1;a<=S&&i[s-a]===m[p-a];a++);return Bl=m.slice(e,1<a?1-a:void 0)}function jl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Pc(){return!1}function It(e){function i(s,a,m,p,S){this._reactName=s,this._targetInst=m,this.type=a,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Gl:Pc,this.isPropagationStopped=Pc,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),i}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=It(pi),Bs=T({},pi,{view:0,detail:0}),i0=It(Bs),Aa,_a,js,Hl=T({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(Aa=e.screenX-js.screenX,_a=e.screenY-js.screenY):_a=Aa=0,js=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),Bc=It(Hl),s0=T({},Hl,{dataTransfer:0}),l0=It(s0),o0=T({},Bs,{relatedTarget:0}),wa=It(o0),a0=T({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),r0=It(a0),u0=T({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c0=It(u0),d0=T({},pi,{data:0}),jc=It(d0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=h0[e])?!!i[e]:!1}function Ma(){return p0}var g0=T({},Bs,{key:function(e){if(e.key){var i=f0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y0=It(g0),v0=T({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=It(v0),x0=T({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),S0=It(x0),T0=T({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0=It(T0),b0=T({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E0=It(b0),N0=T({},pi,{newState:0,oldState:0}),A0=It(N0),_0=[9,13,27,32],Ia=yn&&"CompositionEvent"in window,Gs=null;yn&&"documentMode"in document&&(Gs=document.documentMode);var w0=yn&&"TextEvent"in window&&!Gs,Vc=yn&&(!Ia||Gs&&8<Gs&&11>=Gs),Hc=" ",Oc=!1;function Fc(e,i){switch(e){case"keyup":return _0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function M0(e,i){switch(e){case"compositionend":return Yc(i);case"keypress":return i.which!==32?null:(Oc=!0,Hc);case"textInput":return e=i.data,e===Hc&&Oc?null:e;default:return null}}function I0(e,i){if(Ji)return e==="compositionend"||!Ia&&Fc(e,i)?(e=zc(),Bl=Na=jn=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vc&&i.locale!=="ko"?null:i.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!R0[e.type]:i==="textarea"}function Qc(e,i,s,a){Fi?Yi?Yi.push(a):Yi=[a]:Fi=a,i=Uo(i,"onChange"),0<i.length&&(s=new Vl("onChange","change",null,s,a),e.push({event:s,listeners:i}))}var Vs=null,Hs=null;function D0(e){Rm(e,0)}function Ol(e){var i=qs(e);if(Mc(i))return e}function Kc(e,i){if(e==="change")return i}var $c=!1;if(yn){var Ra;if(yn){var Da="oninput"in document;if(!Da){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Da=typeof Xc.oninput=="function"}Ra=Da}else Ra=!1;$c=Ra&&(!document.documentMode||9<document.documentMode)}function Zc(){Vs&&(Vs.detachEvent("onpropertychange",Wc),Hs=Vs=null)}function Wc(e){if(e.propertyName==="value"&&Ol(Hs)){var i=[];Qc(i,Hs,e,Ca(e)),qc(D0,i)}}function U0(e,i,s){e==="focusin"?(Zc(),Vs=i,Hs=s,Vs.attachEvent("onpropertychange",Wc)):e==="focusout"&&Zc()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Hs)}function L0(e,i){if(e==="click")return Ol(i)}function q0(e,i){if(e==="input"||e==="change")return Ol(i)}function z0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zt=typeof Object.is=="function"?Object.is:z0;function Os(e,i){if(zt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var m=s[a];if(!qi.call(i,m)||!zt(e[m],i[m]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,i){var s=ed(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=i&&a>=i)return{node:s,offset:i-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ed(s)}}function nd(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?nd(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zl(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=zl(e.document)}return i}function Ua(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var P0=yn&&"documentMode"in document&&11>=document.documentMode,Qi=null,ka=null,Fs=null,La=!1;function sd(e,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;La||Qi==null||Qi!==zl(a)||(a=Qi,"selectionStart"in a&&Ua(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fs&&Os(Fs,a)||(Fs=a,a=Uo(ka,"onSelect"),0<a.length&&(i=new Vl("onSelect","select",null,i,s),e.push({event:i,listeners:a}),i.target=Qi)))}function gi(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Ki={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},qa={},ld={};yn&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function yi(e){if(qa[e])return qa[e];if(!Ki[e])return e;var i=Ki[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in ld)return qa[e]=i[s];return e}var od=yi("animationend"),ad=yi("animationiteration"),rd=yi("animationstart"),B0=yi("transitionrun"),j0=yi("transitionstart"),G0=yi("transitioncancel"),ud=yi("transitionend"),cd=new Map,za="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");za.push("scrollEnd");function sn(e,i){cd.set(e,i),hi(i,[e])}var Fl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],$i=0,Pa=0;function Yl(){for(var e=$i,i=Pa=$i=0;i<e;){var s=Yt[i];Yt[i++]=null;var a=Yt[i];Yt[i++]=null;var m=Yt[i];Yt[i++]=null;var p=Yt[i];if(Yt[i++]=null,a!==null&&m!==null){var S=a.pending;S===null?m.next=m:(m.next=S.next,S.next=m),a.pending=m}p!==0&&dd(s,m,p)}}function Jl(e,i,s,a){Yt[$i++]=e,Yt[$i++]=i,Yt[$i++]=s,Yt[$i++]=a,Pa|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ba(e,i,s,a){return Jl(e,i,s,a),Ql(e)}function vi(e,i){return Jl(e,null,null,i),Ql(e)}function dd(e,i,s){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s);for(var m=!1,p=e.return;p!==null;)p.childLanes|=s,a=p.alternate,a!==null&&(a.childLanes|=s),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&i!==null&&(m=31-He(s),e=p.hiddenUpdates,a=e[m],a===null?e[m]=[i]:a.push(i),i.lane=s|536870912),p):null}function Ql(e){if(50<ml)throw ml=0,Qr=null,Error(o(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Xi={};function V0(e,i,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,i,s,a){return new V0(e,i,s,a)}function ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,i){var s=e.alternate;return s===null?(s=Pt(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function fd(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Kl(e,i,s,a,m,p){var S=0;if(a=e,typeof e=="function")ja(e)&&(S=1);else if(typeof e=="string")S=Jy(e,s,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Pt(31,s,i,m),e.elementType=le,e.lanes=p,e;case N:return xi(s.children,m,p,i);case F:S=8,m|=24;break;case z:return e=Pt(12,s,i,m|2),e.elementType=z,e.lanes=p,e;case W:return e=Pt(13,s,i,m),e.elementType=W,e.lanes=p,e;case te:return e=Pt(19,s,i,m),e.elementType=te,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:S=10;break e;case J:S=9;break e;case B:S=11;break e;case D:S=14;break e;case he:S=16,a=null;break e}S=29,s=Error(o(130,e===null?"null":typeof e,"")),a=null}return i=Pt(S,s,i,m),i.elementType=e,i.type=a,i.lanes=p,i}function xi(e,i,s,a){return e=Pt(7,e,a,i),e.lanes=s,e}function Ga(e,i,s){return e=Pt(6,e,null,i),e.lanes=s,e}function md(e){var i=Pt(18,null,null,0);return i.stateNode=e,i}function Va(e,i,s){return i=Pt(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var hd=new WeakMap;function Jt(e,i){if(typeof e=="object"&&e!==null){var s=hd.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Il(i)},hd.set(e,i),i)}return{value:e,source:i,stack:Il(i)}}var Zi=[],Wi=0,$l=null,Ys=0,Qt=[],Kt=0,Gn=null,cn=1,dn="";function xn(e,i){Zi[Wi++]=Ys,Zi[Wi++]=$l,$l=e,Ys=i}function pd(e,i,s){Qt[Kt++]=cn,Qt[Kt++]=dn,Qt[Kt++]=Gn,Gn=e;var a=cn;e=dn;var m=32-He(a)-1;a&=~(1<<m),s+=1;var p=32-He(i)+m;if(30<p){var S=m-m%5;p=(a&(1<<S)-1).toString(32),a>>=S,m-=S,cn=1<<32-He(i)+m|s<<m|a,dn=p+e}else cn=1<<p|s<<m|a,dn=e}function Ha(e){e.return!==null&&(xn(e,1),pd(e,1,0))}function Oa(e){for(;e===$l;)$l=Zi[--Wi],Zi[Wi]=null,Ys=Zi[--Wi],Zi[Wi]=null;for(;e===Gn;)Gn=Qt[--Kt],Qt[Kt]=null,dn=Qt[--Kt],Qt[Kt]=null,cn=Qt[--Kt],Qt[Kt]=null}function gd(e,i){Qt[Kt++]=cn,Qt[Kt++]=dn,Qt[Kt++]=Gn,cn=i.id,dn=i.overflow,Gn=e}var St=null,et=null,Ve=!1,Vn=null,$t=!1,Fa=Error(o(519));function Hn(e){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Js(Jt(i,e)),Fa}function yd(e){var i=e.stateNode,s=e.type,a=e.memoizedProps;switch(i[xt]=e,i[Mt]=a,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<pl.length;s++)ze(pl[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Ic(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Dc(i,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||a.suppressHydrationWarning===!0||Lm(i.textContent,s)?(a.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),a.onScroll!=null&&ze("scroll",i),a.onScrollEnd!=null&&ze("scrollend",i),a.onClick!=null&&(i.onclick=gn),i=!0):i=!1,i||Hn(e,!0)}function vd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:St=St.return}}function es(e){if(e!==St)return!1;if(!Ve)return vd(e),Ve=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||uu(e.type,e.memoizedProps)),s=!s),s&&et&&Hn(e),vd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));et=Om(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));et=Om(e)}else i===27?(i=et,ii(e.type)?(e=hu,hu=null,et=e):et=i):et=St?Zt(e.stateNode.nextSibling):null;return!0}function Si(){et=St=null,Ve=!1}function Ya(){var e=Vn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Vn=null),e}function Js(e){Vn===null?Vn=[e]:Vn.push(e)}var Ja=A(null),Ti=null,Sn=null;function On(e,i,s){L(Ja,i._currentValue),i._currentValue=s}function Tn(e){e._currentValue=Ja.current,V(Ja)}function Qa(e,i,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),e===s)break;e=e.return}}function Ka(e,i,s,a){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=m;for(var w=0;w<i.length;w++)if(b.context===i[w]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Qa(p.return,s,e),a||(S=null);break e}p=b.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(o(341));S.lanes|=s,p=S.alternate,p!==null&&(p.lanes|=s),Qa(S,s,e),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===e){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function ts(e,i,s,a){e=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var b=m.type;zt(m.pendingProps.value,S.value)||(e!==null?e.push(b):e=[b])}}else if(m===K.current){if(S=m.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}m=m.return}e!==null&&Ka(i,e,s,a),i.flags|=262144}function Xl(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){Ti=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return xd(Ti,e)}function Zl(e,i){return Ti===null&&Ci(e),xd(e,i)}function xd(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Sn===null){if(e===null)throw Error(o(308));Sn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Sn=Sn.next=i;return s}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,a){e.push(a)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},O0=t.unstable_scheduleCallback,F0=t.unstable_NormalPriority,ct={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new H0,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&O0(F0,function(){e.controller.abort()})}var Ks=null,Xa=0,ns=0,is=null;function Y0(e,i){if(Ks===null){var s=Ks=[];Xa=0,ns=eu(),is={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Xa++,i.then(Sd,Sd),i}function Sd(){if(--Xa===0&&Ks!==null){is!==null&&(is.status="fulfilled");var e=Ks;Ks=null,ns=0,is=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function J0(e,i){var s=[],a={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return e.then(function(){a.status="fulfilled",a.value=i;for(var m=0;m<s.length;m++)(0,s[m])(i)},function(m){for(a.status="rejected",a.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),a}var Td=U.S;U.S=function(e,i){lm=At(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Y0(e,i),Td!==null&&Td(e,i)};var bi=A(null);function Za(){var e=bi.current;return e!==null?e:We.pooledCache}function Wl(e,i){i===null?L(bi,bi.current):L(bi,i.pool)}function Cd(){var e=Za();return e===null?null:{parent:ct._currentValue,pool:e}}var ss=Error(o(460)),Wa=Error(o(474)),eo=Error(o(542)),to={then:function(){}};function bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ed(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(gn,gn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ad(e),e;default:if(typeof i.status=="string")i.then(gn,gn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=i,e.status="pending",e.then(function(a){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=a}},function(a){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ad(e),e}throw Ni=i,ss}}function Ei(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ni=s,ss):s}}var Ni=null;function Nd(){if(Ni===null)throw Error(o(459));var e=Ni;return Ni=null,e}function Ad(e){if(e===ss||e===eo)throw Error(o(483))}var ls=null,$s=0;function no(e){var i=$s;return $s+=1,ls===null&&(ls=[]),Ed(ls,e,i)}function Xs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function io(e,i){throw i.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(i),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _d(e){function i(R,M){if(e){var k=R.deletions;k===null?(R.deletions=[M],R.flags|=16):k.push(M)}}function s(R,M){if(!e)return null;for(;M!==null;)i(R,M),M=M.sibling;return null}function a(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function m(R,M){return R=vn(R,M),R.index=0,R.sibling=null,R}function p(R,M,k){return R.index=k,e?(k=R.alternate,k!==null?(k=k.index,k<M?(R.flags|=67108866,M):k):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,M,k,Z){return M===null||M.tag!==6?(M=Ga(k,R.mode,Z),M.return=R,M):(M=m(M,k),M.return=R,M)}function w(R,M,k,Z){var Ae=k.type;return Ae===N?Q(R,M,k.props.children,Z,k.key):M!==null&&(M.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===he&&Ei(Ae)===M.type)?(M=m(M,k.props),Xs(M,k),M.return=R,M):(M=Kl(k.type,k.key,k.props,null,R.mode,Z),Xs(M,k),M.return=R,M)}function q(R,M,k,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Va(k,R.mode,Z),M.return=R,M):(M=m(M,k.children||[]),M.return=R,M)}function Q(R,M,k,Z,Ae){return M===null||M.tag!==7?(M=xi(k,R.mode,Z,Ae),M.return=R,M):(M=m(M,k),M.return=R,M)}function ee(R,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ga(""+M,R.mode,k),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return k=Kl(M.type,M.key,M.props,null,R.mode,k),Xs(k,M),k.return=R,k;case _:return M=Va(M,R.mode,k),M.return=R,M;case he:return M=Ei(M),ee(R,M,k)}if(re(M)||fe(M))return M=xi(M,R.mode,k,null),M.return=R,M;if(typeof M.then=="function")return ee(R,no(M),k);if(M.$$typeof===j)return ee(R,Zl(R,M),k);io(R,M)}return null}function P(R,M,k,Z){var Ae=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Ae!==null?null:b(R,M,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===Ae?w(R,M,k,Z):null;case _:return k.key===Ae?q(R,M,k,Z):null;case he:return k=Ei(k),P(R,M,k,Z)}if(re(k)||fe(k))return Ae!==null?null:Q(R,M,k,Z,null);if(typeof k.then=="function")return P(R,M,no(k),Z);if(k.$$typeof===j)return P(R,M,Zl(R,k),Z);io(R,k)}return null}function H(R,M,k,Z,Ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return R=R.get(k)||null,b(M,R,""+Z,Ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return R=R.get(Z.key===null?k:Z.key)||null,w(M,R,Z,Ae);case _:return R=R.get(Z.key===null?k:Z.key)||null,q(M,R,Z,Ae);case he:return Z=Ei(Z),H(R,M,k,Z,Ae)}if(re(Z)||fe(Z))return R=R.get(k)||null,Q(M,R,Z,Ae,null);if(typeof Z.then=="function")return H(R,M,k,no(Z),Ae);if(Z.$$typeof===j)return H(R,M,k,Zl(M,Z),Ae);io(M,Z)}return null}function xe(R,M,k,Z){for(var Ae=null,Oe=null,Te=M,ke=M=0,je=null;Te!==null&&ke<k.length;ke++){Te.index>ke?(je=Te,Te=null):je=Te.sibling;var Fe=P(R,Te,k[ke],Z);if(Fe===null){Te===null&&(Te=je);break}e&&Te&&Fe.alternate===null&&i(R,Te),M=p(Fe,M,ke),Oe===null?Ae=Fe:Oe.sibling=Fe,Oe=Fe,Te=je}if(ke===k.length)return s(R,Te),Ve&&xn(R,ke),Ae;if(Te===null){for(;ke<k.length;ke++)Te=ee(R,k[ke],Z),Te!==null&&(M=p(Te,M,ke),Oe===null?Ae=Te:Oe.sibling=Te,Oe=Te);return Ve&&xn(R,ke),Ae}for(Te=a(Te);ke<k.length;ke++)je=H(Te,R,ke,k[ke],Z),je!==null&&(e&&je.alternate!==null&&Te.delete(je.key===null?ke:je.key),M=p(je,M,ke),Oe===null?Ae=je:Oe.sibling=je,Oe=je);return e&&Te.forEach(function(ri){return i(R,ri)}),Ve&&xn(R,ke),Ae}function we(R,M,k,Z){if(k==null)throw Error(o(151));for(var Ae=null,Oe=null,Te=M,ke=M=0,je=null,Fe=k.next();Te!==null&&!Fe.done;ke++,Fe=k.next()){Te.index>ke?(je=Te,Te=null):je=Te.sibling;var ri=P(R,Te,Fe.value,Z);if(ri===null){Te===null&&(Te=je);break}e&&Te&&ri.alternate===null&&i(R,Te),M=p(ri,M,ke),Oe===null?Ae=ri:Oe.sibling=ri,Oe=ri,Te=je}if(Fe.done)return s(R,Te),Ve&&xn(R,ke),Ae;if(Te===null){for(;!Fe.done;ke++,Fe=k.next())Fe=ee(R,Fe.value,Z),Fe!==null&&(M=p(Fe,M,ke),Oe===null?Ae=Fe:Oe.sibling=Fe,Oe=Fe);return Ve&&xn(R,ke),Ae}for(Te=a(Te);!Fe.done;ke++,Fe=k.next())Fe=H(Te,R,ke,Fe.value,Z),Fe!==null&&(e&&Fe.alternate!==null&&Te.delete(Fe.key===null?ke:Fe.key),M=p(Fe,M,ke),Oe===null?Ae=Fe:Oe.sibling=Fe,Oe=Fe);return e&&Te.forEach(function(sv){return i(R,sv)}),Ve&&xn(R,ke),Ae}function Ze(R,M,k,Z){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var Ae=k.key;M!==null;){if(M.key===Ae){if(Ae=k.type,Ae===N){if(M.tag===7){s(R,M.sibling),Z=m(M,k.props.children),Z.return=R,R=Z;break e}}else if(M.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===he&&Ei(Ae)===M.type){s(R,M.sibling),Z=m(M,k.props),Xs(Z,k),Z.return=R,R=Z;break e}s(R,M);break}else i(R,M);M=M.sibling}k.type===N?(Z=xi(k.props.children,R.mode,Z,k.key),Z.return=R,R=Z):(Z=Kl(k.type,k.key,k.props,null,R.mode,Z),Xs(Z,k),Z.return=R,R=Z)}return S(R);case _:e:{for(Ae=k.key;M!==null;){if(M.key===Ae)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){s(R,M.sibling),Z=m(M,k.children||[]),Z.return=R,R=Z;break e}else{s(R,M);break}else i(R,M);M=M.sibling}Z=Va(k,R.mode,Z),Z.return=R,R=Z}return S(R);case he:return k=Ei(k),Ze(R,M,k,Z)}if(re(k))return xe(R,M,k,Z);if(fe(k)){if(Ae=fe(k),typeof Ae!="function")throw Error(o(150));return k=Ae.call(k),we(R,M,k,Z)}if(typeof k.then=="function")return Ze(R,M,no(k),Z);if(k.$$typeof===j)return Ze(R,M,Zl(R,k),Z);io(R,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(s(R,M.sibling),Z=m(M,k),Z.return=R,R=Z):(s(R,M),Z=Ga(k,R.mode,Z),Z.return=R,R=Z),S(R)):s(R,M)}return function(R,M,k,Z){try{$s=0;var Ae=Ze(R,M,k,Z);return ls=null,Ae}catch(Te){if(Te===ss||Te===eo)throw Te;var Oe=Pt(29,Te,null,R.mode);return Oe.lanes=Z,Oe.return=R,Oe}finally{}}}var Ai=_d(!0),wd=_d(!1),Fn=!1;function er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,i,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Je&2)!==0){var m=a.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),a.pending=i,i=Ql(e),dd(e,null,s),i}return Jl(e,a,i,s),Ql(e)}function Zs(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,xc(e,s)}}function nr(e,i){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var m=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,s=s.next}while(s!==null);p===null?m=p=i:p=p.next=i}else m=p=i;s={baseState:a.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var ir=!1;function Ws(){if(ir){var e=is;if(e!==null)throw e}}function el(e,i,s,a){ir=!1;var m=e.updateQueue;Fn=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var w=b,q=w.next;w.next=null,S===null?p=q:S.next=q,S=w;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==S&&(b===null?Q.firstBaseUpdate=q:b.next=q,Q.lastBaseUpdate=w))}if(p!==null){var ee=m.baseState;S=0,Q=q=w=null,b=p;do{var P=b.lane&-536870913,H=P!==b.lane;if(H?(Be&P)===P:(a&P)===P){P!==0&&P===ns&&(ir=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=e,we=b;P=i;var Ze=s;switch(we.tag){case 1:if(xe=we.payload,typeof xe=="function"){ee=xe.call(Ze,ee,P);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=we.payload,P=typeof xe=="function"?xe.call(Ze,ee,P):xe,P==null)break e;ee=T({},ee,P);break e;case 2:Fn=!0}}P=b.callback,P!==null&&(e.flags|=64,H&&(e.flags|=8192),H=m.callbacks,H===null?m.callbacks=[P]:H.push(P))}else H={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(q=Q=H,w=ee):Q=Q.next=H,S|=P;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;H=b,b=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);Q===null&&(w=ee),m.baseState=w,m.firstBaseUpdate=q,m.lastBaseUpdate=Q,p===null&&(m.shared.lanes=0),Zn|=S,e.lanes=S,e.memoizedState=ee}}function Md(e,i){if(typeof e!="function")throw Error(o(191,e));e.call(i)}function Id(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Md(s[e],i)}var os=A(null),so=A(0);function Rd(e,i){e=In,L(so,e),L(os,i),In=e|i.baseLanes}function sr(){L(so,In),L(os,os.current)}function lr(){In=so.current,V(os),V(so)}var Bt=A(null),Xt=null;function Qn(e){var i=e.alternate;L(rt,rt.current&1),L(Bt,e),Xt===null&&(i===null||os.current!==null||i.memoizedState!==null)&&(Xt=e)}function or(e){L(rt,rt.current),L(Bt,e),Xt===null&&(Xt=e)}function Dd(e){e.tag===22?(L(rt,rt.current),L(Bt,e),Xt===null&&(Xt=e)):Kn()}function Kn(){L(rt,rt.current),L(Bt,Bt.current)}function jt(e){V(Bt),Xt===e&&(Xt=null),V(rt)}var rt=A(0);function lo(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fu(s)||mu(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cn=0,De=null,$e=null,dt=null,oo=!1,as=!1,_i=!1,ao=0,tl=0,rs=null,Q0=0;function ot(){throw Error(o(321))}function ar(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!zt(e[s],i[s]))return!1;return!0}function rr(e,i,s,a,m,p){return Cn=p,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?gf:br,_i=!1,p=s(a,m),_i=!1,as&&(p=kd(i,s,a,m)),Ud(e),p}function Ud(e){U.H=sl;var i=$e!==null&&$e.next!==null;if(Cn=0,dt=$e=De=null,oo=!1,tl=0,rs=null,i)throw Error(o(300));e===null||ft||(e=e.dependencies,e!==null&&Xl(e)&&(ft=!0))}function kd(e,i,s,a){De=e;var m=0;do{if(as&&(rs=null),tl=0,as=!1,25<=m)throw Error(o(301));if(m+=1,dt=$e=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=yf,p=i(s,a)}while(as);return p}function K0(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(De.flags|=1024),i}function ur(){var e=ao!==0;return ao=0,e}function cr(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function dr(e){if(oo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oo=!1}Cn=0,dt=$e=De=null,as=!1,tl=ao=0,rs=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?De.memoizedState=dt=e:dt=dt.next=e,dt}function ut(){if($e===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var i=dt===null?De.memoizedState:dt.next;if(i!==null)dt=i,$e=e;else{if(e===null)throw De.alternate===null?Error(o(467)):Error(o(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},dt===null?De.memoizedState=dt=e:dt=dt.next=e}return dt}function ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=tl;return tl+=1,rs===null&&(rs=[]),e=Ed(rs,e,i),i=De,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?gf:br),e}function uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===j)return Tt(e)}throw Error(o(438,String(e)))}function fr(e){var i=null,s=De.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var a=De.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ro(),De.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),a=0;a<e;a++)s[a]=ue;return i.index++,s}function bn(e,i){return typeof i=="function"?i(e):i}function co(e){var i=ut();return mr(i,$e,e)}function mr(e,i,s){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=s;var m=e.baseQueue,p=a.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}i.baseQueue=m=p,a.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{i=m.next;var b=S=null,w=null,q=i,Q=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Be&ee)===ee:(Cn&ee)===ee){var P=q.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===ns&&(Q=!0);else if((Cn&P)===P){q=q.next,P===ns&&(Q=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(b=w=ee,S=p):w=w.next=ee,De.lanes|=P,Zn|=P;ee=q.action,_i&&s(p,ee),p=q.hasEagerState?q.eagerState:s(p,ee)}else P={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(b=w=P,S=p):w=w.next=P,De.lanes|=ee,Zn|=ee;q=q.next}while(q!==null&&q!==i);if(w===null?S=p:w.next=b,!zt(p,e.memoizedState)&&(ft=!0,Q&&(s=is,s!==null)))throw s;e.memoizedState=p,e.baseState=S,e.baseQueue=w,a.lastRenderedState=p}return m===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hr(e){var i=ut(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var a=s.dispatch,m=s.pending,p=i.memoizedState;if(m!==null){s.pending=null;var S=m=m.next;do p=e(p,S.action),S=S.next;while(S!==m);zt(p,i.memoizedState)||(ft=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,a]}function Ld(e,i,s){var a=De,m=ut(),p=Ve;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=i();var S=!zt(($e||m).memoizedState,s);if(S&&(m.memoizedState=s,ft=!0),m=m.queue,yr(Pd.bind(null,a,m,e),[e]),m.getSnapshot!==i||S||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,us(9,{destroy:void 0},zd.bind(null,a,m,s,i),null),We===null)throw Error(o(349));p||(Cn&127)!==0||qd(a,i,s)}return s}function qd(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=De.updateQueue,i===null?(i=ro(),De.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function zd(e,i,s,a){i.value=s,i.getSnapshot=a,Bd(i)&&jd(e)}function Pd(e,i,s){return s(function(){Bd(i)&&jd(e)})}function Bd(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!zt(e,s)}catch{return!0}}function jd(e){var i=vi(e,2);i!==null&&Lt(i,e,2)}function pr(e){var i=_t();if(typeof e=="function"){var s=e;if(e=s(),_i){lt(!0);try{s()}finally{lt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},i}function Gd(e,i,s,a){return e.baseState=s,mr(e,$e,typeof a=="function"?a:bn)}function $0(e,i,s,a,m){if(ho(e))throw Error(o(485));if(e=i.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};U.T!==null?s(!0):p.isTransition=!1,a(p),s=i.pending,s===null?(p.next=i.pending=p,Vd(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Vd(e,i){var s=i.action,a=i.payload,m=e.state;if(i.isTransition){var p=U.T,S={};U.T=S;try{var b=s(m,a),w=U.S;w!==null&&w(S,b),Hd(e,i,b)}catch(q){gr(e,i,q)}finally{p!==null&&S.types!==null&&(p.types=S.types),U.T=p}}else try{p=s(m,a),Hd(e,i,p)}catch(q){gr(e,i,q)}}function Hd(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){Od(e,i,a)},function(a){return gr(e,i,a)}):Od(e,i,s)}function Od(e,i,s){i.status="fulfilled",i.value=s,Fd(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Vd(e,s)))}function gr(e,i,s){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=s,Fd(i),i=i.next;while(i!==a)}e.action=null}function Fd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yd(e,i){return i}function Jd(e,i){if(Ve){var s=We.formState;if(s!==null){e:{var a=De;if(Ve){if(et){t:{for(var m=et,p=$t;m.nodeType!==8;){if(!p){m=null;break t}if(m=Zt(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){et=Zt(m.nextSibling),a=m.data==="F!";break e}}Hn(a)}a=!1}a&&(i=s[0])}}return s=_t(),s.memoizedState=s.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:i},s.queue=a,s=mf.bind(null,De,a),a.dispatch=s,a=pr(!1),p=Cr.bind(null,De,!1,a.queue),a=_t(),m={state:i,dispatch:null,action:e,pending:null},a.queue=m,s=$0.bind(null,De,m,p,s),m.dispatch=s,a.memoizedState=e,[i,s,!1]}function Qd(e){var i=ut();return Kd(i,$e,e)}function Kd(e,i,s){if(i=mr(e,i,Yd)[0],e=co(bn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=nl(i)}catch(S){throw S===ss?eo:S}else a=i;i=ut();var m=i.queue,p=m.dispatch;return s!==i.memoizedState&&(De.flags|=2048,us(9,{destroy:void 0},X0.bind(null,m,s),null)),[a,p,e]}function X0(e,i){e.action=i}function $d(e){var i=ut(),s=$e;if(s!==null)return Kd(i,s,e);ut(),i=i.memoizedState,s=ut();var a=s.queue.dispatch;return s.memoizedState=e,[i,a,!1]}function us(e,i,s,a){return e={tag:e,create:s,deps:a,inst:i,next:null},i=De.updateQueue,i===null&&(i=ro(),De.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,i.lastEffect=e),e}function Xd(){return ut().memoizedState}function fo(e,i,s,a){var m=_t();De.flags|=e,m.memoizedState=us(1|i,{destroy:void 0},s,a===void 0?null:a)}function mo(e,i,s,a){var m=ut();a=a===void 0?null:a;var p=m.memoizedState.inst;$e!==null&&a!==null&&ar(a,$e.memoizedState.deps)?m.memoizedState=us(i,p,s,a):(De.flags|=e,m.memoizedState=us(1|i,p,s,a))}function Zd(e,i){fo(8390656,8,e,i)}function yr(e,i){mo(2048,8,e,i)}function Z0(e){De.flags|=4;var i=De.updateQueue;if(i===null)i=ro(),De.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Wd(e){var i=ut().memoizedState;return Z0({ref:i,nextImpl:e}),function(){if((Je&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function ef(e,i){return mo(4,2,e,i)}function tf(e,i){return mo(4,4,e,i)}function nf(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sf(e,i,s){s=s!=null?s.concat([e]):null,mo(4,4,nf.bind(null,i,e),s)}function vr(){}function lf(e,i){var s=ut();i=i===void 0?null:i;var a=s.memoizedState;return i!==null&&ar(i,a[1])?a[0]:(s.memoizedState=[e,i],e)}function of(e,i){var s=ut();i=i===void 0?null:i;var a=s.memoizedState;if(i!==null&&ar(i,a[1]))return a[0];if(a=e(),_i){lt(!0);try{e()}finally{lt(!1)}}return s.memoizedState=[a,i],a}function xr(e,i,s){return s===void 0||(Cn&1073741824)!==0&&(Be&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=am(),De.lanes|=e,Zn|=e,s)}function af(e,i,s,a){return zt(s,i)?s:os.current!==null?(e=xr(e,s,a),zt(e,i)||(ft=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(Be&261930)===0?(ft=!0,e.memoizedState=s):(e=am(),De.lanes|=e,Zn|=e,i)}function rf(e,i,s,a,m){var p=G.p;G.p=p!==0&&8>p?p:8;var S=U.T,b={};U.T=b,Cr(e,!1,i,s);try{var w=m(),q=U.S;if(q!==null&&q(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=J0(w,a);il(e,i,Q,Ht(e))}else il(e,i,a,Ht(e))}catch(ee){il(e,i,{then:function(){},status:"rejected",reason:ee},Ht())}finally{G.p=p,S!==null&&b.types!==null&&(S.types=b.types),U.T=S}}function W0(){}function Sr(e,i,s,a){if(e.tag!==5)throw Error(o(476));var m=uf(e).queue;rf(e,m,i,ce,s===null?W0:function(){return cf(e),s(a)})}function uf(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:ce},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cf(e){var i=uf(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Ht())}function Tr(){return Tt(Sl)}function df(){return ut().memoizedState}function ff(){return ut().memoizedState}function ey(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ht();e=Yn(s);var a=Jn(i,e,s);a!==null&&(Lt(a,i,s),Zs(a,i,s)),i={cache:$a()},e.payload=i;return}i=i.return}}function ty(e,i,s){var a=Ht();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ho(e)?hf(i,s):(s=Ba(e,i,s,a),s!==null&&(Lt(s,e,a),pf(s,i,a)))}function mf(e,i,s){var a=Ht();il(e,i,s,a)}function il(e,i,s,a){var m={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ho(e))hf(i,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,b=p(S,s);if(m.hasEagerState=!0,m.eagerState=b,zt(b,S))return Jl(e,i,m,0),We===null&&Yl(),!1}catch{}finally{}if(s=Ba(e,i,m,a),s!==null)return Lt(s,e,a),pf(s,i,a),!0}return!1}function Cr(e,i,s,a){if(a={lane:2,revertLane:eu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(i)throw Error(o(479))}else i=Ba(e,s,a,2),i!==null&&Lt(i,e,2)}function ho(e){var i=e.alternate;return e===De||i!==null&&i===De}function hf(e,i){as=oo=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function pf(e,i,s){if((s&4194048)!==0){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,xc(e,s)}}var sl={readContext:Tt,use:uo,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};sl.useEffectEvent=ot;var gf={readContext:Tt,use:uo,useCallback:function(e,i){return _t().memoizedState=[e,i===void 0?null:i],e},useContext:Tt,useEffect:Zd,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,fo(4194308,4,nf.bind(null,i,e),s)},useLayoutEffect:function(e,i){return fo(4194308,4,e,i)},useInsertionEffect:function(e,i){fo(4,2,e,i)},useMemo:function(e,i){var s=_t();i=i===void 0?null:i;var a=e();if(_i){lt(!0);try{e()}finally{lt(!1)}}return s.memoizedState=[a,i],a},useReducer:function(e,i,s){var a=_t();if(s!==void 0){var m=s(i);if(_i){lt(!0);try{s(i)}finally{lt(!1)}}}else m=i;return a.memoizedState=a.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},a.queue=e,e=e.dispatch=ty.bind(null,De,e),[a.memoizedState,e]},useRef:function(e){var i=_t();return e={current:e},i.memoizedState=e},useState:function(e){e=pr(e);var i=e.queue,s=mf.bind(null,De,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:vr,useDeferredValue:function(e,i){var s=_t();return xr(s,e,i)},useTransition:function(){var e=pr(!1);return e=rf.bind(null,De,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var a=De,m=_t();if(Ve){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),We===null)throw Error(o(349));(Be&127)!==0||qd(a,i,s)}m.memoizedState=s;var p={value:s,getSnapshot:i};return m.queue=p,Zd(Pd.bind(null,a,p,e),[e]),a.flags|=2048,us(9,{destroy:void 0},zd.bind(null,a,p,s,i),null),s},useId:function(){var e=_t(),i=We.identifierPrefix;if(Ve){var s=dn,a=cn;s=(a&~(1<<32-He(a)-1)).toString(32)+s,i="_"+i+"R_"+s,s=ao++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Q0++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Tr,useFormState:Jd,useActionState:Jd,useOptimistic:function(e){var i=_t();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Cr.bind(null,De,!0,s),s.dispatch=i,[e,i]},useMemoCache:fr,useCacheRefresh:function(){return _t().memoizedState=ey.bind(null,De)},useEffectEvent:function(e){var i=_t(),s={impl:e};return i.memoizedState=s,function(){if((Je&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},br={readContext:Tt,use:uo,useCallback:lf,useContext:Tt,useEffect:yr,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:co,useRef:Xd,useState:function(){return co(bn)},useDebugValue:vr,useDeferredValue:function(e,i){var s=ut();return af(s,$e.memoizedState,e,i)},useTransition:function(){var e=co(bn)[0],i=ut().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Ld,useId:df,useHostTransitionStatus:Tr,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,i){var s=ut();return Gd(s,$e,e,i)},useMemoCache:fr,useCacheRefresh:ff};br.useEffectEvent=Wd;var yf={readContext:Tt,use:uo,useCallback:lf,useContext:Tt,useEffect:yr,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:hr,useRef:Xd,useState:function(){return hr(bn)},useDebugValue:vr,useDeferredValue:function(e,i){var s=ut();return $e===null?xr(s,e,i):af(s,$e.memoizedState,e,i)},useTransition:function(){var e=hr(bn)[0],i=ut().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Ld,useId:df,useHostTransitionStatus:Tr,useFormState:$d,useActionState:$d,useOptimistic:function(e,i){var s=ut();return $e!==null?Gd(s,$e,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:fr,useCacheRefresh:ff};yf.useEffectEvent=Wd;function Er(e,i,s,a){i=e.memoizedState,s=s(a,i),s=s==null?i:T({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nr={enqueueSetState:function(e,i,s){e=e._reactInternals;var a=Ht(),m=Yn(a);m.payload=i,s!=null&&(m.callback=s),i=Jn(e,m,a),i!==null&&(Lt(i,e,a),Zs(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var a=Ht(),m=Yn(a);m.tag=1,m.payload=i,s!=null&&(m.callback=s),i=Jn(e,m,a),i!==null&&(Lt(i,e,a),Zs(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Ht(),a=Yn(s);a.tag=2,i!=null&&(a.callback=i),i=Jn(e,a,s),i!==null&&(Lt(i,e,s),Zs(i,e,s))}};function vf(e,i,s,a,m,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,S):i.prototype&&i.prototype.isPureReactComponent?!Os(s,a)||!Os(m,p):!0}function xf(e,i,s,a){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==e&&Nr.enqueueReplaceState(i,i.state,null)}function wi(e,i){var s=i;if("ref"in i){s={};for(var a in i)a!=="ref"&&(s[a]=i[a])}if(e=e.defaultProps){s===i&&(s=T({},s));for(var m in e)s[m]===void 0&&(s[m]=e[m])}return s}function Sf(e){Fl(e)}function Tf(e){console.error(e)}function Cf(e){Fl(e)}function po(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function bf(e,i,s){try{var a=e.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ar(e,i,s){return s=Yn(s),s.tag=3,s.payload={element:null},s.callback=function(){po(e,i)},s}function Ef(e){return e=Yn(e),e.tag=3,e}function Nf(e,i,s,a){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var p=a.value;e.payload=function(){return m(p)},e.callback=function(){bf(i,s,a)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){bf(i,s,a),typeof m!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function ny(e,i,s,a,m){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=s.alternate,i!==null&&ts(i,s,m,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return Xt===null?_o():s.alternate===null&&at===0&&(at=3),s.flags&=-257,s.flags|=65536,s.lanes=m,a===to?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([a]):i.add(a),Xr(e,a,m)),!1;case 22:return s.flags|=65536,a===to?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([a]):s.add(a)),Xr(e,a,m)),!1}throw Error(o(435,s.tag))}return Xr(e,a,m),_o(),!1}if(Ve)return i=Bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,a!==Fa&&(e=Error(o(422),{cause:a}),Js(Jt(e,s)))):(a!==Fa&&(i=Error(o(423),{cause:a}),Js(Jt(i,s))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,a=Jt(a,s),m=Ar(e.stateNode,a,m),nr(e,m),at!==4&&(at=2)),!1;var p=Error(o(520),{cause:a});if(p=Jt(p,s),fl===null?fl=[p]:fl.push(p),at!==4&&(at=2),i===null)return!0;a=Jt(a,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=m&-m,s.lanes|=e,e=Ar(s.stateNode,a,e),nr(s,e),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wn===null||!Wn.has(p))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Ef(m),Nf(m,e,s,a),nr(s,m),!1}s=s.return}while(s!==null);return!1}var _r=Error(o(461)),ft=!1;function Ct(e,i,s,a){i.child=e===null?wd(i,null,s,a):Ai(i,e.child,s,a)}function Af(e,i,s,a,m){s=s.render;var p=i.ref;if("ref"in a){var S={};for(var b in a)b!=="ref"&&(S[b]=a[b])}else S=a;return Ci(i),a=rr(e,i,s,S,p,m),b=ur(),e!==null&&!ft?(cr(e,i,m),En(e,i,m)):(Ve&&b&&Ha(i),i.flags|=1,Ct(e,i,a,m),i.child)}function _f(e,i,s,a,m){if(e===null){var p=s.type;return typeof p=="function"&&!ja(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,wf(e,i,p,a,m)):(e=Kl(s.type,null,a,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!Lr(e,m)){var S=p.memoizedProps;if(s=s.compare,s=s!==null?s:Os,s(S,a)&&e.ref===i.ref)return En(e,i,m)}return i.flags|=1,e=vn(p,a),e.ref=i.ref,e.return=i,i.child=e}function wf(e,i,s,a,m){if(e!==null){var p=e.memoizedProps;if(Os(p,a)&&e.ref===i.ref)if(ft=!1,i.pendingProps=a=p,Lr(e,m))(e.flags&131072)!==0&&(ft=!0);else return i.lanes=e.lanes,En(e,i,m)}return wr(e,i,s,a,m)}function Mf(e,i,s,a){var m=a.children,p=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,e!==null){for(a=i.child=e.child,m=0;a!==null;)m=m|a.lanes|a.childLanes,a=a.sibling;a=m&~p}else a=0,i.child=null;return If(e,i,p,s,a)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wl(i,p!==null?p.cachePool:null),p!==null?Rd(i,p):sr(),Dd(i);else return a=i.lanes=536870912,If(e,i,p!==null?p.baseLanes|s:s,s,a)}else p!==null?(Wl(i,p.cachePool),Rd(i,p),Kn(),i.memoizedState=null):(e!==null&&Wl(i,null),sr(),Kn());return Ct(e,i,m,s),i.child}function ll(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function If(e,i,s,a,m){var p=Za();return p=p===null?null:{parent:ct._currentValue,pool:p},i.memoizedState={baseLanes:s,cachePool:p},e!==null&&Wl(i,null),sr(),Dd(i),e!==null&&ts(e,i,a,!0),i.childLanes=m,null}function go(e,i){return i=vo({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Rf(e,i,s){return Ai(i,e.child,null,s),e=go(i,i.pendingProps),e.flags|=2,jt(i),i.memoizedState=null,e}function iy(e,i,s){var a=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ve){if(a.mode==="hidden")return e=go(i,a),i.lanes=536870912,ll(null,e);if(or(i),(e=et)?(e=Hm(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=md(e),s.return=i,i.child=s,St=i,et=null)):e=null,e===null)throw Hn(i);return i.lanes=536870912,null}return go(i,a)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(or(i),m)if(i.flags&256)i.flags&=-257,i=Rf(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(o(558));else if(ft||ts(e,i,s,!1),m=(s&e.childLanes)!==0,ft||m){if(a=We,a!==null&&(S=Sc(a,s),S!==0&&S!==p.retryLane))throw p.retryLane=S,vi(e,S),Lt(a,e,S),_r;_o(),i=Rf(e,i,s)}else e=p.treeContext,et=Zt(S.nextSibling),St=i,Ve=!0,Vn=null,$t=!1,e!==null&&gd(i,e),i=go(i,a),i.flags|=4096;return i}return e=vn(e.child,{mode:a.mode,children:a.children}),e.ref=i.ref,i.child=e,e.return=i,e}function yo(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function wr(e,i,s,a,m){return Ci(i),s=rr(e,i,s,a,void 0,m),a=ur(),e!==null&&!ft?(cr(e,i,m),En(e,i,m)):(Ve&&a&&Ha(i),i.flags|=1,Ct(e,i,s,m),i.child)}function Df(e,i,s,a,m,p){return Ci(i),i.updateQueue=null,s=kd(i,a,s,m),Ud(e),a=ur(),e!==null&&!ft?(cr(e,i,p),En(e,i,p)):(Ve&&a&&Ha(i),i.flags|=1,Ct(e,i,s,p),i.child)}function Uf(e,i,s,a,m){if(Ci(i),i.stateNode===null){var p=Xi,S=s.contextType;typeof S=="object"&&S!==null&&(p=Tt(S)),p=new s(a,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nr,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=a,p.state=i.memoizedState,p.refs={},er(i),S=s.contextType,p.context=typeof S=="object"&&S!==null?Tt(S):Xi,p.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Er(i,s,S,a),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Nr.enqueueReplaceState(p,p.state,null),el(i,a,p,m),Ws(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(e===null){p=i.stateNode;var b=i.memoizedProps,w=wi(s,b);p.props=w;var q=p.context,Q=s.contextType;S=Xi,typeof Q=="object"&&Q!==null&&(S=Tt(Q));var ee=s.getDerivedStateFromProps;Q=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||q!==S)&&xf(i,p,a,S),Fn=!1;var P=i.memoizedState;p.state=P,el(i,a,p,m),Ws(),q=i.memoizedState,b||P!==q||Fn?(typeof ee=="function"&&(Er(i,s,ee,a),q=i.memoizedState),(w=Fn||vf(i,s,w,a,P,q,S))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=q),p.props=a,p.state=q,p.context=S,a=w):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{p=i.stateNode,tr(e,i),S=i.memoizedProps,Q=wi(s,S),p.props=Q,ee=i.pendingProps,P=p.context,q=s.contextType,w=Xi,typeof q=="object"&&q!==null&&(w=Tt(q)),b=s.getDerivedStateFromProps,(q=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ee||P!==w)&&xf(i,p,a,w),Fn=!1,P=i.memoizedState,p.state=P,el(i,a,p,m),Ws();var H=i.memoizedState;S!==ee||P!==H||Fn||e!==null&&e.dependencies!==null&&Xl(e.dependencies)?(typeof b=="function"&&(Er(i,s,b,a),H=i.memoizedState),(Q=Fn||vf(i,s,Q,a,P,H,w)||e!==null&&e.dependencies!==null&&Xl(e.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,H,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,H,w)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&P===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&P===e.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=H),p.props=a,p.state=H,p.context=w,a=Q):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&P===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&P===e.memoizedState||(i.flags|=1024),a=!1)}return p=a,yo(e,i),a=(i.flags&128)!==0,p||a?(p=i.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&a?(i.child=Ai(i,e.child,null,m),i.child=Ai(i,null,s,m)):Ct(e,i,s,m),i.memoizedState=p.state,e=i.child):e=En(e,i,m),e}function kf(e,i,s,a){return Si(),i.flags|=256,Ct(e,i,s,a),i.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ir(e){return{baseLanes:e,cachePool:Cd()}}function Rr(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Vt),e}function Lf(e,i,s){var a=i.pendingProps,m=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),S&&(m=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ve){if(m?Qn(i):Kn(),(e=et)?(e=Hm(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=md(e),s.return=i,i.child=s,St=i,et=null)):e=null,e===null)throw Hn(i);return mu(e)?i.lanes=32:i.lanes=536870912,null}var b=a.children;return a=a.fallback,m?(Kn(),m=i.mode,b=vo({mode:"hidden",children:b},m),a=xi(a,m,s,null),b.return=i,a.return=i,b.sibling=a,i.child=b,a=i.child,a.memoizedState=Ir(s),a.childLanes=Rr(e,S,s),i.memoizedState=Mr,ll(null,a)):(Qn(i),Dr(i,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(p)i.flags&256?(Qn(i),i.flags&=-257,i=Ur(e,i,s)):i.memoizedState!==null?(Kn(),i.child=e.child,i.flags|=128,i=null):(Kn(),b=a.fallback,m=i.mode,a=vo({mode:"visible",children:a.children},m),b=xi(b,m,s,null),b.flags|=2,a.return=i,b.return=i,a.sibling=b,i.child=a,Ai(i,e.child,null,s),a=i.child,a.memoizedState=Ir(s),a.childLanes=Rr(e,S,s),i.memoizedState=Mr,i=ll(null,a));else if(Qn(i),mu(b)){if(S=b.nextSibling&&b.nextSibling.dataset,S)var q=S.dgst;S=q,a=Error(o(419)),a.stack="",a.digest=S,Js({value:a,source:null,stack:null}),i=Ur(e,i,s)}else if(ft||ts(e,i,s,!1),S=(s&e.childLanes)!==0,ft||S){if(S=We,S!==null&&(a=Sc(S,s),a!==0&&a!==w.retryLane))throw w.retryLane=a,vi(e,a),Lt(S,e,a),_r;fu(b)||_o(),i=Ur(e,i,s)}else fu(b)?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,et=Zt(b.nextSibling),St=i,Ve=!0,Vn=null,$t=!1,e!==null&&gd(i,e),i=Dr(i,a.children),i.flags|=4096);return i}return m?(Kn(),b=a.fallback,m=i.mode,w=e.child,q=w.sibling,a=vn(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,q!==null?b=vn(q,b):(b=xi(b,m,s,null),b.flags|=2),b.return=i,a.return=i,a.sibling=b,i.child=a,ll(null,a),a=i.child,b=e.child.memoizedState,b===null?b=Ir(s):(m=b.cachePool,m!==null?(w=ct._currentValue,m=m.parent!==w?{parent:w,pool:w}:m):m=Cd(),b={baseLanes:b.baseLanes|s,cachePool:m}),a.memoizedState=b,a.childLanes=Rr(e,S,s),i.memoizedState=Mr,ll(e.child,a)):(Qn(i),s=e.child,e=s.sibling,s=vn(s,{mode:"visible",children:a.children}),s.return=i,s.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=s,i.memoizedState=null,s)}function Dr(e,i){return i=vo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function vo(e,i){return e=Pt(22,e,null,i),e.lanes=0,e}function Ur(e,i,s){return Ai(i,e.child,null,s),e=Dr(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qf(e,i,s){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),Qa(e.return,i,s)}function kr(e,i,s,a,m,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:m,treeForkCount:p}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=s,S.tailMode=m,S.treeForkCount=p)}function zf(e,i,s){var a=i.pendingProps,m=a.revealOrder,p=a.tail;a=a.children;var S=rt.current,b=(S&2)!==0;if(b?(S=S&1|2,i.flags|=128):S&=1,L(rt,S),Ct(e,i,a,s),a=Ve?Ys:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,s,i);else if(e.tag===19)qf(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(s=i.child,m=null;s!==null;)e=s.alternate,e!==null&&lo(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=i.child,i.child=null):(m=s.sibling,s.sibling=null),kr(i,!1,m,s,p,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&lo(e)===null){i.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}kr(i,!0,s,null,p,a);break;case"together":kr(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function En(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Zn|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ts(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(o(153));if(i.child!==null){for(e=i.child,s=vn(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=vn(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Lr(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Xl(e)))}function sy(e,i,s){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),On(i,ct,e.memoizedState.cache),Si();break;case 27:case 5:_e(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:On(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,or(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Qn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Lf(e,i,s):(Qn(i),e=En(e,i,s),e!==null?e.sibling:null);Qn(i);break;case 19:var m=(e.flags&128)!==0;if(a=(s&i.childLanes)!==0,a||(ts(e,i,s,!1),a=(s&i.childLanes)!==0),m){if(a)return zf(e,i,s);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),L(rt,rt.current),a)break;return null;case 22:return i.lanes=0,Mf(e,i,s,i.pendingProps);case 24:On(i,ct,e.memoizedState.cache)}return En(e,i,s)}function Pf(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)ft=!0;else{if(!Lr(e,s)&&(i.flags&128)===0)return ft=!1,sy(e,i,s);ft=(e.flags&131072)!==0}else ft=!1,Ve&&(i.flags&1048576)!==0&&pd(i,Ys,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(e=Ei(i.elementType),i.type=e,typeof e=="function")ja(e)?(a=wi(e,a),i.tag=1,i=Uf(null,i,e,a,s)):(i.tag=0,i=wr(null,i,e,a,s));else{if(e!=null){var m=e.$$typeof;if(m===B){i.tag=11,i=Af(null,i,e,a,s);break e}else if(m===D){i.tag=14,i=_f(null,i,e,a,s);break e}}throw i=O(e)||e,Error(o(306,i,""))}}return i;case 0:return wr(e,i,i.type,i.pendingProps,s);case 1:return a=i.type,m=wi(a,i.pendingProps),Uf(e,i,a,m,s);case 3:e:{if(pe(i,i.stateNode.containerInfo),e===null)throw Error(o(387));a=i.pendingProps;var p=i.memoizedState;m=p.element,tr(e,i),el(i,a,null,s);var S=i.memoizedState;if(a=S.cache,On(i,ct,a),a!==p.cache&&Ka(i,[ct],s,!0),Ws(),a=S.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=kf(e,i,a,s);break e}else if(a!==m){m=Jt(Error(o(424)),i),Js(m),i=kf(e,i,a,s);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=Zt(e.firstChild),St=i,Ve=!0,Vn=null,$t=!0,s=wd(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Si(),a===m){i=En(e,i,s);break e}Ct(e,i,a,s)}i=i.child}return i;case 26:return yo(e,i),e===null?(s=Km(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ve||(s=i.type,e=i.pendingProps,a=ko(Me.current).createElement(s),a[xt]=i,a[Mt]=e,bt(a,s,e),gt(a),i.stateNode=a):i.memoizedState=Km(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _e(i),e===null&&Ve&&(a=i.stateNode=Ym(i.type,i.pendingProps,Me.current),St=i,$t=!0,m=et,ii(i.type)?(hu=m,et=Zt(a.firstChild)):et=m),Ct(e,i,i.pendingProps.children,s),yo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ve&&((m=a=et)&&(a=ky(a,i.type,i.pendingProps,$t),a!==null?(i.stateNode=a,St=i,et=Zt(a.firstChild),$t=!1,m=!0):m=!1),m||Hn(i)),_e(i),m=i.type,p=i.pendingProps,S=e!==null?e.memoizedProps:null,a=p.children,uu(m,p)?a=null:S!==null&&uu(m,S)&&(i.flags|=32),i.memoizedState!==null&&(m=rr(e,i,K0,null,null,s),Sl._currentValue=m),yo(e,i),Ct(e,i,a,s),i.child;case 6:return e===null&&Ve&&((e=s=et)&&(s=Ly(s,i.pendingProps,$t),s!==null?(i.stateNode=s,St=i,et=null,e=!0):e=!1),e||Hn(i)),null;case 13:return Lf(e,i,s);case 4:return pe(i,i.stateNode.containerInfo),a=i.pendingProps,e===null?i.child=Ai(i,null,a,s):Ct(e,i,a,s),i.child;case 11:return Af(e,i,i.type,i.pendingProps,s);case 7:return Ct(e,i,i.pendingProps,s),i.child;case 8:return Ct(e,i,i.pendingProps.children,s),i.child;case 12:return Ct(e,i,i.pendingProps.children,s),i.child;case 10:return a=i.pendingProps,On(i,i.type,a.value),Ct(e,i,a.children,s),i.child;case 9:return m=i.type._context,a=i.pendingProps.children,Ci(i),m=Tt(m),a=a(m),i.flags|=1,Ct(e,i,a,s),i.child;case 14:return _f(e,i,i.type,i.pendingProps,s);case 15:return wf(e,i,i.type,i.pendingProps,s);case 19:return zf(e,i,s);case 31:return iy(e,i,s);case 22:return Mf(e,i,s,i.pendingProps);case 24:return Ci(i),a=Tt(ct),e===null?(m=Za(),m===null&&(m=We,p=$a(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=s),m=p),i.memoizedState={parent:a,cache:m},er(i),On(i,ct,m)):((e.lanes&s)!==0&&(tr(e,i),el(i,null,null,s),Ws()),m=e.memoizedState,p=i.memoizedState,m.parent!==a?(m={parent:a,cache:a},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),On(i,ct,a)):(a=p.cache,On(i,ct,a),a!==m.cache&&Ka(i,[ct],s,!0))),Ct(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Nn(e){e.flags|=4}function qr(e,i,s,a,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(dm())e.flags|=8192;else throw Ni=to,Wa}else e.flags&=-16777217}function Bf(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!eh(i))if(dm())e.flags|=8192;else throw Ni=to,Wa}function xo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?yc():536870912,e.lanes|=i,ms|=i)}function ol(e,i){if(!Ve)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(i)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,a|=m.subtreeFlags&65011712,a|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,a|=m.subtreeFlags,a|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=a,e.childLanes=s,i}function ly(e,i,s){var a=i.pendingProps;switch(Oa(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return s=i.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Tn(ct),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(es(i)?Nn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ya())),tt(i),null;case 26:var m=i.type,p=i.memoizedState;return e===null?(Nn(i),p!==null?(tt(i),Bf(i,p)):(tt(i),qr(i,m,null,a,s))):p?p!==e.memoizedState?(Nn(i),tt(i),Bf(i,p)):(tt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==a&&Nn(i),tt(i),qr(i,m,e,a,s)),null;case 27:if(tn(i),s=Me.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==a&&Nn(i);else{if(!a){if(i.stateNode===null)throw Error(o(166));return tt(i),null}e=de.current,es(i)?yd(i):(e=Ym(m,a,s),i.stateNode=e,Nn(i))}return tt(i),null;case 5:if(tn(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==a&&Nn(i);else{if(!a){if(i.stateNode===null)throw Error(o(166));return tt(i),null}if(p=de.current,es(i))yd(i);else{var S=ko(Me.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?S.createElement(m,{is:a.is}):S.createElement(m)}}p[xt]=i,p[Mt]=a;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=p;e:switch(bt(p,m,a),m){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Nn(i)}}return tt(i),qr(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==a&&Nn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(o(166));if(e=Me.current,es(i)){if(e=i.stateNode,s=i.memoizedProps,a=null,m=St,m!==null)switch(m.tag){case 27:case 5:a=m.memoizedProps}e[xt]=i,e=!!(e.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||Lm(e.nodeValue,s)),e||Hn(i,!0)}else e=ko(e).createTextNode(a),e[xt]=i,i.stateNode=e}return tt(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(a=es(i),s!==null){if(e===null){if(!a)throw Error(o(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[xt]=i}else Si(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),e=!1}else s=Ya(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(jt(i),i):(jt(i),null);if((i.flags&128)!==0)throw Error(o(558))}return tt(i),null;case 13:if(a=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=es(i),a!==null&&a.dehydrated!==null){if(e===null){if(!m)throw Error(o(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[xt]=i}else Si(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),m=!1}else m=Ya(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(jt(i),i):(jt(i),null)}return jt(i),(i.flags&128)!==0?(i.lanes=s,i):(s=a!==null,e=e!==null&&e.memoizedState!==null,s&&(a=i.child,m=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(m=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==m&&(a.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),xo(i,i.updateQueue),tt(i),null);case 4:return Se(),e===null&&su(i.stateNode.containerInfo),tt(i),null;case 10:return Tn(i.type),tt(i),null;case 19:if(V(rt),a=i.memoizedState,a===null)return tt(i),null;if(m=(i.flags&128)!==0,p=a.rendering,p===null)if(m)ol(a,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=lo(e),p!==null){for(i.flags|=128,ol(a,!1),e=p.updateQueue,i.updateQueue=e,xo(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)fd(s,e),s=s.sibling;return L(rt,rt.current&1|2),Ve&&xn(i,a.treeForkCount),i.child}e=e.sibling}a.tail!==null&&At()>Eo&&(i.flags|=128,m=!0,ol(a,!1),i.lanes=4194304)}else{if(!m)if(e=lo(p),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,xo(i,e),ol(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ve)return tt(i),null}else 2*At()-a.renderingStartTime>Eo&&s!==536870912&&(i.flags|=128,m=!0,ol(a,!1),i.lanes=4194304);a.isBackwards?(p.sibling=i.child,i.child=p):(e=a.last,e!==null?e.sibling=p:i.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=At(),e.sibling=null,s=rt.current,L(rt,m?s&1|2:s&1),Ve&&xn(i,a.treeForkCount),e):(tt(i),null);case 22:case 23:return jt(i),lr(),a=i.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(s&536870912)!==0&&(i.flags&128)===0&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),s=i.updateQueue,s!==null&&xo(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048),e!==null&&V(bi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Tn(ct),tt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function oy(e,i){switch(Oa(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Tn(ct),Se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return tn(i),null;case 31:if(i.memoizedState!==null){if(jt(i),i.alternate===null)throw Error(o(340));Si()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(jt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Si()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return V(rt),null;case 4:return Se(),null;case 10:return Tn(i.type),null;case 22:case 23:return jt(i),lr(),e!==null&&V(bi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Tn(ct),null;case 25:return null;default:return null}}function jf(e,i){switch(Oa(i),i.tag){case 3:Tn(ct),Se();break;case 26:case 27:case 5:tn(i);break;case 4:Se();break;case 31:i.memoizedState!==null&&jt(i);break;case 13:jt(i);break;case 19:V(rt);break;case 10:Tn(i.type);break;case 22:case 23:jt(i),lr(),e!==null&&V(bi);break;case 24:Tn(ct)}}function al(e,i){try{var s=i.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var m=a.next;s=m;do{if((s.tag&e)===e){a=void 0;var p=s.create,S=s.inst;a=p(),S.destroy=a}s=s.next}while(s!==m)}}catch(b){Ke(i,i.return,b)}}function $n(e,i,s){try{var a=i.updateQueue,m=a!==null?a.lastEffect:null;if(m!==null){var p=m.next;a=p;do{if((a.tag&e)===e){var S=a.inst,b=S.destroy;if(b!==void 0){S.destroy=void 0,m=i;var w=s,q=b;try{q()}catch(Q){Ke(m,w,Q)}}}a=a.next}while(a!==p)}}catch(Q){Ke(i,i.return,Q)}}function Gf(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Id(i,s)}catch(a){Ke(e,e.return,a)}}}function Vf(e,i,s){s.props=wi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){Ke(e,i,a)}}function rl(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof s=="function"?e.refCleanup=s(a):s.current=a}}catch(m){Ke(e,i,m)}}function fn(e,i){var s=e.ref,a=e.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(m){Ke(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Ke(e,i,m)}else s.current=null}function Hf(e){var i=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(m){Ke(e,e.return,m)}}function zr(e,i,s){try{var a=e.stateNode;wy(a,e.type,s,i),a[Mt]=i}catch(m){Ke(e,e.return,m)}}function Of(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function Pr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Br(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=gn));else if(a!==4&&(a===27&&ii(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Br(e,i,s),e=e.sibling;e!==null;)Br(e,i,s),e=e.sibling}function So(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(a!==4&&(a===27&&ii(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(So(e,i,s),e=e.sibling;e!==null;)So(e,i,s),e=e.sibling}function Ff(e){var i=e.stateNode,s=e.memoizedProps;try{for(var a=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);bt(i,a,s),i[xt]=e,i[Mt]=s}catch(p){Ke(e,e.return,p)}}var An=!1,mt=!1,jr=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,yt=null;function ay(e,i){if(e=e.containerInfo,au=Go,e=id(e),Ua(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var m=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var S=0,b=-1,w=-1,q=0,Q=0,ee=e,P=null;t:for(;;){for(var H;ee!==s||m!==0&&ee.nodeType!==3||(b=S+m),ee!==p||a!==0&&ee.nodeType!==3||(w=S+a),ee.nodeType===3&&(S+=ee.nodeValue.length),(H=ee.firstChild)!==null;)P=ee,ee=H;for(;;){if(ee===e)break t;if(P===s&&++q===m&&(b=S),P===p&&++Q===a&&(w=S),(H=ee.nextSibling)!==null)break;ee=P,P=ee.parentNode}ee=H}s=b===-1||w===-1?null:{start:b,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(ru={focusedElem:e,selectionRange:s},Go=!1,yt=i;yt!==null;)if(i=yt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,yt=e;else for(;yt!==null;){switch(i=yt,p=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)m=e[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,s=i,m=p.memoizedProps,p=p.memoizedState,a=s.stateNode;try{var xe=wi(s.type,m);e=a.getSnapshotBeforeUpdate(xe,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ke(s,s.return,we)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)du(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=i.sibling,e!==null){e.return=i.return,yt=e;break}yt=i.return}}function Jf(e,i,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:wn(e,s),a&4&&al(5,s);break;case 1:if(wn(e,s),a&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(S){Ke(s,s.return,S)}else{var m=wi(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ke(s,s.return,S)}}a&64&&Gf(s),a&512&&rl(s,s.return);break;case 3:if(wn(e,s),a&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Id(e,i)}catch(S){Ke(s,s.return,S)}}break;case 27:i===null&&a&4&&Ff(s);case 26:case 5:wn(e,s),i===null&&a&4&&Hf(s),a&512&&rl(s,s.return);break;case 12:wn(e,s);break;case 31:wn(e,s),a&4&&$f(e,s);break;case 13:wn(e,s),a&4&&Xf(e,s),a&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=gy.bind(null,s),qy(e,s))));break;case 22:if(a=s.memoizedState!==null||An,!a){i=i!==null&&i.memoizedState!==null||mt,m=An;var p=mt;An=a,(mt=i)&&!p?Mn(e,s,(s.subtreeFlags&8772)!==0):wn(e,s),An=m,mt=p}break;case 30:break;default:wn(e,s)}}function Qf(e){var i=e.alternate;i!==null&&(e.alternate=null,Qf(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ga(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,Rt=!1;function _n(e,i,s){for(s=s.child;s!==null;)Kf(e,i,s),s=s.sibling}function Kf(e,i,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ue,s)}catch{}switch(s.tag){case 26:mt||fn(s,i),_n(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:mt||fn(s,i);var a=st,m=Rt;ii(s.type)&&(st=s.stateNode,Rt=!1),_n(e,i,s),yl(s.stateNode),st=a,Rt=m;break;case 5:mt||fn(s,i);case 6:if(a=st,m=Rt,st=null,_n(e,i,s),st=a,Rt=m,st!==null)if(Rt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(p){Ke(s,i,p)}else try{st.removeChild(s.stateNode)}catch(p){Ke(s,i,p)}break;case 18:st!==null&&(Rt?(e=st,Gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ts(e)):Gm(st,s.stateNode));break;case 4:a=st,m=Rt,st=s.stateNode.containerInfo,Rt=!0,_n(e,i,s),st=a,Rt=m;break;case 0:case 11:case 14:case 15:$n(2,s,i),mt||$n(4,s,i),_n(e,i,s);break;case 1:mt||(fn(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"&&Vf(s,i,a)),_n(e,i,s);break;case 21:_n(e,i,s);break;case 22:mt=(a=mt)||s.memoizedState!==null,_n(e,i,s),mt=a;break;default:_n(e,i,s)}}function $f(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ts(e)}catch(s){Ke(i,i.return,s)}}}function Xf(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(s){Ke(i,i.return,s)}}function ry(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Yf),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Yf),i;default:throw Error(o(435,e.tag))}}function To(e,i){var s=ry(e);i.forEach(function(a){if(!s.has(a)){s.add(a);var m=yy.bind(null,e,a);a.then(m,m)}})}function Dt(e,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var m=s[a],p=e,S=i,b=S;e:for(;b!==null;){switch(b.tag){case 27:if(ii(b.type)){st=b.stateNode,Rt=!1;break e}break;case 5:st=b.stateNode,Rt=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,Rt=!0;break e}b=b.return}if(st===null)throw Error(o(160));Kf(p,S,m),st=null,Rt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zf(i,e),i=i.sibling}var ln=null;function Zf(e,i){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(i,e),Ut(e),a&4&&($n(3,e,e.return),al(3,e),$n(5,e,e.return));break;case 1:Dt(i,e),Ut(e),a&512&&(mt||s===null||fn(s,s.return)),a&64&&An&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var m=ln;if(Dt(i,e),Ut(e),a&512&&(mt||s===null||fn(s,s.return)),a&4){var p=s!==null?s.memoizedState:null;if(a=e.memoizedState,s===null)if(a===null)if(e.stateNode===null){e:{a=e.type,s=e.memoizedProps,m=m.ownerDocument||m;t:switch(a){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Ls]||p[xt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(a),m.head.insertBefore(p,m.querySelector("head > title"))),bt(p,a,s),p[xt]=e,gt(p),a=p;break e;case"link":var S=Zm("link","href",m).get(a+(s.href||""));if(S){for(var b=0;b<S.length;b++)if(p=S[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(b,1);break t}}p=m.createElement(a),bt(p,a,s),m.head.appendChild(p);break;case"meta":if(S=Zm("meta","content",m).get(a+(s.content||""))){for(b=0;b<S.length;b++)if(p=S[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(b,1);break t}}p=m.createElement(a),bt(p,a,s),m.head.appendChild(p);break;default:throw Error(o(468,a))}p[xt]=e,gt(p),a=p}e.stateNode=a}else Wm(m,e.type,e.stateNode);else e.stateNode=Xm(m,a,e.memoizedProps);else p!==a?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,a===null?Wm(m,e.type,e.stateNode):Xm(m,a,e.memoizedProps)):a===null&&e.stateNode!==null&&zr(e,e.memoizedProps,s.memoizedProps)}break;case 27:Dt(i,e),Ut(e),a&512&&(mt||s===null||fn(s,s.return)),s!==null&&a&4&&zr(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Dt(i,e),Ut(e),a&512&&(mt||s===null||fn(s,s.return)),e.flags&32){m=e.stateNode;try{Oi(m,"")}catch(xe){Ke(e,e.return,xe)}}a&4&&e.stateNode!=null&&(m=e.memoizedProps,zr(e,m,s!==null?s.memoizedProps:m)),a&1024&&(jr=!0);break;case 6:if(Dt(i,e),Ut(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(xe){Ke(e,e.return,xe)}}break;case 3:if(zo=null,m=ln,ln=Lo(i.containerInfo),Dt(i,e),ln=m,Ut(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Ts(i.containerInfo)}catch(xe){Ke(e,e.return,xe)}jr&&(jr=!1,Wf(e));break;case 4:a=ln,ln=Lo(e.stateNode.containerInfo),Dt(i,e),Ut(e),ln=a;break;case 12:Dt(i,e),Ut(e);break;case 31:Dt(i,e),Ut(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,To(e,a)));break;case 13:Dt(i,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bo=At()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,To(e,a)));break;case 22:m=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,q=An,Q=mt;if(An=q||m,mt=Q||w,Dt(i,e),mt=Q,An=q,Ut(e),a&8192)e:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(s===null||w||An||mt||Mi(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){w=s=i;try{if(p=w.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{b=w.stateNode;var ee=w.memoizedProps.style,P=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(xe){Ke(w,w.return,xe)}}}else if(i.tag===6){if(s===null){w=i;try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(xe){Ke(w,w.return,xe)}}}else if(i.tag===18){if(s===null){w=i;try{var H=w.stateNode;m?Vm(H,!0):Vm(w.stateNode,!1)}catch(xe){Ke(w,w.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=e.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,To(e,s))));break;case 19:Dt(i,e),Ut(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,To(e,a)));break;case 30:break;case 21:break;default:Dt(i,e),Ut(e)}}function Ut(e){var i=e.flags;if(i&2){try{for(var s,a=e.return;a!==null;){if(Of(a)){s=a;break}a=a.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var m=s.stateNode,p=Pr(e);So(e,p,m);break;case 5:var S=s.stateNode;s.flags&32&&(Oi(S,""),s.flags&=-33);var b=Pr(e);So(e,b,S);break;case 3:case 4:var w=s.stateNode.containerInfo,q=Pr(e);Br(e,q,w);break;default:throw Error(o(161))}}catch(Q){Ke(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function wn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jf(e,i.alternate,i),i=i.sibling}function Mi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:$n(4,i,i.return),Mi(i);break;case 1:fn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Vf(i,i.return,s),Mi(i);break;case 27:yl(i.stateNode);case 26:case 5:fn(i,i.return),Mi(i);break;case 22:i.memoizedState===null&&Mi(i);break;case 30:Mi(i);break;default:Mi(i)}e=e.sibling}}function Mn(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,m=e,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:Mn(m,p,s),al(4,p);break;case 1:if(Mn(m,p,s),a=p,m=a.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Ke(a,a.return,q)}if(a=p,m=a.updateQueue,m!==null){var b=a.stateNode;try{var w=m.shared.hiddenCallbacks;if(w!==null)for(m.shared.hiddenCallbacks=null,m=0;m<w.length;m++)Md(w[m],b)}catch(q){Ke(a,a.return,q)}}s&&S&64&&Gf(p),rl(p,p.return);break;case 27:Ff(p);case 26:case 5:Mn(m,p,s),s&&a===null&&S&4&&Hf(p),rl(p,p.return);break;case 12:Mn(m,p,s);break;case 31:Mn(m,p,s),s&&S&4&&$f(m,p);break;case 13:Mn(m,p,s),s&&S&4&&Xf(m,p);break;case 22:p.memoizedState===null&&Mn(m,p,s),rl(p,p.return);break;case 30:break;default:Mn(m,p,s)}i=i.sibling}}function Gr(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qs(s))}function Vr(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qs(e))}function on(e,i,s,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)em(e,i,s,a),i=i.sibling}function em(e,i,s,a){var m=i.flags;switch(i.tag){case 0:case 11:case 15:on(e,i,s,a),m&2048&&al(9,i);break;case 1:on(e,i,s,a);break;case 3:on(e,i,s,a),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qs(e)));break;case 12:if(m&2048){on(e,i,s,a),e=i.stateNode;try{var p=i.memoizedProps,S=p.id,b=p.onPostCommit;typeof b=="function"&&b(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ke(i,i.return,w)}}else on(e,i,s,a);break;case 31:on(e,i,s,a);break;case 13:on(e,i,s,a);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?on(e,i,s,a):ul(e,i):p._visibility&2?on(e,i,s,a):(p._visibility|=2,cs(e,i,s,a,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Gr(S,i);break;case 24:on(e,i,s,a),m&2048&&Vr(i.alternate,i);break;default:on(e,i,s,a)}}function cs(e,i,s,a,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=e,S=i,b=s,w=a,q=S.flags;switch(S.tag){case 0:case 11:case 15:cs(p,S,b,w,m),al(8,S);break;case 23:break;case 22:var Q=S.stateNode;S.memoizedState!==null?Q._visibility&2?cs(p,S,b,w,m):ul(p,S):(Q._visibility|=2,cs(p,S,b,w,m)),m&&q&2048&&Gr(S.alternate,S);break;case 24:cs(p,S,b,w,m),m&&q&2048&&Vr(S.alternate,S);break;default:cs(p,S,b,w,m)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,a=i,m=a.flags;switch(a.tag){case 22:ul(s,a),m&2048&&Gr(a.alternate,a);break;case 24:ul(s,a),m&2048&&Vr(a.alternate,a);break;default:ul(s,a)}i=i.sibling}}var cl=8192;function ds(e,i,s){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)tm(e,i,s),e=e.sibling}function tm(e,i,s){switch(e.tag){case 26:ds(e,i,s),e.flags&cl&&e.memoizedState!==null&&Qy(s,ln,e.memoizedState,e.memoizedProps);break;case 5:ds(e,i,s);break;case 3:case 4:var a=ln;ln=Lo(e.stateNode.containerInfo),ds(e,i,s),ln=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=cl,cl=16777216,ds(e,i,s),cl=a):ds(e,i,s));break;default:ds(e,i,s)}}function nm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];yt=a,sm(a,e)}nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)im(e),e=e.sibling}function im(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&$n(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Co(e)):dl(e);break;default:dl(e)}}function Co(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];yt=a,sm(a,e)}nm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:$n(8,i,i.return),Co(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Co(i));break;default:Co(i)}e=e.sibling}}function sm(e,i){for(;yt!==null;){var s=yt;switch(s.tag){case 0:case 11:case 15:$n(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Qs(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,yt=a;else e:for(s=e;yt!==null;){a=yt;var m=a.sibling,p=a.return;if(Qf(a),a===s){yt=null;break e}if(m!==null){m.return=p,yt=m;break e}yt=p}}}var uy={getCacheForType:function(e){var i=Tt(ct),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Tt(ct).controller.signal}},cy=typeof WeakMap=="function"?WeakMap:Map,Je=0,We=null,qe=null,Be=0,Qe=0,Gt=null,Xn=!1,fs=!1,Hr=!1,In=0,at=0,Zn=0,Ii=0,Or=0,Vt=0,ms=0,fl=null,kt=null,Fr=!1,bo=0,lm=0,Eo=1/0,No=null,Wn=null,ht=0,ei=null,hs=null,Rn=0,Yr=0,Jr=null,om=null,ml=0,Qr=null;function Ht(){return(Je&2)!==0&&Be!==0?Be&-Be:U.T!==null?eu():Tc()}function am(){if(Vt===0)if((Be&536870912)===0||Ve){var e=Dl;Dl<<=1,(Dl&3932160)===0&&(Dl=262144),Vt=e}else Vt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Vt}function Lt(e,i,s){(e===We&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(ps(e,0),ti(e,Be,Vt,!1)),ks(e,s),((Je&2)===0||e!==We)&&(e===We&&((Je&2)===0&&(Ii|=s),at===4&&ti(e,Be,Vt,!1)),mn(e))}function rm(e,i,s){if((Je&6)!==0)throw Error(o(327));var a=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Us(e,i),m=a?my(e,i):$r(e,i,!0),p=a;do{if(m===0){fs&&!a&&ti(e,i,0,!1);break}else{if(s=e.current.alternate,p&&!dy(s)){m=$r(e,i,!1),p=!1;continue}if(m===2){if(p=i,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var b=e;m=fl;var w=b.current.memoizedState.isDehydrated;if(w&&(ps(b,S).flags|=256),S=$r(b,S,!1),S!==2){if(Hr&&!w){b.errorRecoveryDisabledLanes|=p,Ii|=p,m=4;break e}p=kt,kt=m,p!==null&&(kt===null?kt=p:kt.push.apply(kt,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){ps(e,0),ti(e,i,0,!0);break}e:{switch(a=e,p=m,p){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ti(a,i,Vt,!Xn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(m=bo+300-At(),10<m)){if(ti(a,i,Vt,!Xn),kl(a,0,!0)!==0)break e;Rn=i,a.timeoutHandle=Bm(um.bind(null,a,s,kt,No,Fr,i,Vt,Ii,ms,Xn,p,"Throttled",-0,0),m);break e}um(a,s,kt,No,Fr,i,Vt,Ii,ms,Xn,p,null,-0,0)}}break}while(!0);mn(e)}function um(e,i,s,a,m,p,S,b,w,q,Q,ee,P,H){if(e.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},tm(i,p,ee);var xe=(p&62914560)===p?bo-At():(p&4194048)===p?lm-At():0;if(xe=Ky(ee,xe),xe!==null){Rn=p,e.cancelPendingCommit=xe(ym.bind(null,e,i,p,s,a,m,S,b,w,Q,ee,null,P,H)),ti(e,p,S,!q);return}}ym(e,i,p,s,a,m,S,b,w)}function dy(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var m=s[a],p=m.getSnapshot;m=m.value;try{if(!zt(p(),m))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ti(e,i,s,a){i&=~Or,i&=~Ii,e.suspendedLanes|=i,e.pingedLanes&=~i,a&&(e.warmLanes|=i),a=e.expirationTimes;for(var m=i;0<m;){var p=31-He(m),S=1<<p;a[p]=-1,m&=~S}s!==0&&vc(e,s,i)}function Ao(){return(Je&6)===0?(hl(0),!1):!0}function Kr(){if(qe!==null){if(Qe===0)var e=qe.return;else e=qe,Sn=Ti=null,dr(e),ls=null,$s=0,e=qe;for(;e!==null;)jf(e.alternate,e),e=e.return;qe=null}}function ps(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ry(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Rn=0,Kr(),We=e,qe=s=vn(e.current,null),Be=i,Qe=0,Gt=null,Xn=!1,fs=Us(e,i),Hr=!1,ms=Vt=Or=Ii=Zn=at=0,kt=fl=null,Fr=!1,(i&8)!==0&&(i|=i&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=i;0<a;){var m=31-He(a),p=1<<m;i|=e[m],a&=~p}return In=i,Yl(),s}function cm(e,i){De=null,U.H=sl,i===ss||i===eo?(i=Nd(),Qe=3):i===Wa?(i=Nd(),Qe=4):Qe=i===_r?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gt=i,qe===null&&(at=1,po(e,Jt(i,e.current)))}function dm(){var e=Bt.current;return e===null?!0:(Be&4194048)===Be?Xt===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Xt:!1}function fm(){var e=U.H;return U.H=sl,e===null?sl:e}function mm(){var e=U.A;return U.A=uy,e}function _o(){at=4,Xn||(Be&4194048)!==Be&&Bt.current!==null||(fs=!0),(Zn&134217727)===0&&(Ii&134217727)===0||We===null||ti(We,Be,Vt,!1)}function $r(e,i,s){var a=Je;Je|=2;var m=fm(),p=mm();(We!==e||Be!==i)&&(No=null,ps(e,i)),i=!1;var S=at;e:do try{if(Qe!==0&&qe!==null){var b=qe,w=Gt;switch(Qe){case 8:Kr(),S=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(i=!0);var q=Qe;if(Qe=0,Gt=null,gs(e,b,w,q),s&&fs){S=0;break e}break;default:q=Qe,Qe=0,Gt=null,gs(e,b,w,q)}}fy(),S=at;break}catch(Q){cm(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Sn=Ti=null,Je=a,U.H=m,U.A=p,qe===null&&(We=null,Be=0,Yl()),S}function fy(){for(;qe!==null;)hm(qe)}function my(e,i){var s=Je;Je|=2;var a=fm(),m=mm();We!==e||Be!==i?(No=null,Eo=At()+500,ps(e,i)):fs=Us(e,i);e:do try{if(Qe!==0&&qe!==null){i=qe;var p=Gt;t:switch(Qe){case 1:Qe=0,Gt=null,gs(e,i,p,1);break;case 2:case 9:if(bd(p)){Qe=0,Gt=null,pm(i);break}i=function(){Qe!==2&&Qe!==9||We!==e||(Qe=7),mn(e)},p.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:bd(p)?(Qe=0,Gt=null,pm(i)):(Qe=0,Gt=null,gs(e,i,p,7));break;case 5:var S=null;switch(qe.tag){case 26:S=qe.memoizedState;case 5:case 27:var b=qe;if(S?eh(S):b.stateNode.complete){Qe=0,Gt=null;var w=b.sibling;if(w!==null)qe=w;else{var q=b.return;q!==null?(qe=q,wo(q)):qe=null}break t}}Qe=0,Gt=null,gs(e,i,p,5);break;case 6:Qe=0,Gt=null,gs(e,i,p,6);break;case 8:Kr(),at=6;break e;default:throw Error(o(462))}}hy();break}catch(Q){cm(e,Q)}while(!0);return Sn=Ti=null,U.H=a,U.A=m,Je=s,qe!==null?0:(We=null,Be=0,Yl(),at)}function hy(){for(;qe!==null&&!ra();)hm(qe)}function hm(e){var i=Pf(e.alternate,e,In);e.memoizedProps=e.pendingProps,i===null?wo(e):qe=i}function pm(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Df(s,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Df(s,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:dr(i);default:jf(s,i),i=qe=fd(i,In),i=Pf(s,i,In)}e.memoizedProps=e.pendingProps,i===null?wo(e):qe=i}function gs(e,i,s,a){Sn=Ti=null,dr(i),ls=null,$s=0;var m=i.return;try{if(ny(e,m,i,s,Be)){at=1,po(e,Jt(s,e.current)),qe=null;return}}catch(p){if(m!==null)throw qe=m,p;at=1,po(e,Jt(s,e.current)),qe=null;return}i.flags&32768?(Ve||a===1?e=!0:fs||(Be&536870912)!==0?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),gm(i,e)):wo(i)}function wo(e){var i=e;do{if((i.flags&32768)!==0){gm(i,Xn);return}e=i.return;var s=ly(i.alternate,i,In);if(s!==null){qe=s;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=e}while(i!==null);at===0&&(at=5)}function gm(e,i){do{var s=oy(e.alternate,e);if(s!==null){s.flags&=32767,qe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){qe=e;return}qe=e=s}while(e!==null);at=6,qe=null}function ym(e,i,s,a,m,p,S,b,w){e.cancelPendingCommit=null;do Mo();while(ht!==0);if((Je&6)!==0)throw Error(o(327));if(i!==null){if(i===e.current)throw Error(o(177));if(p=i.lanes|i.childLanes,p|=Pa,Jg(e,s,p,S,b,w),e===We&&(qe=We=null,Be=0),hs=i,ei=e,Rn=s,Yr=p,Jr=m,om=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(ie,function(){return Cm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,m=G.p,G.p=2,S=Je,Je|=4;try{ay(e,i,s)}finally{Je=S,G.p=m,U.T=a}}ht=1,vm(),xm(),Sm()}}function vm(){if(ht===1){ht=0;var e=ei,i=hs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var a=G.p;G.p=2;var m=Je;Je|=4;try{Zf(i,e);var p=ru,S=id(e.containerInfo),b=p.focusedElem,w=p.selectionRange;if(S!==b&&b&&b.ownerDocument&&nd(b.ownerDocument.documentElement,b)){if(w!==null&&Ua(b)){var q=w.start,Q=w.end;if(Q===void 0&&(Q=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Q,b.value.length);else{var ee=b.ownerDocument||document,P=ee&&ee.defaultView||window;if(P.getSelection){var H=P.getSelection(),xe=b.textContent.length,we=Math.min(w.start,xe),Ze=w.end===void 0?we:Math.min(w.end,xe);!H.extend&&we>Ze&&(S=Ze,Ze=we,we=S);var R=td(b,we),M=td(b,Ze);if(R&&M&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var k=ee.createRange();k.setStart(R.node,R.offset),H.removeAllRanges(),we>Ze?(H.addRange(k),H.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),H.addRange(k))}}}}for(ee=[],H=b;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var Z=ee[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Go=!!au,ru=au=null}finally{Je=m,G.p=a,U.T=s}}e.current=i,ht=2}}function xm(){if(ht===2){ht=0;var e=ei,i=hs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var a=G.p;G.p=2;var m=Je;Je|=4;try{Jf(e,i.alternate,i)}finally{Je=m,G.p=a,U.T=s}}ht=3}}function Sm(){if(ht===4||ht===3){ht=0,ua();var e=ei,i=hs,s=Rn,a=om;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ht=5:(ht=0,hs=ei=null,Tm(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Wn=null),ha(s),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=U.T,m=G.p,G.p=2,U.T=null;try{for(var p=e.onRecoverableError,S=0;S<a.length;S++){var b=a[S];p(b.value,{componentStack:b.stack})}}finally{U.T=i,G.p=m}}(Rn&3)!==0&&Mo(),mn(e),m=e.pendingLanes,(s&261930)!==0&&(m&42)!==0?e===Qr?ml++:(ml=0,Qr=e):ml=0,hl(0)}}function Tm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qs(i)))}function Mo(){return vm(),xm(),Sm(),Cm()}function Cm(){if(ht!==5)return!1;var e=ei,i=Yr;Yr=0;var s=ha(Rn),a=U.T,m=G.p;try{G.p=32>s?32:s,U.T=null,s=Jr,Jr=null;var p=ei,S=Rn;if(ht=0,hs=ei=null,Rn=0,(Je&6)!==0)throw Error(o(331));var b=Je;if(Je|=4,im(p.current),em(p,p.current,S,s),Je=b,hl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ue,p)}catch{}return!0}finally{G.p=m,U.T=a,Tm(e,i)}}function bm(e,i,s){i=Jt(s,i),i=Ar(e.stateNode,i,2),e=Jn(e,i,2),e!==null&&(ks(e,2),mn(e))}function Ke(e,i,s){if(e.tag===3)bm(e,e,s);else for(;i!==null;){if(i.tag===3){bm(i,e,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Wn===null||!Wn.has(a))){e=Jt(s,e),s=Ef(2),a=Jn(i,s,2),a!==null&&(Nf(s,a,i,e),ks(a,2),mn(a));break}}i=i.return}}function Xr(e,i,s){var a=e.pingCache;if(a===null){a=e.pingCache=new cy;var m=new Set;a.set(i,m)}else m=a.get(i),m===void 0&&(m=new Set,a.set(i,m));m.has(s)||(Hr=!0,m.add(s),e=py.bind(null,e,i,s),i.then(e,e))}function py(e,i,s){var a=e.pingCache;a!==null&&a.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,We===e&&(Be&s)===s&&(at===4||at===3&&(Be&62914560)===Be&&300>At()-bo?(Je&2)===0&&ps(e,0):Or|=s,ms===Be&&(ms=0)),mn(e)}function Em(e,i){i===0&&(i=yc()),e=vi(e,i),e!==null&&(ks(e,i),mn(e))}function gy(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Em(e,s)}function yy(e,i){var s=0;switch(e.tag){case 31:case 13:var a=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(i),Em(e,s)}function vy(e,i){return Rs(e,i)}var Io=null,ys=null,Zr=!1,Ro=!1,Wr=!1,ni=0;function mn(e){e!==ys&&e.next===null&&(ys===null?Io=ys=e:ys=ys.next=e),Ro=!0,Zr||(Zr=!0,Sy())}function hl(e,i){if(!Wr&&Ro){Wr=!0;do for(var s=!1,a=Io;a!==null;){if(e!==0){var m=a.pendingLanes;if(m===0)var p=0;else{var S=a.suspendedLanes,b=a.pingedLanes;p=(1<<31-He(42|e)+1)-1,p&=m&~(S&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,wm(a,p))}else p=Be,p=kl(a,a===We?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Us(a,p)||(s=!0,wm(a,p));a=a.next}while(s);Wr=!1}}function xy(){Nm()}function Nm(){Ro=Zr=!1;var e=0;ni!==0&&Iy()&&(e=ni);for(var i=At(),s=null,a=Io;a!==null;){var m=a.next,p=Am(a,i);p===0?(a.next=null,s===null?Io=m:s.next=m,m===null&&(ys=s)):(s=a,(e!==0||(p&3)!==0)&&(Ro=!0)),a=m}ht!==0&&ht!==5||hl(e),ni!==0&&(ni=0)}function Am(e,i){for(var s=e.suspendedLanes,a=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-He(p),b=1<<S,w=m[S];w===-1?((b&s)===0||(b&a)!==0)&&(m[S]=Yg(b,i)):w<=i&&(e.expiredLanes|=b),p&=~b}if(i=We,s=Be,s=kl(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,s===0||e===i&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&zi(a),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Us(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(a!==null&&zi(a),ha(s)){case 2:case 8:s=$;break;case 32:s=ie;break;case 268435456:s=ae;break;default:s=ie}return a=_m.bind(null,e),s=Rs(s,a),e.callbackPriority=i,e.callbackNode=s,i}return a!==null&&a!==null&&zi(a),e.callbackPriority=2,e.callbackNode=null,2}function _m(e,i){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Mo()&&e.callbackNode!==s)return null;var a=Be;return a=kl(e,e===We?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(rm(e,a,i),Am(e,At()),e.callbackNode!=null&&e.callbackNode===s?_m.bind(null,e):null)}function wm(e,i){if(Mo())return null;rm(e,i,!0)}function Sy(){Dy(function(){(Je&6)!==0?Rs(ne,xy):Nm()})}function eu(){if(ni===0){var e=ns;e===0&&(e=Rl,Rl<<=1,(Rl&261888)===0&&(Rl=256)),ni=e}return ni}function Mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pl(""+e)}function Im(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Ty(e,i,s,a,m){if(i==="submit"&&s&&s.stateNode===m){var p=Mm((m[Mt]||null).action),S=a.submitter;S&&(i=(i=S[Mt]||null)?Mm(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var b=new Vl("action","action",null,a,m);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ni!==0){var w=S?Im(m,S):new FormData(m);Sr(s,{pending:!0,data:w,method:m.method,action:p},null,w)}}else typeof p=="function"&&(b.preventDefault(),w=S?Im(m,S):new FormData(m),Sr(s,{pending:!0,data:w,method:m.method,action:p},p,w))},currentTarget:m}]})}}for(var tu=0;tu<za.length;tu++){var nu=za[tu],Cy=nu.toLowerCase(),by=nu[0].toUpperCase()+nu.slice(1);sn(Cy,"on"+by)}sn(od,"onAnimationEnd"),sn(ad,"onAnimationIteration"),sn(rd,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(B0,"onTransitionRun"),sn(j0,"onTransitionStart"),sn(G0,"onTransitionCancel"),sn(ud,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ey=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Rm(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],m=a.event;a=a.listeners;e:{var p=void 0;if(i)for(var S=a.length-1;0<=S;S--){var b=a[S],w=b.instance,q=b.currentTarget;if(b=b.listener,w!==p&&m.isPropagationStopped())break e;p=b,m.currentTarget=q;try{p(m)}catch(Q){Fl(Q)}m.currentTarget=null,p=w}else for(S=0;S<a.length;S++){if(b=a[S],w=b.instance,q=b.currentTarget,b=b.listener,w!==p&&m.isPropagationStopped())break e;p=b,m.currentTarget=q;try{p(m)}catch(Q){Fl(Q)}m.currentTarget=null,p=w}}}}function ze(e,i){var s=i[pa];s===void 0&&(s=i[pa]=new Set);var a=e+"__bubble";s.has(a)||(Dm(i,e,2,!1),s.add(a))}function iu(e,i,s){var a=0;i&&(a|=4),Dm(s,e,a,i)}var Do="_reactListening"+Math.random().toString(36).slice(2);function su(e){if(!e[Do]){e[Do]=!0,Ec.forEach(function(s){s!=="selectionchange"&&(Ey.has(s)||iu(s,!1,e),iu(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Do]||(i[Do]=!0,iu("selectionchange",!1,i))}}function Dm(e,i,s,a){switch(ah(i)){case 2:var m=Zy;break;case 8:m=Wy;break;default:m=xu}s=m.bind(null,i,s,e),m=void 0,!Ea||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),a?m!==void 0?e.addEventListener(i,s,{capture:!0,passive:m}):e.addEventListener(i,s,!0):m!==void 0?e.addEventListener(i,s,{passive:m}):e.addEventListener(i,s,!1)}function lu(e,i,s,a,m){var p=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var b=a.stateNode.containerInfo;if(b===m)break;if(S===4)for(S=a.return;S!==null;){var w=S.tag;if((w===3||w===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;b!==null;){if(S=Bi(b),S===null)return;if(w=S.tag,w===5||w===6||w===26||w===27){a=p=S;continue e}b=b.parentNode}}a=a.return}qc(function(){var q=p,Q=Ca(s),ee=[];e:{var P=cd.get(e);if(P!==void 0){var H=Vl,xe=e;switch(e){case"keypress":if(jl(s)===0)break e;case"keydown":case"keyup":H=y0;break;case"focusin":xe="focus",H=wa;break;case"focusout":xe="blur",H=wa;break;case"beforeblur":case"afterblur":H=wa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=S0;break;case od:case ad:case rd:H=r0;break;case ud:H=C0;break;case"scroll":case"scrollend":H=i0;break;case"wheel":H=E0;break;case"copy":case"cut":case"paste":H=c0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gc;break;case"toggle":case"beforetoggle":H=A0}var we=(i&4)!==0,Ze=!we&&(e==="scroll"||e==="scrollend"),R=we?P!==null?P+"Capture":null:P;we=[];for(var M=q,k;M!==null;){var Z=M;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||R===null||(Z=zs(M,R),Z!=null&&we.push(gl(M,Z,k))),Ze)break;M=M.return}0<we.length&&(P=new H(P,xe,null,s,Q),ee.push({event:P,listeners:we}))}}if((i&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",P&&s!==Ta&&(xe=s.relatedTarget||s.fromElement)&&(Bi(xe)||xe[Pi]))break e;if((H||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,H?(xe=s.relatedTarget||s.toElement,H=q,xe=xe?Bi(xe):null,xe!==null&&(Ze=f(xe),we=xe.tag,xe!==Ze||we!==5&&we!==27&&we!==6)&&(xe=null)):(H=null,xe=q),H!==xe)){if(we=Bc,Z="onMouseLeave",R="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(we=Gc,Z="onPointerLeave",R="onPointerEnter",M="pointer"),Ze=H==null?P:qs(H),k=xe==null?P:qs(xe),P=new we(Z,M+"leave",H,s,Q),P.target=Ze,P.relatedTarget=k,Z=null,Bi(Q)===q&&(we=new we(R,M+"enter",xe,s,Q),we.target=k,we.relatedTarget=Ze,Z=we),Ze=Z,H&&xe)t:{for(we=Ny,R=H,M=xe,k=0,Z=R;Z;Z=we(Z))k++;Z=0;for(var Ae=M;Ae;Ae=we(Ae))Z++;for(;0<k-Z;)R=we(R),k--;for(;0<Z-k;)M=we(M),Z--;for(;k--;){if(R===M||M!==null&&R===M.alternate){we=R;break t}R=we(R),M=we(M)}we=null}else we=null;H!==null&&Um(ee,P,H,we,!1),xe!==null&&Ze!==null&&Um(ee,Ze,xe,we,!0)}}e:{if(P=q?qs(q):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Oe=Kc;else if(Jc(P))if($c)Oe=q0;else{Oe=k0;var Te=U0}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&Sa(q.elementType)&&(Oe=Kc):Oe=L0;if(Oe&&(Oe=Oe(e,q))){Qc(ee,Oe,s,Q);break e}Te&&Te(e,P,q),e==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&xa(P,"number",P.value)}switch(Te=q?qs(q):window,e){case"focusin":(Jc(Te)||Te.contentEditable==="true")&&(Qi=Te,ka=q,Fs=null);break;case"focusout":Fs=ka=Qi=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,sd(ee,s,Q);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":sd(ee,s,Q)}var ke;if(Ia)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ji?Fc(e,s)&&(je="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(Vc&&s.locale!=="ko"&&(Ji||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ji&&(ke=zc()):(jn=Q,Na="value"in jn?jn.value:jn.textContent,Ji=!0)),Te=Uo(q,je),0<Te.length&&(je=new jc(je,e,null,s,Q),ee.push({event:je,listeners:Te}),ke?je.data=ke:(ke=Yc(s),ke!==null&&(je.data=ke)))),(ke=w0?M0(e,s):I0(e,s))&&(je=Uo(q,"onBeforeInput"),0<je.length&&(Te=new jc("onBeforeInput","beforeinput",null,s,Q),ee.push({event:Te,listeners:je}),Te.data=ke)),Ty(ee,e,q,s,Q)}Rm(ee,i)})}function gl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Uo(e,i){for(var s=i+"Capture",a=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=zs(e,s),m!=null&&a.unshift(gl(e,m,p)),m=zs(e,i),m!=null&&a.push(gl(e,m,p))),e.tag===3)return a;e=e.return}return[]}function Ny(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Um(e,i,s,a,m){for(var p=i._reactName,S=[];s!==null&&s!==a;){var b=s,w=b.alternate,q=b.stateNode;if(b=b.tag,w!==null&&w===a)break;b!==5&&b!==26&&b!==27||q===null||(w=q,m?(q=zs(s,p),q!=null&&S.unshift(gl(s,q,w))):m||(q=zs(s,p),q!=null&&S.push(gl(s,q,w)))),s=s.return}S.length!==0&&e.push({event:i,listeners:S})}var Ay=/\r\n?/g,_y=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(_y,"")}function Lm(e,i){return i=km(i),km(e)===i}function Xe(e,i,s,a,m,p){switch(s){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Oi(e,""+a);break;case"className":ql(e,"class",a);break;case"tabIndex":ql(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,s,a);break;case"style":kc(e,a,p);break;case"data":if(i!=="object"){ql(e,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Pl(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&Xe(e,i,"name",m.name,m,null),Xe(e,i,"formEncType",m.formEncType,m,null),Xe(e,i,"formMethod",m.formMethod,m,null),Xe(e,i,"formTarget",m.formTarget,m,null)):(Xe(e,i,"encType",m.encType,m,null),Xe(e,i,"method",m.method,m,null),Xe(e,i,"target",m.target,m,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Pl(""+a),e.setAttribute(s,a);break;case"onClick":a!=null&&(e.onclick=gn);break;case"onScroll":a!=null&&ze("scroll",e);break;case"onScrollEnd":a!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(s=a.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}s=Pl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":a===!0?e.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Ll(e,"popover",a);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ll(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=t0.get(s)||s,Ll(e,s,a))}}function ou(e,i,s,a,m,p){switch(s){case"style":kc(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(s=a.__html,s!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof a=="string"?Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&Oi(e,""+a);break;case"onScroll":a!=null&&ze("scroll",e);break;case"onScrollEnd":a!=null&&ze("scrollend",e);break;case"onClick":a!=null&&(e.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),i=s.slice(2,m?s.length-7:void 0),p=e[Mt]||null,p=p!=null?p[s]:null,typeof p=="function"&&e.removeEventListener(i,p,m),typeof a=="function")){typeof p!="function"&&p!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,a,m);break e}s in e?e[s]=a:a===!0?e.setAttribute(s,""):Ll(e,s,a)}}}function bt(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var a=!1,m=!1,p;for(p in s)if(s.hasOwnProperty(p)){var S=s[p];if(S!=null)switch(p){case"src":a=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Xe(e,i,p,S,s,null)}}m&&Xe(e,i,"srcSet",s.srcSet,s,null),a&&Xe(e,i,"src",s.src,s,null);return;case"input":ze("invalid",e);var b=p=S=m=null,w=null,q=null;for(a in s)if(s.hasOwnProperty(a)){var Q=s[a];if(Q!=null)switch(a){case"name":m=Q;break;case"type":S=Q;break;case"checked":w=Q;break;case"defaultChecked":q=Q;break;case"value":p=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,i));break;default:Xe(e,i,a,Q,s,null)}}Ic(e,p,b,w,q,S,m,!1);return;case"select":ze("invalid",e),a=S=p=null;for(m in s)if(s.hasOwnProperty(m)&&(b=s[m],b!=null))switch(m){case"value":p=b;break;case"defaultValue":S=b;break;case"multiple":a=b;default:Xe(e,i,m,b,s,null)}i=p,s=S,e.multiple=!!a,i!=null?Hi(e,!!a,i,!1):s!=null&&Hi(e,!!a,s,!0);return;case"textarea":ze("invalid",e),p=m=a=null;for(S in s)if(s.hasOwnProperty(S)&&(b=s[S],b!=null))switch(S){case"value":a=b;break;case"defaultValue":m=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Xe(e,i,S,b,s,null)}Dc(e,a,m,p);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(a=s[w],a!=null))switch(w){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Xe(e,i,w,a,s,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(a=0;a<pl.length;a++)ze(pl[a],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(a=s[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Xe(e,i,q,a,s,null)}return;default:if(Sa(i)){for(Q in s)s.hasOwnProperty(Q)&&(a=s[Q],a!==void 0&&ou(e,i,Q,a,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(a=s[b],a!=null&&Xe(e,i,b,a,s,null))}function wy(e,i,s,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,b=null,w=null,q=null,Q=null;for(H in s){var ee=s[H];if(s.hasOwnProperty(H)&&ee!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=ee;default:a.hasOwnProperty(H)||Xe(e,i,H,null,a,ee)}}for(var P in a){var H=a[P];if(ee=s[P],a.hasOwnProperty(P)&&(H!=null||ee!=null))switch(P){case"type":p=H;break;case"name":m=H;break;case"checked":q=H;break;case"defaultChecked":Q=H;break;case"value":S=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,i));break;default:H!==ee&&Xe(e,i,P,H,a,ee)}}va(e,S,b,w,q,Q,p,m);return;case"select":H=S=b=P=null;for(p in s)if(w=s[p],s.hasOwnProperty(p)&&w!=null)switch(p){case"value":break;case"multiple":H=w;default:a.hasOwnProperty(p)||Xe(e,i,p,null,a,w)}for(m in a)if(p=a[m],w=s[m],a.hasOwnProperty(m)&&(p!=null||w!=null))switch(m){case"value":P=p;break;case"defaultValue":b=p;break;case"multiple":S=p;default:p!==w&&Xe(e,i,m,p,a,w)}i=b,s=S,a=H,P!=null?Hi(e,!!s,P,!1):!!a!=!!s&&(i!=null?Hi(e,!!s,i,!0):Hi(e,!!s,s?[]:"",!1));return;case"textarea":H=P=null;for(b in s)if(m=s[b],s.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(e,i,b,null,a,m)}for(S in a)if(m=a[S],p=s[S],a.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":P=m;break;case"defaultValue":H=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==p&&Xe(e,i,S,m,a,p)}Rc(e,P,H);return;case"option":for(var xe in s)if(P=s[xe],s.hasOwnProperty(xe)&&P!=null&&!a.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Xe(e,i,xe,null,a,P)}for(w in a)if(P=a[w],H=s[w],a.hasOwnProperty(w)&&P!==H&&(P!=null||H!=null))switch(w){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xe(e,i,w,P,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)P=s[we],s.hasOwnProperty(we)&&P!=null&&!a.hasOwnProperty(we)&&Xe(e,i,we,null,a,P);for(q in a)if(P=a[q],H=s[q],a.hasOwnProperty(q)&&P!==H&&(P!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,i));break;default:Xe(e,i,q,P,a,H)}return;default:if(Sa(i)){for(var Ze in s)P=s[Ze],s.hasOwnProperty(Ze)&&P!==void 0&&!a.hasOwnProperty(Ze)&&ou(e,i,Ze,void 0,a,P);for(Q in a)P=a[Q],H=s[Q],!a.hasOwnProperty(Q)||P===H||P===void 0&&H===void 0||ou(e,i,Q,P,a,H);return}}for(var R in s)P=s[R],s.hasOwnProperty(R)&&P!=null&&!a.hasOwnProperty(R)&&Xe(e,i,R,null,a,P);for(ee in a)P=a[ee],H=s[ee],!a.hasOwnProperty(ee)||P===H||P==null&&H==null||Xe(e,i,ee,P,a,H)}function qm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var m=s[a],p=m.transferSize,S=m.initiatorType,b=m.duration;if(p&&b&&qm(S)){for(S=0,b=m.responseEnd,a+=1;a<s.length;a++){var w=s[a],q=w.startTime;if(q>b)break;var Q=w.transferSize,ee=w.initiatorType;Q&&qm(ee)&&(w=w.responseEnd,S+=Q*(w<b?1:(b-q)/(w-q)))}if(--a,i+=8*(p+S)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var au=null,ru=null;function ko(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function uu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cu=null;function Iy(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,Ry=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(Uy)}:Bm;function Uy(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function Gm(e,i){var s=i,a=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(a===0){e.removeChild(m),Ts(i);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")yl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,yl(s);for(var p=s.firstChild;p;){var S=p.nextSibling,b=p.nodeName;p[Ls]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=S}}else s==="body"&&yl(e.ownerDocument.body);s=m}while(s);Ts(i)}function Vm(e,i){var s=e;e=0;do{var a=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=a}while(s)}function du(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":du(s),ga(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ky(e,i,s,a){for(;e.nodeType===1;){var m=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ls])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Ly(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zt(e.nextSibling),e===null))return null;return e}function Hm(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zt(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qy(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var a=function(){i(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Zt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var hu=null;function Om(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Zt(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Fm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function Ym(e,i,s){switch(i=ko(s),e){case"html":if(e=i.documentElement,!e)throw Error(o(452));return e;case"head":if(e=i.head,!e)throw Error(o(453));return e;case"body":if(e=i.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ga(e)}var Wt=new Map,Jm=new Set;function Lo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=G.d;G.d={f:zy,r:Py,D:By,C:jy,L:Gy,m:Vy,X:Oy,S:Hy,M:Fy};function zy(){var e=Dn.f(),i=Ao();return e||i}function Py(e){var i=ji(e);i!==null&&i.tag===5&&i.type==="form"?cf(i):Dn.r(e)}var vs=typeof document>"u"?null:document;function Qm(e,i,s){var a=vs;if(a&&typeof i=="string"&&i){var m=Ft(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),Jm.has(m)||(Jm.add(m),e={rel:e,crossOrigin:s,href:i},a.querySelector(m)===null&&(i=a.createElement("link"),bt(i,"link",e),gt(i),a.head.appendChild(i)))}}function By(e){Dn.D(e),Qm("dns-prefetch",e,null)}function jy(e,i){Dn.C(e,i),Qm("preconnect",e,i)}function Gy(e,i,s){Dn.L(e,i,s);var a=vs;if(a&&e&&i){var m='link[rel="preload"][as="'+Ft(i)+'"]';i==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Ft(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Ft(s.imageSizes)+'"]')):m+='[href="'+Ft(e)+'"]';var p=m;switch(i){case"style":p=xs(e);break;case"script":p=Ss(e)}Wt.has(p)||(e=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Wt.set(p,e),a.querySelector(m)!==null||i==="style"&&a.querySelector(vl(p))||i==="script"&&a.querySelector(xl(p))||(i=a.createElement("link"),bt(i,"link",e),gt(i),a.head.appendChild(i)))}}function Vy(e,i){Dn.m(e,i);var s=vs;if(s&&e){var a=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ft(a)+'"][href="'+Ft(e)+'"]',p=m;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ss(e)}if(!Wt.has(p)&&(e=T({rel:"modulepreload",href:e},i),Wt.set(p,e),s.querySelector(m)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(p)))return}a=s.createElement("link"),bt(a,"link",e),gt(a),s.head.appendChild(a)}}}function Hy(e,i,s){Dn.S(e,i,s);var a=vs;if(a&&e){var m=Gi(a).hoistableStyles,p=xs(e);i=i||"default";var S=m.get(p);if(!S){var b={loading:0,preload:null};if(S=a.querySelector(vl(p)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Wt.get(p))&&pu(e,s);var w=S=a.createElement("link");gt(w),bt(w,"link",e),w._p=new Promise(function(q,Q){w.onload=q,w.onerror=Q}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qo(S,i,a)}S={type:"stylesheet",instance:S,count:1,state:b},m.set(p,S)}}}function Oy(e,i){Dn.X(e,i);var s=vs;if(s&&e){var a=Gi(s).hoistableScripts,m=Ss(e),p=a.get(m);p||(p=s.querySelector(xl(m)),p||(e=T({src:e,async:!0},i),(i=Wt.get(m))&&gu(e,i),p=s.createElement("script"),gt(p),bt(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function Fy(e,i){Dn.M(e,i);var s=vs;if(s&&e){var a=Gi(s).hoistableScripts,m=Ss(e),p=a.get(m);p||(p=s.querySelector(xl(m)),p||(e=T({src:e,async:!0,type:"module"},i),(i=Wt.get(m))&&gu(e,i),p=s.createElement("script"),gt(p),bt(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function Km(e,i,s,a){var m=(m=Me.current)?Lo(m):null;if(!m)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=xs(s.href),s=Gi(m).hoistableStyles,a=s.get(i),a||(a={type:"style",instance:null,count:0,state:null},s.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xs(s.href);var p=Gi(m).hoistableStyles,S=p.get(e);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=m.querySelector(vl(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Wt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wt.set(e,s),p||Yy(m,e,s,S.state))),i&&a===null)throw Error(o(528,""));return S}if(i&&a!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ss(s),s=Gi(m).hoistableScripts,a=s.get(i),a||(a={type:"script",instance:null,count:0,state:null},s.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function xs(e){return'href="'+Ft(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function $m(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Yy(e,i,s,a){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=e.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),bt(i,"link",s),gt(i),e.head.appendChild(i))}function Ss(e){return'[src="'+Ft(e)+'"]'}function xl(e){return"script[async]"+e}function Xm(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var a=e.querySelector('style[data-href~="'+Ft(s.href)+'"]');if(a)return i.instance=a,gt(a),a;var m=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),gt(a),bt(a,"style",m),qo(a,s.precedence,e),i.instance=a;case"stylesheet":m=xs(s.href);var p=e.querySelector(vl(m));if(p)return i.state.loading|=4,i.instance=p,gt(p),p;a=$m(s),(m=Wt.get(m))&&pu(a,m),p=(e.ownerDocument||e).createElement("link"),gt(p);var S=p;return S._p=new Promise(function(b,w){S.onload=b,S.onerror=w}),bt(p,"link",a),i.state.loading|=4,qo(p,s.precedence,e),i.instance=p;case"script":return p=Ss(s.src),(m=e.querySelector(xl(p)))?(i.instance=m,gt(m),m):(a=s,(m=Wt.get(p))&&(a=T({},s),gu(a,m)),e=e.ownerDocument||e,m=e.createElement("script"),gt(m),bt(m,"link",a),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,qo(a,s.precedence,e));return i.instance}function qo(e,i,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=a.length?a[a.length-1]:null,p=m,S=0;S<a.length;S++){var b=a[S];if(b.dataset.precedence===i)p=b;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function pu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function gu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var zo=null;function Zm(e,i,s){if(zo===null){var a=new Map,m=zo=new Map;m.set(s,a)}else m=zo,a=m.get(s),a||(a=new Map,m.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),m=0;m<s.length;m++){var p=s[m];if(!(p[Ls]||p[xt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=e+S;var b=a.get(S);b?b.push(p):a.set(S,[p])}}return a}function Wm(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function Jy(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function eh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Qy(e,i,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=xs(a.href),p=i.querySelector(vl(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Po.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=p,gt(p);return}p=i.ownerDocument||i,a=$m(a),(m=Wt.get(m))&&pu(a,m),p=p.createElement("link"),gt(p);var S=p;S._p=new Promise(function(b,w){S.onload=b,S.onerror=w}),bt(p,"link",a),s.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Po.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var yu=0;function Ky(e,i){return e.stylesheets&&e.count===0&&jo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var a=setTimeout(function(){if(e.stylesheets&&jo(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+i);0<e.imgBytes&&yu===0&&(yu=62500*My());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jo(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>yu?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(m)}}:null}function Po(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bo=null;function jo(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bo=new Map,i.forEach($y,e),Bo=null,Po.call(e))}function $y(e,i){if(!(i.state.loading&4)){var s=Bo.get(e);if(s)var a=s.get(null);else{s=new Map,Bo.set(e,s);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),a=S)}a&&s.set(null,a)}m=i.instance,S=m.getAttribute("data-precedence"),p=s.get(S)||a,p===a&&s.set(null,m),s.set(S,m),this.count++,a=Po.bind(this),m.addEventListener("load",a),m.addEventListener("error",a),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Sl={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Xy(e,i,s,a,m,p,S,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=a,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function th(e,i,s,a,m,p,S,b,w,q,Q,ee){return e=new Xy(e,i,s,S,w,q,Q,ee,b),i=1,p===!0&&(i|=24),p=Pt(3,null,null,i),e.current=p,p.stateNode=e,i=$a(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:a,isDehydrated:s,cache:i},er(p),e}function nh(e){return e?(e=Xi,e):Xi}function ih(e,i,s,a,m,p){m=nh(m),a.context===null?a.context=m:a.pendingContext=m,a=Yn(i),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Jn(e,a,i),s!==null&&(Lt(s,e,i),Zs(s,e,i))}function sh(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function vu(e,i){sh(e,i),(e=e.alternate)&&sh(e,i)}function lh(e){if(e.tag===13||e.tag===31){var i=vi(e,67108864);i!==null&&Lt(i,e,67108864),vu(e,67108864)}}function oh(e){if(e.tag===13||e.tag===31){var i=Ht();i=ma(i);var s=vi(e,i);s!==null&&Lt(s,e,i),vu(e,i)}}var Go=!0;function Zy(e,i,s,a){var m=U.T;U.T=null;var p=G.p;try{G.p=2,xu(e,i,s,a)}finally{G.p=p,U.T=m}}function Wy(e,i,s,a){var m=U.T;U.T=null;var p=G.p;try{G.p=8,xu(e,i,s,a)}finally{G.p=p,U.T=m}}function xu(e,i,s,a){if(Go){var m=Su(a);if(m===null)lu(e,i,a,Vo,s),rh(e,a);else if(tv(m,e,i,s,a))a.stopPropagation();else if(rh(e,a),i&4&&-1<ev.indexOf(e)){for(;m!==null;){var p=ji(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=mi(p.pendingLanes);if(S!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;S;){var w=1<<31-He(S);b.entanglements[1]|=w,S&=~w}mn(p),(Je&6)===0&&(Eo=At()+500,hl(0))}}break;case 31:case 13:b=vi(p,2),b!==null&&Lt(b,p,2),Ao(),vu(p,2)}if(p=Su(a),p===null&&lu(e,i,a,Vo,s),p===m)break;m=p}m!==null&&a.stopPropagation()}else lu(e,i,a,null,s)}}function Su(e){return e=Ca(e),Tu(e)}var Vo=null;function Tu(e){if(Vo=null,e=Bi(e),e!==null){var i=f(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===31){if(e=y(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vo=e,null}function ah(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case ne:return 2;case $:return 8;case ie:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var Cu=!1,si=null,li=null,oi=null,Tl=new Map,Cl=new Map,ai=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rh(e,i){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function bl(e,i,s,a,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:p,targetContainers:[m]},i!==null&&(i=ji(i),i!==null&&lh(i)),e):(e.eventSystemFlags|=a,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function tv(e,i,s,a,m){switch(i){case"focusin":return si=bl(si,e,i,s,a,m),!0;case"dragenter":return li=bl(li,e,i,s,a,m),!0;case"mouseover":return oi=bl(oi,e,i,s,a,m),!0;case"pointerover":var p=m.pointerId;return Tl.set(p,bl(Tl.get(p)||null,e,i,s,a,m)),!0;case"gotpointercapture":return p=m.pointerId,Cl.set(p,bl(Cl.get(p)||null,e,i,s,a,m)),!0}return!1}function uh(e){var i=Bi(e.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,Cc(e.priority,function(){oh(s)});return}}else if(i===31){if(i=y(s),i!==null){e.blockedOn=i,Cc(e.priority,function(){oh(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Su(e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Ta=a,s.target.dispatchEvent(a),Ta=null}else return i=ji(s),i!==null&&lh(i),e.blockedOn=s,!1;i.shift()}return!0}function ch(e,i,s){Ho(e)&&s.delete(i)}function nv(){Cu=!1,si!==null&&Ho(si)&&(si=null),li!==null&&Ho(li)&&(li=null),oi!==null&&Ho(oi)&&(oi=null),Tl.forEach(ch),Cl.forEach(ch)}function Oo(e,i){e.blockedOn===i&&(e.blockedOn=null,Cu||(Cu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nv)))}var Fo=null;function dh(e){Fo!==e&&(Fo=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fo===e&&(Fo=null);for(var i=0;i<e.length;i+=3){var s=e[i],a=e[i+1],m=e[i+2];if(typeof a!="function"){if(Tu(a||s)===null)continue;break}var p=ji(s);p!==null&&(e.splice(i,3),i-=3,Sr(p,{pending:!0,data:m,method:s.method,action:a},a,m))}}))}function Ts(e){function i(w){return Oo(w,e)}si!==null&&Oo(si,e),li!==null&&Oo(li,e),oi!==null&&Oo(oi,e),Tl.forEach(i),Cl.forEach(i);for(var s=0;s<ai.length;s++){var a=ai[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ai.length&&(s=ai[0],s.blockedOn===null);)uh(s),s.blockedOn===null&&ai.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var m=s[a],p=s[a+1],S=m[Mt]||null;if(typeof p=="function")S||dh(s);else if(S){var b=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Mt]||null)b=S.formAction;else if(Tu(m)!==null)continue}else b=S.action;typeof b=="function"?s[a+1]=b:(s.splice(a,3),a-=3),dh(s)}}}function fh(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function bu(e){this._internalRoot=e}Yo.prototype.render=bu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,a=Ht();ih(s,a,e,i,null,null)},Yo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ih(e.current,2,null,e,null,null),Ao(),i[Pi]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var i=Tc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<ai.length&&i!==0&&i<ai[s].priority;s++);ai.splice(s,0,e),s===0&&uh(e)}};var mh=n.version;if(mh!=="19.2.0")throw Error(o(527,mh,"19.2.0"));G.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(i),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var iv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Ue=Jo.inject(iv),Pe=Jo}catch{}}return Nl.createRoot=function(e,i){if(!u(e))throw Error(o(299));var s=!1,a="",m=Sf,p=Tf,S=Cf;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=th(e,1,!1,null,null,s,a,null,m,p,S,fh),e[Pi]=i.current,su(e),new bu(i)},Nl.hydrateRoot=function(e,i,s){if(!u(e))throw Error(o(299));var a=!1,m="",p=Sf,S=Tf,b=Cf,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),i=th(e,1,!0,i,s??null,a,m,w,p,S,b,fh),i.context=nh(null),s=i.current,a=Ht(),a=ma(a),m=Yn(a),m.callback=null,Jn(s,m,a),s=a,i.current.lanes=s,ks(i,s),mn(i),e[Pi]=i.current,su(e),new Yo(i)},Nl.version="19.2.0",Nl}var bh;function mv(){if(bh)return Au.exports;bh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Au.exports=fv(),Au.exports}var hv=mv();const pv=Xp(hv);var Y=(t=>(t.Student="Student",t.Instructor="Instructor",t.Admin="Admin",t))(Y||{}),Ce=(t=>(t.Beginner="Beginner",t.Intermediate="Intermediate",t.Advanced="Advanced",t))(Ce||{});const Le=t=>{const{className:n,children:l,...o}=t,u=`shrink-0 transition-all duration-200 ease-in-out ${n||""}`;return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,className:u.trim(),children:l})},wt=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-3.376-1.884a1.125 1.125 0 010-1.991l15.482-8.662a1.125 1.125 0 011.125 0l15.482 8.662a1.125 1.125 0 010 1.991l-3.376 1.884m-15.482 0l15.482 0"})}),hn=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ri=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),gv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Ui=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),Wp=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.928A3 3 0 017.5 12.5m3 3.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72M12 12c-1.487 0-2.731.662-3.616 1.67a3.003 3.003 0 01-1.215-2.254M12 12c1.487 0 2.731.662 3.616 1.67a3.003 3.003 0 001.215-2.254M12 12a3 3 0 01-3-3m3 3a3 3 0 003-3m-3 3a3 3 0 01-3 3m3-3a3 3 0 003 3m0 0c1.11.278 2.03.834 2.741 1.52m-3.35-3.35a3 3 0 01-3.35 3.35m3.35-3.35a3 3 0 00-3.35 3.35m0 0c1.11-.278 2.03-.834 2.741 1.52m-4.682 4.682a3 3 0 01-4.682-2.72m-3.35 3.35a3 3 0 00-3.35-3.35m3.35 3.35a3 3 0 013.35-3.35m0 0c-1.11.278-2.03.834-2.741 1.52m4.682 4.682a3 3 0 014.682 2.72"})}),ui=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663l.001.001zm-3.125-4.5a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),eg=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),Ou=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.722.28c-1.131.084-2.18-.4-2.688-1.332a18.726 18.726 0 00-2.602-3.115c-.533-.46-1.197-.74-1.903-.74H8.25c-1.056 0-1.908-.853-1.908-1.908v-4.286c0-1.056.852-1.908 1.908-1.908h.384a18.726 18.726 0 012.602-3.115c.508-.932 1.557-1.416 2.688-1.332l3.722.28c1.131.085 1.98.957 1.98 2.097v3.192zM15.75 9.75a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5a.75.75 0 01.75-.75z"})}),Eh=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Fu=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.578 0c-.275.046-.55.097-.824.15l-2.122 5.292A2.25 2.25 0 004.58 12.358h14.84a2.25 2.25 0 002.13-2.316l-2.122-5.292a48.107 48.107 0 00-3.478-.397m-12.578 0c-.275.046-.55.097-.824.15M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),yv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18"})}),Uu=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Nh=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),vv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Yu=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),ci=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),tg=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),ng=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})}),ig=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"})}),Ju=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.32 1.011l-4.2 4.03a.563.563 0 00-.162.524l1.28 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.28-5.385a.563.563 0 00-.162-.524l-4.2-4.03a.563.563 0 01.32-1.011l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),xv=t=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",...t,children:r.jsx("path",{d:"M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.49 21.41l4.68-1.23c1.44.8 3.09 1.24 4.87 1.24h.01c5.46 0 9.91-4.45 9.91-9.91s-4.45-9.91-9.91-9.91zM12.04 20.13h-.01c-1.55 0-3.07-.4-4.42-1.15l-.32-.19-3.29.86.88-3.21-.21-.33c-.83-1.32-1.27-2.85-1.27-4.41 0-4.6 3.73-8.33 8.33-8.33 4.6 0 8.33 3.73 8.33 8.33s-3.73 8.33-8.33 8.33zm4.51-6.13c-.24-.12-1.42-.7-1.64-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.01-.37-1.92-1.18-.71-.64-1.19-1.43-1.33-1.67-.14-.24-.01-.37.11-.48.11-.11.24-.28.36-.42.12-.14.16-.24.24-.4s.04-.28-.02-.4c-.06-.12-.54-1.3-.74-1.78-.2-.48-.4-.41-.55-.42-.14-.01-.3 0-.46 0s-.42.06-.64.3c-.22.24-.86.84-.86 2.07s.88 2.4 1 2.56.02.02 1.73 2.66c2.14 1.63 2.53 1.52 3.2 1.52.48 0 1.1-.1 1.43-.64.33-.54.33-1 .27-1.12s-.25-.19-.5-.31z"})}),na=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5M12 9.75v.01M12 12v.01M12 14.25v.01M4.5 12a7.5 7.5 0 0115 0"})}),sg=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Qu=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Sv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.186 2.25 2.25 0 00-3.933 2.186z"})}),lg=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75v4.5m0-4.5h-4.5m4.5 0L15 9M20.25 20.25v-4.5m0 4.5h-4.5m4.5 0L15 15"})}),og=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9L3.75 3.75M3.75 3.75v4.5m0-4.5h4.5m6.75 0L20.25 3.75m0 0v4.5m0-4.5h-4.5M9 15l-5.25 5.25m0 0v-4.5m0 4.5h4.5m6.75 0l5.25 5.25m0 0v-4.5m0 4.5h-4.5"})}),ag=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),rg=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25Z"})}),Tv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),Cv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),bv=t=>r.jsxs(Le,{...t,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5a6 6 0 00-12 0v1.5a6 6 0 006 6zM12 12.75V18.75m0 0A3.75 3.75 0 0015.75 15v-1.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75V18.75m-3.75 0A3.75 3.75 0 0112 15v-1.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75v-1.5m0 0a3.75 3.75 0 00-3.75-3.75M12 11.25a3.75 3.75 0 013.75-3.75"})]}),Ev=t=>r.jsxs(Le,{...t,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12.75c.358-.323.674-.69.936-1.085m-1.58 3.822c-1.373.836-3.04 1.135-4.712.635-1.992-.573-3.6-2.224-3.88-4.296a6.002 6.002 0 015.203-6.524c.42-.083.849-.121 1.282-.121a6 6 0 015.82 5.132M12 11.25v2.516"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75l16.5 16.5"})]}),Nv=t=>r.jsxs(Le,{...t,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72 M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75l16.5 16.5"})]}),Av=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25zm13.5 0l-3.75-3.75m0 0L12 6.75m3.75-3.75L12 3"})}),_v=t=>r.jsxs(Le,{...t,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 14.25v.001M12 14.25v.001M14.25 14.25v.001M16.5 12a4.5 4.5 0 00-9 0"})]}),wv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),Mv=t=>r.jsxs(Le,{...t,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]}),Iv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Rv=t=>r.jsx(Le,{...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25A2.25 2.25 0 015.25 3h13.5A2.25 2.25 0 0121 5.25z"})}),Dv=t=>r.jsxs("svg",{width:"38",height:"24",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"pi-mastercard",...t,children:[r.jsx("title",{id:"pi-mastercard",children:"Mastercard"}),r.jsx("circle",{cx:"15",cy:"12",r:"7",fill:"#EB001B"}),r.jsx("circle",{cx:"23",cy:"12",r:"7",fill:"#F79E1B"}),r.jsx("path",{d:"M22 12c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7 7-3.13 7-7z",fill:"#FF5F00"})]}),Uv=t=>r.jsxs("svg",{width:"38",height:"24",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"pi-visa",...t,children:[r.jsx("title",{id:"pi-visa",children:"Visa"}),r.jsx("path",{d:"M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z",fill:"#1A1F71"}),r.jsx("path",{d:"M14.4 16.1h-2.9l-2.3 6.3h2.9L13 18l.8-2.3h2.4l.2 2.3h2.9L14.4 16.1zm-1.6-1.9l.7-2.3.8 2.3h-1.5zM23.1 19.2l.5-2.9h-1.5l-.5 2.9h-2.8l1.6-9.1h3.1l1.6 9.1h-3zm-1-4.2l-.4-2.3-.4 2.3h.8zM31.1 16.1h-2.2l-1.6 9.1h2.9l.2-1.2h2.2l.3 1.2h2.9l-1.7-9.1h-2.8zm-1.2 5.5h-1.3l.5-2.9h1.3l-.5 2.9z",fill:"#fff"})]}),kv=t=>r.jsxs("svg",{width:"38",height:"24",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"pi-amex",...t,children:[r.jsx("title",{id:"pi-amex",children:"American Express"}),r.jsx("path",{d:"M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z",fill:"#0077C8"}),r.jsx("path",{d:"M11.6 8.9h2.3l2.2 2.9h-2.7l-1.1-1.5-1.1 1.5H8.7l2.9-4.1-2.9-4.1h2.7l1.1 1.5 1.1-1.5h2.7L11.6 8.9zm10.7 0h2.3l2.2 2.9h-2.7l-1.1-1.5-1.1 1.5h-2.6l2.9-4.1-2.9-4.1h2.7l1.1 1.5 1.1-1.5h2.7L22.3 8.9z",fill:"#fff"})]}),Lv=t=>r.jsxs("svg",{width:"38",height:"24",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"pi-discover",...t,children:[r.jsx("title",{id:"pi-discover",children:"Discover"}),r.jsx("path",{d:"M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z",fill:"#FF6600"}),r.jsx("path",{d:"M12.4 12c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6zm9.3 0c0-1.8-1.5-3.3-3.3-3.3s-3.3 1.5-3.3 3.3 1.5 3.3 3.3 3.3 3.3-1.5 3.3-3.3z",fill:"#fff"})]}),qv=()=>r.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center w-1/2 bg-gradient-to-br from-indigo-600 to-violet-700 p-12 text-white text-center",children:[r.jsx(wt,{className:"h-24 w-24 mb-6"}),r.jsx("h1",{className:"text-4xl font-bold",children:"Welcome to Purple LMS"}),r.jsx("p",{className:"mt-4 text-lg text-indigo-100",children:"Unlock Your Trading Potential. Learn, Grow, and Succeed in the Financial Markets."})]}),Al=({id:t,type:n,label:l,value:o,onChange:u,icon:f})=>r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f}),r.jsx("input",{id:t,name:t,type:n,value:o,onChange:u,className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-md bg-white text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500",placeholder:l,required:!0})]}),zv=({otp:t,setOtp:n})=>{const l=o=>{const u=o.target.value.replace(/[^0-9]/g,"");n(u.slice(0,6))};return r.jsx("div",{className:"relative",children:r.jsx("input",{id:"otp",name:"otp",type:"text",value:t,onChange:l,maxLength:6,className:"block w-full text-center text-3xl tracking-[1em] py-3 border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500",autoComplete:"off",required:!0})})},Pv=({onLogin:t,onInitiateSignup:n,onVerifyOtp:l})=>{const[o,u]=I.useState("login"),[f,h]=I.useState("details"),[y,v]=I.useState(""),[g,x]=I.useState(""),[T,C]=I.useState(""),[E,_]=I.useState(""),[N,F]=I.useState(""),[z,J]=I.useState(Y.Student),[j,B]=I.useState(""),[W,te]=I.useState(60),[D,he]=I.useState(!1),[le,ue]=I.useState("");I.useEffect(()=>{let G;return f==="otp"&&W>0?G=setInterval(()=>{te(ce=>ce-1)},1e3):W===0&&he(!0),()=>clearInterval(G)},[f,W]);const oe=async G=>{if(G.preventDefault(),ue(""),!y.trim()||!g.trim()){ue("Please enter both email and password.");return}await t(y,g)||ue("Invalid email or password.")},fe=async G=>{if(G.preventDefault(),ue(""),T.trim()&&E.trim()&&N.trim()){if(N.trim().length<6){ue("Password must be at least 6 characters long.");return}try{await n(T,E,N,z)?(h("otp"),te(60),he(!1)):ue("An account with this email already exists.")}catch(ce){ue(ce instanceof Error?ce.message:"An error occurred. Please try again.")}}else ue("Please fill out all fields.")},Ne=async G=>{if(G.preventDefault(),ue(""),j.length!==6){ue("Please enter a 6-digit OTP.");return}try{await l(j)||ue("Invalid OTP. Please try again.")}catch(ce){ue(ce instanceof Error?ce.message:"An error occurred. Please try again.")}},O=async()=>{ue("");try{await n(T,E,N,z),te(60),he(!1),B("")}catch(G){ue(G instanceof Error?G.message:"Failed to resend OTP. Please try again.")}},re=G=>{u(G),h("details"),ue(""),v(""),x(""),C(""),_(""),F(""),B("")},U=()=>f==="otp"?r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Verify Your Email"}),r.jsxs("p",{className:"text-center text-slate-500 mt-2 mb-8",children:["We sent a 6-digit code to ",r.jsx("span",{className:"font-semibold text-slate-700",children:E}),". Enter it below to continue."]}),r.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[r.jsx(zv,{otp:j,setOtp:B}),r.jsx("div",{className:"text-center text-sm text-slate-500",children:D?r.jsx("button",{type:"button",onClick:O,className:"font-medium text-violet-600 hover:text-violet-500 focus:outline-none",children:"Resend Code"}):r.jsxs("span",{children:["Resend code in ",W,"s"]})}),le&&r.jsx("p",{className:"text-red-500 text-sm text-center",children:le}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 transition-all",children:"Verify & Create Account"})]}),r.jsx("p",{className:"mt-8 text-center text-sm text-slate-600",children:r.jsx("button",{onClick:()=>h("details"),className:"font-medium text-violet-600 hover:text-violet-500 focus:outline-none",children:" Back to details"})})]}):r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Create an Account"}),r.jsx("p",{className:"text-center text-slate-500 mt-2 mb-8",children:"Join our community of learners."}),r.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[r.jsx(Al,{id:"name",type:"text",label:"Full Name",value:T,onChange:G=>C(G.target.value),icon:r.jsx(vv,{className:"h-5 w-5 text-slate-400"})}),r.jsx(Al,{id:"email",type:"email",label:"Email Address",value:E,onChange:G=>_(G.target.value),icon:r.jsx(Uu,{className:"h-5 w-5 text-slate-400"})}),r.jsx(Al,{id:"password",type:"password",label:"Password",value:N,onChange:G=>F(G.target.value),icon:r.jsx(Nh,{className:"h-5 w-5 text-slate-400"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"I am a..."}),r.jsx("div",{className:"flex space-x-2 rounded-lg bg-slate-100 p-1",children:Object.values(Y).map(G=>r.jsx("button",{type:"button",onClick:()=>J(G),className:`w-full text-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-300 ${z===G?"bg-white text-violet-600 shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:G},G))})]}),le&&r.jsx("p",{className:"text-red-500 text-sm text-center",children:le}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 transition-all",children:"Continue"})]}),r.jsxs("p",{className:"mt-8 text-center text-sm text-slate-600",children:["Already have an account?"," ",r.jsx("button",{onClick:()=>re("login"),className:"font-medium text-violet-600 hover:text-violet-500 focus:outline-none",children:"Login"})]})]});return r.jsxs("div",{className:"min-h-screen flex bg-white",children:[r.jsx(qv,{}),r.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center p-6 md:p-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8 md:hidden",children:[r.jsx(wt,{className:"h-12 w-12 mx-auto text-violet-600"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mt-2",children:"Purple LMS"})]}),o==="login"?r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Login"}),r.jsx("p",{className:"text-center text-slate-500 mt-2 mb-8",children:"Welcome back! Please enter your details."}),r.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[r.jsx(Al,{id:"email",type:"email",label:"Email Address",value:y,onChange:G=>v(G.target.value),icon:r.jsx(Uu,{className:"h-5 w-5 text-slate-400"})}),r.jsx(Al,{id:"password",type:"password",label:"Password",value:g,onChange:G=>x(G.target.value),icon:r.jsx(Nh,{className:"h-5 w-5 text-slate-400"})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"text-sm",children:r.jsx("a",{href:"#",className:"font-medium text-violet-600 hover:text-violet-500",children:"Forgot your password?"})})}),le&&r.jsx("p",{className:"text-red-500 text-sm text-center",children:le}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 transition-all",children:"Login"})]}),r.jsxs("p",{className:"mt-8 text-center text-sm text-slate-600",children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>re("signup"),className:"font-medium text-violet-600 hover:text-violet-500 focus:outline-none",children:"Sign up"})]})]}):U()]})})]})},Bv=({label:t,icon:n,isActive:l,onClick:o})=>r.jsxs("button",{onClick:o,className:`flex flex-col items-center justify-center w-full pt-2 pb-1 text-xs transition-colors duration-200 ${l?"text-indigo-600":"text-slate-500 hover:text-indigo-500"}`,children:[n,r.jsx("span",{className:"mt-1",children:t})]}),Ku=({user:t,currentPage:n,setCurrentPage:l})=>{const u=[{id:"home",label:"Home",icon:r.jsx(eg,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"courses",label:"Classes",icon:r.jsx(wt,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"live",label:"Live",icon:r.jsx(Ui,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"sessions",label:"1-on-1",icon:r.jsx(ui,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"community",label:"Community",icon:r.jsx(Ou,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"analytics",label:"Analytics",icon:r.jsx(sg,{className:"w-6 h-6"}),roles:[Y.Admin]},{id:"users",label:"Users",icon:r.jsx(Wp,{className:"w-6 h-6"}),roles:[Y.Admin]}].filter(f=>f.roles.includes(t.role));return r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 z-40",children:r.jsx("div",{className:"flex justify-around",children:u.map(f=>r.jsx(Bv,{label:f.label,icon:f.icon,isActive:n===f.id,onClick:()=>l(f.id)},f.id))})})},jv=t=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),Gv=({type:t})=>{switch(t){case"course":case"certificate":return r.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-indigo-100 rounded-full",children:r.jsx(wt,{className:"w-5 h-5 text-indigo-500"})});case"session":return r.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-teal-100 rounded-full",children:r.jsx(yv,{className:"w-5 h-5 text-teal-500"})});case"announcement":return r.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-amber-100 rounded-full",children:r.jsx(Ou,{className:"w-5 h-5 text-amber-500"})});case"system":default:return r.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded-full",children:r.jsx(na,{className:"w-5 h-5 text-slate-500"})})}},$u=({currentUser:t,notifications:n,setNotifications:l,setCurrentPage:o})=>{const[u,f]=I.useState(!1),h=I.useRef(null),y=n.filter(T=>T.recipientId===t.id).sort((T,C)=>C.createdAt.getTime()-T.createdAt.getTime()),v=y.filter(T=>!T.read).length;I.useEffect(()=>{const T=C=>{h.current&&!h.current.contains(C.target)&&f(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[h]);const g=()=>{f(!u),!u&&v>0&&setTimeout(()=>{l(n.map(T=>T.recipientId===t.id?{...T,read:!0}:T))},2e3)},x=T=>{T.link&&(o(T.link),f(!1))};return r.jsxs("div",{className:"relative",ref:h,children:[r.jsxs("button",{onClick:g,className:"relative p-1 rounded-full text-white hover:bg-white/20",children:[r.jsx(jv,{className:"w-6 h-6"}),v>0&&r.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),u&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 animate-fade-in origin-top-right",children:[r.jsx("div",{className:"p-3 border-b",children:r.jsx("h3",{className:"font-semibold text-gray-800",children:"Notifications"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.length>0?y.map(T=>r.jsx("button",{onClick:()=>x(T),disabled:!T.link,className:`w-full text-left p-3 border-b last:border-b-0 transition-colors ${T.link?"hover:bg-slate-50":"cursor-default"} ${T.read?"":"bg-indigo-50"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Gv,{type:T.type})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-700",children:T.message}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(T.createdAt).toLocaleString()})]})]})},T.id)):r.jsx("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No new notifications."})})]})]})},it=({children:t,className:n,onClick:l})=>r.jsx("div",{onClick:l,className:`bg-white border border-slate-200 shadow-sm rounded-xl overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${n}`,children:t}),ug=({progress:t,className:n})=>{const l=Math.min(100,Math.max(0,t));return r.jsx("div",{className:`w-full bg-slate-200 rounded-full h-2.5 ${n}`,children:r.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-violet-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${l}%`}})})},ki=({rating:t,onRatingChange:n,readOnly:l=!1,className:o})=>{const[u,f]=I.useState(0),h=g=>{!l&&n&&n(g)},y=g=>{l||f(g)},v=()=>{l||f(0)};return r.jsx("div",{className:`flex items-center ${o}`,children:[1,2,3,4,5].map(g=>{const x=u||t;return r.jsx("button",{type:"button",onClick:()=>h(g),onMouseEnter:()=>y(g),onMouseLeave:v,disabled:l,className:`text-yellow-400 disabled:cursor-default focus:outline-none ${l?"":"cursor-pointer transition-transform duration-150 hover:scale-110"}`,"aria-label":`Rate ${g} stars`,children:r.jsx(Ju,{className:"w-5 h-5",fill:g<=x?"currentColor":"none",stroke:(g<=x,"currentColor")})},g)})})},Xu=({course:t,instructor:n,progress:l,onClick:o,onDelete:u,onEdit:f,onManageStudents:h,userRole:y})=>{const v=l&&t.modules.length>0?l.completedModules.length/t.modules.length*100:0,g=l!==void 0,x=E=>{E.stopPropagation(),f&&f(t)},T=E=>{E.stopPropagation(),u&&u(t.id)},C=E=>{E.stopPropagation(),h&&h(t)};return r.jsxs(it,{className:"flex flex-col h-full",onClick:()=>o(t),children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"h-40 w-full object-cover"}),r.jsxs("div",{className:"absolute top-2 right-2 flex items-center bg-white/80 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold",children:[r.jsx(ki,{rating:t.rating||0,readOnly:!0}),r.jsxs("span",{className:"ml-1 text-slate-600",children:["(",t.totalRatings||0,")"]})]})]}),r.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 hover:text-violet-700",children:t.title}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["By ",(n==null?void 0:n.name)||"Unknown"]}),r.jsx("p",{className:"text-sm text-slate-600 mt-2 flex-grow",children:t.description}),g&&y===Y.Student&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Progress"}),r.jsxs("span",{className:"text-xs font-bold text-violet-600",children:[Math.round(v),"%"]})]}),r.jsx(ug,{progress:v})]}),!g&&y===Y.Student&&t.price!=null&&t.price>0&&r.jsx("div",{className:"mt-auto pt-4",children:r.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",t.price.toLocaleString("en-IN")]})})]}),y===Y.Admin||y===Y.Instructor?r.jsxs("div",{className:"bg-slate-50 p-3 border-t flex justify-end space-x-2",children:[h&&r.jsx("button",{onClick:C,className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"Manage Students"}),f&&r.jsx("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Edit"}),u&&r.jsx("button",{onClick:T,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Delete"})]}):y===Y.Student&&!g?r.jsx("div",{className:"bg-amber-500 mt-auto p-4 text-center text-black font-bold transition-colors hover:bg-amber-600",children:t.price&&t.price>0?`Enroll Now for ${t.price.toLocaleString("en-IN")}`:"Enroll for Free"}):null]})},pt=({isOpen:t,onClose:n,title:l,children:o,size:u="xl"})=>{if(!t)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:n,children:r.jsxs("div",{className:`bg-white text-slate-800 rounded-lg shadow-xl relative w-full ${f[u]} flex flex-col max-h-[90vh]`,onClick:h=>h.stopPropagation(),children:[r.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[r.jsx("h2",{className:"text-xl font-bold text-indigo-600",children:l}),r.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-800 transition-colors",children:r.jsx(hn,{className:"w-8 h-8"})})]}),r.jsx("main",{className:"p-6 overflow-y-auto",children:o})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vv,Hv;function Ov(){return{geminiUrl:Vv,vertexUrl:Hv}}function Fv(t,n,l,o){var u,f;if(!(t!=null&&t.baseUrl)){const h=Ov();return n?(u=h.vertexUrl)!==null&&u!==void 0?u:l:(f=h.geminiUrl)!==null&&f!==void 0?f:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function ge(t,n){const l=/\{([^}]+)\}/g;return t.replace(l,(o,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const f=n[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function d(t,n,l){for(let f=0;f<n.length-1;f++){const h=n[f];if(h.endsWith("[]")){const y=h.slice(0,-2);if(!(y in t))if(Array.isArray(l))t[y]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(t[y])){const v=t[y];if(Array.isArray(l))for(let g=0;g<v.length;g++){const x=v[g];d(x,n.slice(f+1),l[g])}else for(const g of v)d(g,n.slice(f+1),l)}return}else if(h.endsWith("[0]")){const y=h.slice(0,-3);y in t||(t[y]=[{}]);const v=t[y];d(v[0],n.slice(f+1),l);return}(!t[h]||typeof t[h]!="object")&&(t[h]={}),t=t[h]}const o=n[n.length-1],u=t[o];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(t,l):t[o]=l}function c(t,n,l=void 0){try{if(n.length===1&&n[0]==="_self")return t;for(let o=0;o<n.length;o++){if(typeof t!="object"||t===null)return l;const u=n[o];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in t){const h=t[f];return Array.isArray(h)?h.map(y=>c(y,n.slice(o+1),l)):l}else return l}else t=t[u]}return t}catch(o){if(o instanceof TypeError)return l;throw o}}function Yv(t,n){for(const[l,o]of Object.entries(n)){const u=l.split("."),f=o.split("."),h=new Set;let y=-1;for(let v=0;v<u.length;v++)if(u[v]==="*"){y=v;break}if(y!==-1&&f.length>y)for(let v=y;v<f.length;v++){const g=f[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&h.add(g)}ku(t,u,f,0,h)}}function ku(t,n,l,o,u){if(o>=n.length||typeof t!="object"||t===null)return;const f=n[o];if(f.endsWith("[]")){const h=f.slice(0,-2),y=t;if(h in y&&Array.isArray(y[h]))for(const v of y[h])ku(v,n,l,o+1,u)}else if(f==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const h=t,y=Object.keys(h).filter(g=>!g.startsWith("_")&&!u.has(g)),v={};for(const g of y)v[g]=h[g];for(const[g,x]of Object.entries(v)){const T=[];for(const C of l.slice(o))C==="*"?T.push(g):T.push(C);d(h,T,x)}for(const g of y)delete h[g]}}else{const h=t;f in h&&ku(h[f],n,l,o+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jv(t){const n={},l=c(t,["operationName"]);l!=null&&d(n,["operationName"],l);const o=c(t,["resourceName"]);return o!=null&&d(n,["_url","resourceName"],o),n}function Qv(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],$v(h)),n}function Kv(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response"]);return h!=null&&d(n,["response"],Xv(h)),n}function $v(t){const n={},l=c(t,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Zv(h))),d(n,["generatedVideos"],f)}const o=c(t,["raiMediaFilteredCount"]);o!=null&&d(n,["raiMediaFilteredCount"],o);const u=c(t,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function Xv(t){const n={},l=c(t,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Wv(h))),d(n,["generatedVideos"],f)}const o=c(t,["raiMediaFilteredCount"]);o!=null&&d(n,["raiMediaFilteredCount"],o);const u=c(t,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function Zv(t){const n={},l=c(t,["video"]);return l!=null&&d(n,["video"],lx(l)),n}function Wv(t){const n={},l=c(t,["_self"]);return l!=null&&d(n,["video"],ox(l)),n}function ex(t){const n={},l=c(t,["operationName"]);return l!=null&&d(n,["_url","operationName"],l),n}function tx(t){const n={},l=c(t,["operationName"]);return l!=null&&d(n,["_url","operationName"],l),n}function nx(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response"]);return h!=null&&d(n,["response"],ix(h)),n}function ix(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["parent"]);o!=null&&d(n,["parent"],o);const u=c(t,["documentName"]);return u!=null&&d(n,["documentName"],u),n}function cg(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response"]);return h!=null&&d(n,["response"],sx(h)),n}function sx(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["parent"]);o!=null&&d(n,["parent"],o);const u=c(t,["documentName"]);return u!=null&&d(n,["documentName"],u),n}function lx(t){const n={},l=c(t,["uri"]);l!=null&&d(n,["uri"],l);const o=c(t,["encodedVideo"]);o!=null&&d(n,["videoBytes"],Zu(o));const u=c(t,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function ox(t){const n={},l=c(t,["gcsUri"]);l!=null&&d(n,["uri"],l);const o=c(t,["bytesBase64Encoded"]);o!=null&&d(n,["videoBytes"],Zu(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ah;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ah||(Ah={}));var _h;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_h||(_h={}));var wh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(wh||(wh={}));var qt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(qt||(qt={}));var Mh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Mh||(Mh={}));var Ih;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ih||(Ih={}));var Rh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Rh||(Rh={}));var Dh;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Dh||(Dh={}));var Uh;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Uh||(Uh={}));var kh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kh||(kh={}));var Lh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Lh||(Lh={}));var qh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qh||(qh={}));var zh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(zh||(zh={}));var Ph;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ph||(Ph={}));var Bh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bh||(Bh={}));var jh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jh||(jh={}));var Gh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Gh||(Gh={}));var Vh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vh||(Vh={}));var Zo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Zo||(Zo={}));var Hh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hh||(Hh={}));var Oh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Oh||(Oh={}));var Fh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fh||(Fh={}));var Lu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lu||(Lu={}));var Yh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Yh||(Yh={}));var Jh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Jh||(Jh={}));var Qh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Qh||(Qh={}));var Kh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Kh||(Kh={}));var $h;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($h||($h={}));var Xh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Xh||(Xh={}));var Zh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Zh||(Zh={}));var Wh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Wh||(Wh={}));var ep;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ep||(ep={}));var tp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tp||(tp={}));var np;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(np||(np={}));var ip;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ip||(ip={}));var sp;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sp||(sp={}));var lp;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lp||(lp={}));var op;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(op||(op={}));var ap;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ap||(ap={}));var rp;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rp||(rp={}));var up;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(up||(up={}));var cp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cp||(cp={}));var dp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dp||(dp={}));var fp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(fp||(fp={}));var mp;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mp||(mp={}));var hp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hp||(hp={}));var pp;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pp||(pp={}));var gp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gp||(gp={}));var yp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yp||(yp={}));var vp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vp||(vp={}));var xp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xp||(xp={}));var Sp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Sp||(Sp={}));var Cs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Cs||(Cs={}));class qu{constructor(n){const l={};for(const o of n.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=n}json(){return this.responseInternal.json()}}class _l{get text(){var n,l,o,u,f,h,y,v;if(((u=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const T=[];for(const C of(v=(y=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[E,_]of Object.entries(C))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(_!==null||_!==void 0)&&T.push(E);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;x=!0,g+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var n,l,o,u,f,h,y,v;if(((u=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const T of(v=(y=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[C,E]of Object.entries(T))C!=="inlineData"&&(E!==null||E!==void 0)&&x.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,l,o,u,f,h,y,v;if(((u=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(y=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,l,o,u,f,h,y,v,g;if(((u=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(y=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,l,o,u,f,h,y,v,g;if(((u=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(y=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class Tp{}class Cp{}class ax{}class rx{}class ux{}class cx{}class bp{}class Ep{}class Np{}class dx{}class Wo{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new Wo;let u;const f=n;return l?u=Kv(f):u=Qv(f),Object.assign(o,u),o}}class Ap{}class _p{}class wp{}class fx{}class mx{}class hx{}class Wu{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new Wu,f=nx(n);return Object.assign(o,f),o}}class px{}class gx{}class yx{}class Mp{}class vx{get text(){var n,l,o;let u="",f=!1;const h=[];for(const y of(o=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[v,g]of Object.entries(y))v!=="text"&&v!=="thought"&&g!==null&&h.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;f=!0,u+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var n,l,o;let u="";const f=[];for(const h of(o=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,v]of Object.entries(h))y!=="inlineData"&&v!==null&&f.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class xx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ec{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new ec,f=cg(n);return Object.assign(o,f),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const l=n.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function dg(t,n){const l=Ye(t,n);return l?l.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${l}`:l.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${l}`:l:""}function fg(t){return Array.isArray(t)?t.map(n=>ea(n)):[ea(t)]}function ea(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mg(t){const n=ea(t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function hg(t){const n=ea(t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ip(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function pg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Ip(n)):[Ip(t)]}function zu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Rp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Dp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nt(t){if(t==null)throw new Error("ContentUnion is required");return zu(t)?t:{role:"user",parts:pg(t)}}function tc(t,n){if(!n)return[];if(t.isVertexAI()&&Array.isArray(n))return n.flatMap(l=>{const o=Nt(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const l=Nt(n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(n)?n.map(l=>Nt(l)):[Nt(n)]}function en(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Rp(t)||Dp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(t)]}const n=[],l=[],o=zu(t[0]);for(const u of t){const f=zu(u);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(u);else{if(Rp(u)||Dp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return o||n.push({role:"user",parts:pg(l)}),n}function Sx(t,n){t.includes("null")&&(n.nullable=!0);const l=t.filter(o=>o!=="null");if(l.length===1)n.type=Object.values(qt).includes(l[0].toUpperCase())?l[0].toUpperCase():qt.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const o of l)n.anyOf.push({type:Object.values(qt).includes(o.toUpperCase())?o.toUpperCase():qt.TYPE_UNSPECIFIED})}}function bs(t){const n={},l=["items"],o=["anyOf"],u=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=t.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,t=f[1]):f[1].type==="null"&&(n.nullable=!0,t=f[0])),t.type instanceof Array&&Sx(t.type,n);for(const[h,y]of Object.entries(t))if(y!=null)if(h=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;n.type=Object.values(qt).includes(y.toUpperCase())?y.toUpperCase():qt.TYPE_UNSPECIFIED}else if(l.includes(h))n[h]=bs(y);else if(o.includes(h)){const v=[];for(const g of y){if(g.type=="null"){n.nullable=!0;continue}v.push(bs(g))}n[h]=v}else if(u.includes(h)){const v={};for(const[g,x]of Object.entries(y))v[g]=bs(x);n[h]=v}else{if(h==="additionalProperties")continue;n[h]=y}return n}function nc(t){return bs(t)}function ic(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function As(t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=bs(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=bs(n.response));return t}function _s(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of t)n.push(l);return n}function Tx(t,n,l,o=1){const u=!n.startsWith(`${l}/`)&&n.split("/").length===o;return t.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${t.getProject()}/${n}`:n.startsWith(`${l}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:u?`projects/${t.getProject()}/locations/${t.getLocation()}/${l}/${n}`:n:u?`${l}/${n}`:n}function qn(t,n){if(typeof n!="string")throw new Error("name must be a string");return Tx(t,n,"cachedContents")}function gg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fi(t){return Zu(t)}function Cx(t){return t!=null&&typeof t=="object"&&"name"in t}function bx(t){return t!=null&&typeof t=="object"&&"video"in t}function Ex(t){return t!=null&&typeof t=="object"&&"uri"in t}function yg(t){var n;let l;if(Cx(t)&&(l=t.name),!(Ex(t)&&(l=t.uri,l===void 0))&&!(bx(t)&&(l=(n=t.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof t=="string"&&(l=t),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function vg(t,n){let l;return t.isVertexAI()?l=n?"publishers/google/models":"models":l=n?"models":"tunedModels",l}function xg(t){for(const n of["models","tunedModels","publisherModels"])if(Nx(t,n))return t[n];return[]}function Nx(t,n){return t!==null&&typeof t=="object"&&n in t}function Ax(t,n={}){const l=t,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),n.behavior&&(o.behavior=n.behavior),{functionDeclarations:[o]}}function _x(t,n={}){const l=[],o=new Set;for(const u of t){const f=u.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const h=Ax(u,n);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function Sg(t,n){let l;if(typeof n=="string")if(t.isVertexAI())if(n.startsWith("gs://"))l={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))l={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))l={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:n}}else l=n;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,u=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(t.isVertexAI()){if(u>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function wx(t){if(typeof t!="string")return t;const n=t;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Tg(t){if(typeof t!="object"||t===null)return{};const n=t,l=n.inlinedResponses;if(typeof l!="object"||l===null)return t;const u=l.inlinedResponses;if(!Array.isArray(u)||u.length===0)return t;let f=!1;for(const h of u){if(typeof h!="object"||h===null)continue;const v=h.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),t}function ws(t,n){const l=n;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Cg(t){const n=t;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(t){const n={},l=c(t,["responsesFile"]);l!=null&&d(n,["fileName"],l);const o=c(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>oS(h))),d(n,["inlinedResponses"],f)}const u=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["inlinedEmbedContentResponses"],f)}return n}function Ix(t){const n={},l=c(t,["predictionsFormat"]);l!=null&&d(n,["format"],l);const o=c(t,["gcsDestination","outputUriPrefix"]);o!=null&&d(n,["gcsUri"],o);const u=c(t,["bigqueryDestination","outputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function Rx(t){const n={},l=c(t,["format"]);l!=null&&d(n,["predictionsFormat"],l);const o=c(t,["gcsUri"]);o!=null&&d(n,["gcsDestination","outputUriPrefix"],o);const u=c(t,["bigqueryUri"]);if(u!=null&&d(n,["bigqueryDestination","outputUri"],u),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function $o(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata","displayName"]);o!=null&&d(n,["displayName"],o);const u=c(t,["metadata","state"]);u!=null&&d(n,["state"],Cg(u));const f=c(t,["metadata","createTime"]);f!=null&&d(n,["createTime"],f);const h=c(t,["metadata","endTime"]);h!=null&&d(n,["endTime"],h);const y=c(t,["metadata","updateTime"]);y!=null&&d(n,["updateTime"],y);const v=c(t,["metadata","model"]);v!=null&&d(n,["model"],v);const g=c(t,["metadata","output"]);return g!=null&&d(n,["dest"],Mx(Tg(g))),n}function Pu(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["displayName"]);o!=null&&d(n,["displayName"],o);const u=c(t,["state"]);u!=null&&d(n,["state"],Cg(u));const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["createTime"]);h!=null&&d(n,["createTime"],h);const y=c(t,["startTime"]);y!=null&&d(n,["startTime"],y);const v=c(t,["endTime"]);v!=null&&d(n,["endTime"],v);const g=c(t,["updateTime"]);g!=null&&d(n,["updateTime"],g);const x=c(t,["model"]);x!=null&&d(n,["model"],x);const T=c(t,["inputConfig"]);T!=null&&d(n,["src"],Dx(T));const C=c(t,["outputConfig"]);C!=null&&d(n,["dest"],Ix(Tg(C)));const E=c(t,["completionStats"]);return E!=null&&d(n,["completionStats"],E),n}function Dx(t){const n={},l=c(t,["instancesFormat"]);l!=null&&d(n,["format"],l);const o=c(t,["gcsSource","uris"]);o!=null&&d(n,["gcsUri"],o);const u=c(t,["bigquerySource","inputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function Ux(t,n){const l={};if(c(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(n,["fileName"]);o!=null&&d(l,["fileName"],o);const u=c(n,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>lS(t,h))),d(l,["requests","requests"],f)}return l}function kx(t){const n={},l=c(t,["format"]);l!=null&&d(n,["instancesFormat"],l);const o=c(t,["gcsUri"]);o!=null&&d(n,["gcsSource","uris"],o);const u=c(t,["bigqueryUri"]);if(u!=null&&d(n,["bigquerySource","inputUri"],u),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Lx(t){const n={},l=c(t,["data"]);if(l!=null&&d(n,["data"],l),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function qx(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function zx(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function Px(t){const n={},l=c(t,["content"]);l!=null&&d(n,["content"],l);const o=c(t,["citationMetadata"]);o!=null&&d(n,["citationMetadata"],Bx(o));const u=c(t,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const f=c(t,["finishReason"]);f!=null&&d(n,["finishReason"],f);const h=c(t,["avgLogprobs"]);h!=null&&d(n,["avgLogprobs"],h);const y=c(t,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const v=c(t,["index"]);v!=null&&d(n,["index"],v);const g=c(t,["logprobsResult"]);g!=null&&d(n,["logprobsResult"],g);const x=c(t,["safetyRatings"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(E=>E)),d(n,["safetyRatings"],C)}const T=c(t,["urlContextMetadata"]);return T!=null&&d(n,["urlContextMetadata"],T),n}function Bx(t){const n={},l=c(t,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>u)),d(n,["citations"],o)}return n}function bg(t){const n={},l=c(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>mS(f))),d(n,["parts"],u)}const o=c(t,["role"]);return o!=null&&d(n,["role"],o),n}function jx(t,n){const l={},o=c(t,["displayName"]);if(n!==void 0&&o!=null&&d(n,["batch","displayName"],o),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Gx(t,n){const l={},o=c(t,["displayName"]);n!==void 0&&o!=null&&d(n,["displayName"],o);const u=c(t,["dest"]);return n!==void 0&&u!=null&&d(n,["outputConfig"],Rx(wx(u))),l}function Up(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["src"]);u!=null&&d(l,["batch","inputConfig"],Ux(t,Sg(t,u)));const f=c(n,["config"]);return f!=null&&jx(f,l),l}function Vx(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["model"],Ye(t,o));const u=c(n,["src"]);u!=null&&d(l,["inputConfig"],kx(Sg(t,u)));const f=c(n,["config"]);return f!=null&&Gx(f,l),l}function Hx(t,n){const l={},o=c(t,["displayName"]);return n!==void 0&&o!=null&&d(n,["batch","displayName"],o),l}function Ox(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["src"]);u!=null&&d(l,["batch","inputConfig"],Xx(t,u));const f=c(n,["config"]);return f!=null&&Hx(f,l),l}function Fx(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function Yx(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function Jx(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["name"]);o!=null&&d(n,["name"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);return f!=null&&d(n,["error"],f),n}function Qx(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["name"]);o!=null&&d(n,["name"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);return f!=null&&d(n,["error"],f),n}function Kx(t,n){const l={},o=c(n,["contents"]);if(o!=null){let f=tc(t,o);Array.isArray(f)&&(f=f.map(h=>h)),d(l,["requests[]","request","content"],f)}const u=c(n,["config"]);return u!=null&&(d(l,["_self"],$x(u,l)),Yv(l,{"requests[].*":"requests[].request.*"})),l}function $x(t,n){const l={},o=c(t,["taskType"]);n!==void 0&&o!=null&&d(n,["requests[]","taskType"],o);const u=c(t,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const f=c(t,["outputDimensionality"]);if(n!==void 0&&f!=null&&d(n,["requests[]","outputDimensionality"],f),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Xx(t,n){const l={},o=c(n,["fileName"]);o!=null&&d(l,["file_name"],o);const u=c(n,["inlinedRequests"]);return u!=null&&d(l,["requests"],Kx(t,u)),l}function Zx(t){const n={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(t,["fileUri"]);l!=null&&d(n,["fileUri"],l);const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function Wx(t,n,l){const o={},u=c(n,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],bg(Nt(u)));const f=c(n,["temperature"]);f!=null&&d(o,["temperature"],f);const h=c(n,["topP"]);h!=null&&d(o,["topP"],h);const y=c(n,["topK"]);y!=null&&d(o,["topK"],y);const v=c(n,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const g=c(n,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const x=c(n,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(n,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(o,["logprobs"],C);const E=c(n,["presencePenalty"]);E!=null&&d(o,["presencePenalty"],E);const _=c(n,["frequencyPenalty"]);_!=null&&d(o,["frequencyPenalty"],_);const N=c(n,["seed"]);N!=null&&d(o,["seed"],N);const F=c(n,["responseMimeType"]);F!=null&&d(o,["responseMimeType"],F);const z=c(n,["responseSchema"]);z!=null&&d(o,["responseSchema"],nc(z));const J=c(n,["responseJsonSchema"]);if(J!=null&&d(o,["responseJsonSchema"],J),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=c(n,["safetySettings"]);if(l!==void 0&&j!=null){let fe=j;Array.isArray(fe)&&(fe=fe.map(Ne=>hS(Ne))),d(l,["safetySettings"],fe)}const B=c(n,["tools"]);if(l!==void 0&&B!=null){let fe=_s(B);Array.isArray(fe)&&(fe=fe.map(Ne=>pS(As(Ne)))),d(l,["tools"],fe)}const W=c(n,["toolConfig"]);if(l!==void 0&&W!=null&&d(l,["toolConfig"],W),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(n,["cachedContent"]);l!==void 0&&te!=null&&d(l,["cachedContent"],qn(t,te));const D=c(n,["responseModalities"]);D!=null&&d(o,["responseModalities"],D);const he=c(n,["mediaResolution"]);he!=null&&d(o,["mediaResolution"],he);const le=c(n,["speechConfig"]);if(le!=null&&d(o,["speechConfig"],ic(le)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=c(n,["thinkingConfig"]);ue!=null&&d(o,["thinkingConfig"],ue);const oe=c(n,["imageConfig"]);return oe!=null&&d(o,["imageConfig"],oe),o}function eS(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["candidates"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>Px(g))),d(n,["candidates"],v)}const u=c(t,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const f=c(t,["promptFeedback"]);f!=null&&d(n,["promptFeedback"],f);const h=c(t,["responseId"]);h!=null&&d(n,["responseId"],h);const y=c(t,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function tS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function nS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],ws(t,o)),l}function iS(t){const n={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(t,["enableWidget"]);return l!=null&&d(n,["enableWidget"],l),n}function sS(t){const n={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=c(t,["timeRangeFilter"]);return l!=null&&d(n,["timeRangeFilter"],l),n}function lS(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["request","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let y=en(u);Array.isArray(y)&&(y=y.map(v=>bg(v))),d(l,["request","contents"],y)}const f=c(n,["metadata"]);f!=null&&d(l,["metadata"],f);const h=c(n,["config"]);return h!=null&&d(l,["request","generationConfig"],Wx(t,h,c(l,["request"],{}))),l}function oS(t){const n={},l=c(t,["response"]);l!=null&&d(n,["response"],eS(l));const o=c(t,["error"]);return o!=null&&d(n,["error"],o),n}function aS(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);if(n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function rS(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);n!==void 0&&u!=null&&d(n,["_query","pageToken"],u);const f=c(t,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),l}function uS(t){const n={},l=c(t,["config"]);return l!=null&&aS(l,n),n}function cS(t){const n={},l=c(t,["config"]);return l!=null&&rS(l,n),n}function dS(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>$o(h))),d(n,["batchJobs"],f)}return n}function fS(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Pu(h))),d(n,["batchJobs"],f)}return n}function mS(t){const n={},l=c(t,["functionCall"]);l!=null&&d(n,["functionCall"],l);const o=c(t,["codeExecutionResult"]);o!=null&&d(n,["codeExecutionResult"],o);const u=c(t,["executableCode"]);u!=null&&d(n,["executableCode"],u);const f=c(t,["fileData"]);f!=null&&d(n,["fileData"],Zx(f));const h=c(t,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const y=c(t,["inlineData"]);y!=null&&d(n,["inlineData"],Lx(y));const v=c(t,["text"]);v!=null&&d(n,["text"],v);const g=c(t,["thought"]);g!=null&&d(n,["thought"],g);const x=c(t,["thoughtSignature"]);x!=null&&d(n,["thoughtSignature"],x);const T=c(t,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function hS(t){const n={},l=c(t,["category"]);if(l!=null&&d(n,["category"],l),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(t,["threshold"]);return o!=null&&d(n,["threshold"],o),n}function pS(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),d(n,["functionDeclarations"],x)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(t,["googleSearchRetrieval"]);o!=null&&d(n,["googleSearchRetrieval"],o);const u=c(t,["computerUse"]);u!=null&&d(n,["computerUse"],u);const f=c(t,["fileSearch"]);f!=null&&d(n,["fileSearch"],f);const h=c(t,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(t,["googleMaps"]);y!=null&&d(n,["googleMaps"],iS(y));const v=c(t,["googleSearch"]);v!=null&&d(n,["googleSearch"],sS(v));const g=c(t,["urlContext"]);return g!=null&&d(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(kn||(kn={}));class Li{constructor(n,l,o,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(n,o,u)}init(n,l,o){var u,f;this.nameInternal=n,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!o||Object.keys(o).length===0?h={config:{}}:typeof o=="object"?h=Object.assign({},o):h=o,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(u=h.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gS extends Ln{constructor(n){super(),this.apiClient=n,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new Li(kn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}createInlinedGenerateContentRequest(n){const l=Up(this.apiClient,n),o=l._url,u=ge("{model}:batchGenerateContent",o),y=l.batch.inputConfig.requests,v=y.requests,g=[];for(const x of v){const T=Object.assign({},x);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const E=T.request;E.systemInstruction=C,T.request=E}g.push(T)}return y.requests=g,delete l.config,delete l._url,delete l._query,{path:u,body:l}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,l){const o=l?Object.assign({},l):{},u=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${u}`),o.dest===void 0){const f=this.getGcsUri(n),h=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?o.dest=`${f.slice(0,-6)}/dest`:o.dest=`${f}_dest_${u}`;else if(h)o.dest=`${h}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=Vx(this.apiClient,n);return y=ge("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>Pu(x))}else{const g=Up(this.apiClient,n);return y=ge("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>$o(x))}}async createEmbeddingsInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Ox(this.apiClient,n);return f=ge("{model}:asyncBatchEmbedContent",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>$o(v))}}async get(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=nS(this.apiClient,n);return y=ge("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>Pu(x))}else{const g=tS(this.apiClient,n);return y=ge("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>$o(x))}}async cancel(n){var l,o,u,f;let h="",y={};if(this.apiClient.isVertexAI()){const v=zx(this.apiClient,n);h=ge("batchPredictionJobs/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=qx(this.apiClient,n);h=ge("batches/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=cS(n);return y=ge("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=fS(x),C=new Mp;return Object.assign(C,T),C})}else{const g=uS(n);return y=ge("batches",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=dS(x),C=new Mp;return Object.assign(C,T),C})}}async delete(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=Yx(this.apiClient,n);return y=ge("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>Qx(x))}else{const g=Fx(this.apiClient,n);return y=ge("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>Jx(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(t){const n={},l=c(t,["data"]);if(l!=null&&d(n,["data"],l),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function kp(t){const n={},l=c(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>PS(f))),d(n,["parts"],u)}const o=c(t,["role"]);return o!=null&&d(n,["role"],o),n}function vS(t,n){const l={},o=c(t,["ttl"]);n!==void 0&&o!=null&&d(n,["ttl"],o);const u=c(t,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const f=c(t,["displayName"]);n!==void 0&&f!=null&&d(n,["displayName"],f);const h=c(t,["contents"]);if(n!==void 0&&h!=null){let x=en(h);Array.isArray(x)&&(x=x.map(T=>kp(T))),d(n,["contents"],x)}const y=c(t,["systemInstruction"]);n!==void 0&&y!=null&&d(n,["systemInstruction"],kp(Nt(y)));const v=c(t,["tools"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>BS(T))),d(n,["tools"],x)}const g=c(t,["toolConfig"]);if(n!==void 0&&g!=null&&d(n,["toolConfig"],g),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function xS(t,n){const l={},o=c(t,["ttl"]);n!==void 0&&o!=null&&d(n,["ttl"],o);const u=c(t,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const f=c(t,["displayName"]);n!==void 0&&f!=null&&d(n,["displayName"],f);const h=c(t,["contents"]);if(n!==void 0&&h!=null){let T=en(h);Array.isArray(T)&&(T=T.map(C=>C)),d(n,["contents"],T)}const y=c(t,["systemInstruction"]);n!==void 0&&y!=null&&d(n,["systemInstruction"],Nt(y));const v=c(t,["tools"]);if(n!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>jS(C))),d(n,["tools"],T)}const g=c(t,["toolConfig"]);n!==void 0&&g!=null&&d(n,["toolConfig"],g);const x=c(t,["kmsKeyName"]);return n!==void 0&&x!=null&&d(n,["encryption_spec","kmsKeyName"],x),l}function SS(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["model"],dg(t,o));const u=c(n,["config"]);return u!=null&&vS(u,l),l}function TS(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["model"],dg(t,o));const u=c(n,["config"]);return u!=null&&xS(u,l),l}function CS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],qn(t,o)),l}function bS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],qn(t,o)),l}function ES(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function NS(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function AS(t){const n={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(t,["fileUri"]);l!=null&&d(n,["fileUri"],l);const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function _S(t){const n={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(t,["description"]);l!=null&&d(n,["description"],l);const o=c(t,["name"]);o!=null&&d(n,["name"],o);const u=c(t,["parameters"]);u!=null&&d(n,["parameters"],u);const f=c(t,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const h=c(t,["response"]);h!=null&&d(n,["response"],h);const y=c(t,["responseJsonSchema"]);return y!=null&&d(n,["responseJsonSchema"],y),n}function wS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],qn(t,o)),l}function MS(t,n){const l={},o=c(n,["name"]);return o!=null&&d(l,["_url","name"],qn(t,o)),l}function IS(t){const n={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(t,["enableWidget"]);return l!=null&&d(n,["enableWidget"],l),n}function RS(t){const n={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=c(t,["timeRangeFilter"]);return l!=null&&d(n,["timeRangeFilter"],l),n}function DS(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),l}function US(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),l}function kS(t){const n={},l=c(t,["config"]);return l!=null&&DS(l,n),n}function LS(t){const n={},l=c(t,["config"]);return l!=null&&US(l,n),n}function qS(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["cachedContents"],f)}return n}function zS(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["cachedContents"],f)}return n}function PS(t){const n={},l=c(t,["functionCall"]);l!=null&&d(n,["functionCall"],l);const o=c(t,["codeExecutionResult"]);o!=null&&d(n,["codeExecutionResult"],o);const u=c(t,["executableCode"]);u!=null&&d(n,["executableCode"],u);const f=c(t,["fileData"]);f!=null&&d(n,["fileData"],AS(f));const h=c(t,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const y=c(t,["inlineData"]);y!=null&&d(n,["inlineData"],yS(y));const v=c(t,["text"]);v!=null&&d(n,["text"],v);const g=c(t,["thought"]);g!=null&&d(n,["thought"],g);const x=c(t,["thoughtSignature"]);x!=null&&d(n,["thoughtSignature"],x);const T=c(t,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function BS(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),d(n,["functionDeclarations"],x)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(t,["googleSearchRetrieval"]);o!=null&&d(n,["googleSearchRetrieval"],o);const u=c(t,["computerUse"]);u!=null&&d(n,["computerUse"],u);const f=c(t,["fileSearch"]);f!=null&&d(n,["fileSearch"],f);const h=c(t,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(t,["googleMaps"]);y!=null&&d(n,["googleMaps"],IS(y));const v=c(t,["googleSearch"]);v!=null&&d(n,["googleSearch"],RS(v));const g=c(t,["urlContext"]);return g!=null&&d(n,["urlContext"],g),n}function jS(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>_S(C))),d(n,["functionDeclarations"],T)}const o=c(t,["retrieval"]);o!=null&&d(n,["retrieval"],o);const u=c(t,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const f=c(t,["computerUse"]);if(f!=null&&d(n,["computerUse"],f),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=c(t,["codeExecution"]);h!=null&&d(n,["codeExecution"],h);const y=c(t,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const v=c(t,["googleMaps"]);v!=null&&d(n,["googleMaps"],v);const g=c(t,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const x=c(t,["urlContext"]);return x!=null&&d(n,["urlContext"],x),n}function GS(t,n){const l={},o=c(t,["ttl"]);n!==void 0&&o!=null&&d(n,["ttl"],o);const u=c(t,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),l}function VS(t,n){const l={},o=c(t,["ttl"]);n!==void 0&&o!=null&&d(n,["ttl"],o);const u=c(t,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),l}function HS(t,n){const l={},o=c(n,["name"]);o!=null&&d(l,["_url","name"],qn(t,o));const u=c(n,["config"]);return u!=null&&GS(u,l),l}function OS(t,n){const l={},o=c(n,["name"]);o!=null&&d(l,["_url","name"],qn(t,o));const u=c(n,["config"]);return u!=null&&VS(u,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends Ln{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new Li(kn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=TS(this.apiClient,n);return y=ge("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const g=SS(this.apiClient,n);return y=ge("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async get(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=MS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const g=wS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async delete(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=bS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=NS(x),C=new _p;return Object.assign(C,T),C})}else{const g=CS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=ES(x),C=new _p;return Object.assign(C,T),C})}}async update(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=OS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const g=HS(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async listInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=LS(n);return y=ge("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=zS(x),C=new wp;return Object.assign(C,T),C})}else{const g=kS(n);return y=ge("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=qS(x),C=new wp;return Object.assign(C,T),C})}}}function Lp(t){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&t[n],o=0;if(l)return l.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(t){return this instanceof nt?(this.v=t,this):new nt(t)}function Es(t,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(t,n||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(E){return function(_){return Promise.resolve(_).then(E,T)}}function y(E,_){o[E]&&(u[E]=function(N){return new Promise(function(F,z){f.push([E,N,F,z])>1||v(E,N)})},_&&(u[E]=_(u[E])))}function v(E,_){try{g(o[E](_))}catch(N){C(f[0][3],N)}}function g(E){E.value instanceof nt?Promise.resolve(E.value.v).then(x,T):C(f[0][2],E)}function x(E){v("next",E)}function T(E){v("throw",E)}function C(E,_){E(_),f.shift(),f.length&&v(f[0][0],f[0][1])}}function Ml(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],l;return n?n.call(t):(t=typeof Lp=="function"?Lp(t):t[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=t[f]&&function(h){return new Promise(function(y,v){h=t[f](h),u(y,v,h.done,h.value)})}}function u(f,h,y,v){Promise.resolve(v).then(function(g){f({value:g,done:y})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(t){var n;if(t.candidates==null||t.candidates.length===0)return!1;const l=(n=t.candidates[0])===null||n===void 0?void 0:n.content;return l===void 0?!1:Eg(l)}function Eg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const n of t.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function JS(t){if(t.length!==0){for(const n of t)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function qp(t){if(t===void 0||t.length===0)return[];const n=[],l=t.length;let o=0;for(;o<l;)if(t[o].role==="user")n.push(t[o]),o++;else{const u=[];let f=!0;for(;o<l&&t[o].role==="model";)u.push(t[o]),f&&!Eg(t[o])&&(f=!1),o++;f?n.push(...u):n.pop()}return n}class QS{constructor(n,l){this.modelsModule=n,this.apiClient=l}create(n){return new KS(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class KS{constructor(n,l,o,u={},f=[]){this.apiClient=n,this.modelsModule=l,this.model=o,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),JS(f)}async sendMessage(n){var l;await this.sendPromise;const o=Nt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=n.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,h,y;const v=await u,g=(h=(f=v.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];x!=null&&(C=(y=x.slice(T))!==null&&y!==void 0?y:[]);const E=g?[g]:[];this.recordHistory(o,E,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var l;await this.sendPromise;const o=Nt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=n.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,o)}getHistory(n=!1){const l=n?qp(this.history):this.history;return structuredClone(l)}processStreamResponse(n,l){var o,u;return Es(this,arguments,function*(){var h,y,v,g;const x=[];try{for(var T=!0,C=Ml(n),E;E=yield nt(C.next()),h=E.done,!h;T=!0){g=E.value,T=!1;const _=g;if(YS(_)){const N=(u=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content;N!==void 0&&x.push(N)}yield yield nt(_)}}catch(_){y={error:_}}finally{try{!T&&!h&&(v=C.return)&&(yield nt(v.call(C)))}finally{if(y)throw y.error}}this.recordHistory(l,x)})}recordHistory(n,l,o){let u=[];l.length>0&&l.every(f=>f.role!==void 0)?u=l:u.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...qp(o)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ia.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $S(t){const n={},l=c(t,["file"]);return l!=null&&d(n,["file"],l),n}function XS(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function ZS(t){const n={},l=c(t,["name"]);return l!=null&&d(n,["_url","file"],yg(l)),n}function WS(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function e1(t){const n={},l=c(t,["name"]);return l!=null&&d(n,["_url","file"],yg(l)),n}function t1(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),l}function n1(t){const n={},l=c(t,["config"]);return l!=null&&t1(l,n),n}function i1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["files"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s1 extends Ln{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new Li(kn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(l=>l)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=n1(n);return f=ge("files",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=i1(v),x=new px;return Object.assign(x,g),x})}}async createInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=$S(n);return f=ge("upload/v1beta/files",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=XS(v),x=new gx;return Object.assign(x,g),x})}}async get(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=e1(n);return f=ge("files/{file}",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=ZS(n);return f=ge("files/{file}",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=WS(v),x=new yx;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xo(t){const n={},l=c(t,["data"]);if(l!=null&&d(n,["data"],l),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function l1(t){const n={},l=c(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>S1(f))),d(n,["parts"],u)}const o=c(t,["role"]);return o!=null&&d(n,["role"],o),n}function o1(t){const n={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(t,["fileUri"]);l!=null&&d(n,["fileUri"],l);const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function a1(t){const n={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(t,["description"]);l!=null&&d(n,["description"],l);const o=c(t,["name"]);o!=null&&d(n,["name"],o);const u=c(t,["parameters"]);u!=null&&d(n,["parameters"],u);const f=c(t,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const h=c(t,["response"]);h!=null&&d(n,["response"],h);const y=c(t,["responseJsonSchema"]);return y!=null&&d(n,["responseJsonSchema"],y),n}function r1(t){const n={},l=c(t,["modelSelectionConfig"]);l!=null&&d(n,["modelConfig"],l);const o=c(t,["responseJsonSchema"]);o!=null&&d(n,["responseJsonSchema"],o);const u=c(t,["audioTimestamp"]);u!=null&&d(n,["audioTimestamp"],u);const f=c(t,["candidateCount"]);f!=null&&d(n,["candidateCount"],f);const h=c(t,["enableAffectiveDialog"]);h!=null&&d(n,["enableAffectiveDialog"],h);const y=c(t,["frequencyPenalty"]);y!=null&&d(n,["frequencyPenalty"],y);const v=c(t,["logprobs"]);v!=null&&d(n,["logprobs"],v);const g=c(t,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const x=c(t,["mediaResolution"]);x!=null&&d(n,["mediaResolution"],x);const T=c(t,["presencePenalty"]);T!=null&&d(n,["presencePenalty"],T);const C=c(t,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const E=c(t,["responseMimeType"]);E!=null&&d(n,["responseMimeType"],E);const _=c(t,["responseModalities"]);_!=null&&d(n,["responseModalities"],_);const N=c(t,["responseSchema"]);N!=null&&d(n,["responseSchema"],N);const F=c(t,["routingConfig"]);F!=null&&d(n,["routingConfig"],F);const z=c(t,["seed"]);z!=null&&d(n,["seed"],z);const J=c(t,["speechConfig"]);J!=null&&d(n,["speechConfig"],Ng(J));const j=c(t,["stopSequences"]);j!=null&&d(n,["stopSequences"],j);const B=c(t,["temperature"]);B!=null&&d(n,["temperature"],B);const W=c(t,["thinkingConfig"]);W!=null&&d(n,["thinkingConfig"],W);const te=c(t,["topK"]);te!=null&&d(n,["topK"],te);const D=c(t,["topP"]);if(D!=null&&d(n,["topP"],D),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function u1(t){const n={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(t,["enableWidget"]);return l!=null&&d(n,["enableWidget"],l),n}function c1(t){const n={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=c(t,["timeRangeFilter"]);return l!=null&&d(n,["timeRangeFilter"],l),n}function d1(t,n){const l={},o=c(t,["generationConfig"]);n!==void 0&&o!=null&&d(n,["setup","generationConfig"],o);const u=c(t,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=c(t,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const h=c(t,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const y=c(t,["topK"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","topK"],y);const v=c(t,["maxOutputTokens"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","maxOutputTokens"],v);const g=c(t,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const x=c(t,["seed"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","seed"],x);const T=c(t,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],sc(T));const C=c(t,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const E=c(t,["enableAffectiveDialog"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],E);const _=c(t,["systemInstruction"]);n!==void 0&&_!=null&&d(n,["setup","systemInstruction"],l1(Nt(_)));const N=c(t,["tools"]);if(n!==void 0&&N!=null){let te=_s(N);Array.isArray(te)&&(te=te.map(D=>C1(As(D)))),d(n,["setup","tools"],te)}const F=c(t,["sessionResumption"]);n!==void 0&&F!=null&&d(n,["setup","sessionResumption"],T1(F));const z=c(t,["inputAudioTranscription"]);n!==void 0&&z!=null&&d(n,["setup","inputAudioTranscription"],z);const J=c(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&d(n,["setup","outputAudioTranscription"],J);const j=c(t,["realtimeInputConfig"]);n!==void 0&&j!=null&&d(n,["setup","realtimeInputConfig"],j);const B=c(t,["contextWindowCompression"]);n!==void 0&&B!=null&&d(n,["setup","contextWindowCompression"],B);const W=c(t,["proactivity"]);return n!==void 0&&W!=null&&d(n,["setup","proactivity"],W),l}function f1(t,n){const l={},o=c(t,["generationConfig"]);n!==void 0&&o!=null&&d(n,["setup","generationConfig"],r1(o));const u=c(t,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=c(t,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const h=c(t,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const y=c(t,["topK"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","topK"],y);const v=c(t,["maxOutputTokens"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","maxOutputTokens"],v);const g=c(t,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const x=c(t,["seed"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","seed"],x);const T=c(t,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],Ng(sc(T)));const C=c(t,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const E=c(t,["enableAffectiveDialog"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],E);const _=c(t,["systemInstruction"]);n!==void 0&&_!=null&&d(n,["setup","systemInstruction"],Nt(_));const N=c(t,["tools"]);if(n!==void 0&&N!=null){let te=_s(N);Array.isArray(te)&&(te=te.map(D=>b1(As(D)))),d(n,["setup","tools"],te)}const F=c(t,["sessionResumption"]);n!==void 0&&F!=null&&d(n,["setup","sessionResumption"],F);const z=c(t,["inputAudioTranscription"]);n!==void 0&&z!=null&&d(n,["setup","inputAudioTranscription"],z);const J=c(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&d(n,["setup","outputAudioTranscription"],J);const j=c(t,["realtimeInputConfig"]);n!==void 0&&j!=null&&d(n,["setup","realtimeInputConfig"],j);const B=c(t,["contextWindowCompression"]);n!==void 0&&B!=null&&d(n,["setup","contextWindowCompression"],B);const W=c(t,["proactivity"]);return n!==void 0&&W!=null&&d(n,["setup","proactivity"],W),l}function m1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["setup","model"],Ye(t,o));const u=c(n,["config"]);return u!=null&&d(l,["config"],d1(u,l)),l}function h1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["setup","model"],Ye(t,o));const u=c(n,["config"]);return u!=null&&d(l,["config"],f1(u,l)),l}function p1(t){const n={},l=c(t,["musicGenerationConfig"]);return l!=null&&d(n,["musicGenerationConfig"],l),n}function g1(t){const n={},l=c(t,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>u)),d(n,["weightedPrompts"],o)}return n}function y1(t){const n={},l=c(t,["media"]);if(l!=null){let g=fg(l);Array.isArray(g)&&(g=g.map(x=>Xo(x))),d(n,["mediaChunks"],g)}const o=c(t,["audio"]);o!=null&&d(n,["audio"],Xo(hg(o)));const u=c(t,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const f=c(t,["video"]);f!=null&&d(n,["video"],Xo(mg(f)));const h=c(t,["text"]);h!=null&&d(n,["text"],h);const y=c(t,["activityStart"]);y!=null&&d(n,["activityStart"],y);const v=c(t,["activityEnd"]);return v!=null&&d(n,["activityEnd"],v),n}function v1(t){const n={},l=c(t,["media"]);if(l!=null){let g=fg(l);Array.isArray(g)&&(g=g.map(x=>x)),d(n,["mediaChunks"],g)}const o=c(t,["audio"]);o!=null&&d(n,["audio"],hg(o));const u=c(t,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const f=c(t,["video"]);f!=null&&d(n,["video"],mg(f));const h=c(t,["text"]);h!=null&&d(n,["text"],h);const y=c(t,["activityStart"]);y!=null&&d(n,["activityStart"],y);const v=c(t,["activityEnd"]);return v!=null&&d(n,["activityEnd"],v),n}function x1(t){const n={},l=c(t,["setupComplete"]);l!=null&&d(n,["setupComplete"],l);const o=c(t,["serverContent"]);o!=null&&d(n,["serverContent"],o);const u=c(t,["toolCall"]);u!=null&&d(n,["toolCall"],u);const f=c(t,["toolCallCancellation"]);f!=null&&d(n,["toolCallCancellation"],f);const h=c(t,["usageMetadata"]);h!=null&&d(n,["usageMetadata"],E1(h));const y=c(t,["goAway"]);y!=null&&d(n,["goAway"],y);const v=c(t,["sessionResumptionUpdate"]);return v!=null&&d(n,["sessionResumptionUpdate"],v),n}function S1(t){const n={},l=c(t,["functionCall"]);l!=null&&d(n,["functionCall"],l);const o=c(t,["codeExecutionResult"]);o!=null&&d(n,["codeExecutionResult"],o);const u=c(t,["executableCode"]);u!=null&&d(n,["executableCode"],u);const f=c(t,["fileData"]);f!=null&&d(n,["fileData"],o1(f));const h=c(t,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const y=c(t,["inlineData"]);y!=null&&d(n,["inlineData"],Xo(y));const v=c(t,["text"]);v!=null&&d(n,["text"],v);const g=c(t,["thought"]);g!=null&&d(n,["thought"],g);const x=c(t,["thoughtSignature"]);x!=null&&d(n,["thoughtSignature"],x);const T=c(t,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function T1(t){const n={},l=c(t,["handle"]);if(l!=null&&d(n,["handle"],l),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Ng(t){const n={},l=c(t,["languageCode"]);l!=null&&d(n,["languageCode"],l);const o=c(t,["voiceConfig"]);if(o!=null&&d(n,["voiceConfig"],o),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function C1(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),d(n,["functionDeclarations"],x)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(t,["googleSearchRetrieval"]);o!=null&&d(n,["googleSearchRetrieval"],o);const u=c(t,["computerUse"]);u!=null&&d(n,["computerUse"],u);const f=c(t,["fileSearch"]);f!=null&&d(n,["fileSearch"],f);const h=c(t,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(t,["googleMaps"]);y!=null&&d(n,["googleMaps"],u1(y));const v=c(t,["googleSearch"]);v!=null&&d(n,["googleSearch"],c1(v));const g=c(t,["urlContext"]);return g!=null&&d(n,["urlContext"],g),n}function b1(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>a1(C))),d(n,["functionDeclarations"],T)}const o=c(t,["retrieval"]);o!=null&&d(n,["retrieval"],o);const u=c(t,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const f=c(t,["computerUse"]);if(f!=null&&d(n,["computerUse"],f),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=c(t,["codeExecution"]);h!=null&&d(n,["codeExecution"],h);const y=c(t,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const v=c(t,["googleMaps"]);v!=null&&d(n,["googleMaps"],v);const g=c(t,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const x=c(t,["urlContext"]);return x!=null&&d(n,["urlContext"],x),n}function E1(t){const n={},l=c(t,["promptTokenCount"]);l!=null&&d(n,["promptTokenCount"],l);const o=c(t,["cachedContentTokenCount"]);o!=null&&d(n,["cachedContentTokenCount"],o);const u=c(t,["candidatesTokenCount"]);u!=null&&d(n,["responseTokenCount"],u);const f=c(t,["toolUsePromptTokenCount"]);f!=null&&d(n,["toolUsePromptTokenCount"],f);const h=c(t,["thoughtsTokenCount"]);h!=null&&d(n,["thoughtsTokenCount"],h);const y=c(t,["totalTokenCount"]);y!=null&&d(n,["totalTokenCount"],y);const v=c(t,["promptTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),d(n,["promptTokensDetails"],E)}const g=c(t,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>_)),d(n,["cacheTokensDetails"],E)}const x=c(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),d(n,["responseTokensDetails"],E)}const T=c(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(_=>_)),d(n,["toolUsePromptTokensDetails"],E)}const C=c(t,["trafficType"]);return C!=null&&d(n,["trafficType"],C),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N1(t){const n={},l=c(t,["data"]);if(l!=null&&d(n,["data"],l),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function A1(t){const n={},l=c(t,["content"]);l!=null&&d(n,["content"],l);const o=c(t,["citationMetadata"]);o!=null&&d(n,["citationMetadata"],_1(o));const u=c(t,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const f=c(t,["finishReason"]);f!=null&&d(n,["finishReason"],f);const h=c(t,["avgLogprobs"]);h!=null&&d(n,["avgLogprobs"],h);const y=c(t,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const v=c(t,["index"]);v!=null&&d(n,["index"],v);const g=c(t,["logprobsResult"]);g!=null&&d(n,["logprobsResult"],g);const x=c(t,["safetyRatings"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(E=>E)),d(n,["safetyRatings"],C)}const T=c(t,["urlContextMetadata"]);return T!=null&&d(n,["urlContextMetadata"],T),n}function _1(t){const n={},l=c(t,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>u)),d(n,["citations"],o)}return n}function w1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let f=en(u);Array.isArray(f)&&(f=f.map(h=>h)),d(l,["contents"],f)}return l}function M1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["tokensInfo"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["tokensInfo"],u)}return n}function I1(t){const n={},l=c(t,["values"]);l!=null&&d(n,["values"],l);const o=c(t,["statistics"]);return o!=null&&d(n,["statistics"],R1(o)),n}function R1(t){const n={},l=c(t,["truncated"]);l!=null&&d(n,["truncated"],l);const o=c(t,["token_count"]);return o!=null&&d(n,["tokenCount"],o),n}function sa(t){const n={},l=c(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>q2(f))),d(n,["parts"],u)}const o=c(t,["role"]);return o!=null&&d(n,["role"],o),n}function D1(t){const n={},l=c(t,["controlType"]);l!=null&&d(n,["controlType"],l);const o=c(t,["enableControlImageComputation"]);return o!=null&&d(n,["computeControl"],o),n}function U1(t){const n={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function k1(t,n){const l={},o=c(t,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Nt(o));const u=c(t,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Ig(y))),d(n,["tools"],h)}const f=c(t,["generationConfig"]);return n!==void 0&&f!=null&&d(n,["generationConfig"],b2(f)),l}function L1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let h=en(u);Array.isArray(h)&&(h=h.map(y=>sa(y))),d(l,["contents"],h)}const f=c(n,["config"]);return f!=null&&U1(f),l}function q1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let h=en(u);Array.isArray(h)&&(h=h.map(y=>y)),d(l,["contents"],h)}const f=c(n,["config"]);return f!=null&&k1(f,l),l}function z1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["totalTokens"]);o!=null&&d(n,["totalTokens"],o);const u=c(t,["cachedContentTokenCount"]);return u!=null&&d(n,["cachedContentTokenCount"],u),n}function P1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["totalTokens"]);return o!=null&&d(n,["totalTokens"],o),n}function B1(t,n){const l={},o=c(n,["model"]);return o!=null&&d(l,["_url","name"],Ye(t,o)),l}function j1(t,n){const l={},o=c(n,["model"]);return o!=null&&d(l,["_url","name"],Ye(t,o)),l}function G1(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function V1(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}function H1(t,n){const l={},o=c(t,["outputGcsUri"]);n!==void 0&&o!=null&&d(n,["parameters","storageUri"],o);const u=c(t,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=c(t,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const h=c(t,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const y=c(t,["guidanceScale"]);n!==void 0&&y!=null&&d(n,["parameters","guidanceScale"],y);const v=c(t,["seed"]);n!==void 0&&v!=null&&d(n,["parameters","seed"],v);const g=c(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const x=c(t,["personGeneration"]);n!==void 0&&x!=null&&d(n,["parameters","personGeneration"],x);const T=c(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&d(n,["parameters","includeSafetyAttributes"],T);const C=c(t,["includeRaiReason"]);n!==void 0&&C!=null&&d(n,["parameters","includeRaiReason"],C);const E=c(t,["language"]);n!==void 0&&E!=null&&d(n,["parameters","language"],E);const _=c(t,["outputMimeType"]);n!==void 0&&_!=null&&d(n,["parameters","outputOptions","mimeType"],_);const N=c(t,["outputCompressionQuality"]);n!==void 0&&N!=null&&d(n,["parameters","outputOptions","compressionQuality"],N);const F=c(t,["addWatermark"]);n!==void 0&&F!=null&&d(n,["parameters","addWatermark"],F);const z=c(t,["labels"]);n!==void 0&&z!=null&&d(n,["labels"],z);const J=c(t,["editMode"]);n!==void 0&&J!=null&&d(n,["parameters","editMode"],J);const j=c(t,["baseSteps"]);return n!==void 0&&j!=null&&d(n,["parameters","editConfig","baseSteps"],j),l}function O1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const f=c(n,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>V2(v))),d(l,["instances[0]","referenceImages"],y)}const h=c(n,["config"]);return h!=null&&H1(h,l),l}function F1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>la(f))),d(n,["generatedImages"],u)}return n}function Y1(t,n){const l={},o=c(t,["taskType"]);n!==void 0&&o!=null&&d(n,["requests[]","taskType"],o);const u=c(t,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const f=c(t,["outputDimensionality"]);if(n!==void 0&&f!=null&&d(n,["requests[]","outputDimensionality"],f),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function J1(t,n){const l={},o=c(t,["taskType"]);n!==void 0&&o!=null&&d(n,["instances[]","task_type"],o);const u=c(t,["title"]);n!==void 0&&u!=null&&d(n,["instances[]","title"],u);const f=c(t,["outputDimensionality"]);n!==void 0&&f!=null&&d(n,["parameters","outputDimensionality"],f);const h=c(t,["mimeType"]);n!==void 0&&h!=null&&d(n,["instances[]","mimeType"],h);const y=c(t,["autoTruncate"]);return n!==void 0&&y!=null&&d(n,["parameters","autoTruncate"],y),l}function Q1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let y=tc(t,u);Array.isArray(y)&&(y=y.map(v=>v)),d(l,["requests[]","content"],y)}const f=c(n,["config"]);f!=null&&Y1(f,l);const h=c(n,["model"]);return h!==void 0&&d(l,["requests[]","model"],Ye(t,h)),l}function K1(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let h=tc(t,u);Array.isArray(h)&&(h=h.map(y=>y)),d(l,["instances[]","content"],h)}const f=c(n,["config"]);return f!=null&&J1(f,l),l}function $1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["embeddings"],f)}const u=c(t,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function X1(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["predictions[]","embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>I1(h))),d(n,["embeddings"],f)}const u=c(t,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function Z1(t){const n={},l=c(t,["endpoint"]);l!=null&&d(n,["name"],l);const o=c(t,["deployedModelId"]);return o!=null&&d(n,["deployedModelId"],o),n}function W1(t){const n={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(t,["fileUri"]);l!=null&&d(n,["fileUri"],l);const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function e2(t){const n={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(t,["description"]);l!=null&&d(n,["description"],l);const o=c(t,["name"]);o!=null&&d(n,["name"],o);const u=c(t,["parameters"]);u!=null&&d(n,["parameters"],u);const f=c(t,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const h=c(t,["response"]);h!=null&&d(n,["response"],h);const y=c(t,["responseJsonSchema"]);return y!=null&&d(n,["responseJsonSchema"],y),n}function t2(t,n,l){const o={},u=c(n,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],sa(Nt(u)));const f=c(n,["temperature"]);f!=null&&d(o,["temperature"],f);const h=c(n,["topP"]);h!=null&&d(o,["topP"],h);const y=c(n,["topK"]);y!=null&&d(o,["topK"],y);const v=c(n,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const g=c(n,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const x=c(n,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(n,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(o,["logprobs"],C);const E=c(n,["presencePenalty"]);E!=null&&d(o,["presencePenalty"],E);const _=c(n,["frequencyPenalty"]);_!=null&&d(o,["frequencyPenalty"],_);const N=c(n,["seed"]);N!=null&&d(o,["seed"],N);const F=c(n,["responseMimeType"]);F!=null&&d(o,["responseMimeType"],F);const z=c(n,["responseSchema"]);z!=null&&d(o,["responseSchema"],nc(z));const J=c(n,["responseJsonSchema"]);if(J!=null&&d(o,["responseJsonSchema"],J),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=c(n,["safetySettings"]);if(l!==void 0&&j!=null){let fe=j;Array.isArray(fe)&&(fe=fe.map(Ne=>H2(Ne))),d(l,["safetySettings"],fe)}const B=c(n,["tools"]);if(l!==void 0&&B!=null){let fe=_s(B);Array.isArray(fe)&&(fe=fe.map(Ne=>K2(As(Ne)))),d(l,["tools"],fe)}const W=c(n,["toolConfig"]);if(l!==void 0&&W!=null&&d(l,["toolConfig"],W),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(n,["cachedContent"]);l!==void 0&&te!=null&&d(l,["cachedContent"],qn(t,te));const D=c(n,["responseModalities"]);D!=null&&d(o,["responseModalities"],D);const he=c(n,["mediaResolution"]);he!=null&&d(o,["mediaResolution"],he);const le=c(n,["speechConfig"]);if(le!=null&&d(o,["speechConfig"],ic(le)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=c(n,["thinkingConfig"]);ue!=null&&d(o,["thinkingConfig"],ue);const oe=c(n,["imageConfig"]);return oe!=null&&d(o,["imageConfig"],oe),o}function n2(t,n,l){const o={},u=c(n,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],Nt(u));const f=c(n,["temperature"]);f!=null&&d(o,["temperature"],f);const h=c(n,["topP"]);h!=null&&d(o,["topP"],h);const y=c(n,["topK"]);y!=null&&d(o,["topK"],y);const v=c(n,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const g=c(n,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const x=c(n,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(n,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(o,["logprobs"],C);const E=c(n,["presencePenalty"]);E!=null&&d(o,["presencePenalty"],E);const _=c(n,["frequencyPenalty"]);_!=null&&d(o,["frequencyPenalty"],_);const N=c(n,["seed"]);N!=null&&d(o,["seed"],N);const F=c(n,["responseMimeType"]);F!=null&&d(o,["responseMimeType"],F);const z=c(n,["responseSchema"]);z!=null&&d(o,["responseSchema"],nc(z));const J=c(n,["responseJsonSchema"]);J!=null&&d(o,["responseJsonSchema"],J);const j=c(n,["routingConfig"]);j!=null&&d(o,["routingConfig"],j);const B=c(n,["modelSelectionConfig"]);B!=null&&d(o,["modelConfig"],B);const W=c(n,["safetySettings"]);if(l!==void 0&&W!=null){let U=W;Array.isArray(U)&&(U=U.map(G=>G)),d(l,["safetySettings"],U)}const te=c(n,["tools"]);if(l!==void 0&&te!=null){let U=_s(te);Array.isArray(U)&&(U=U.map(G=>Ig(As(G)))),d(l,["tools"],U)}const D=c(n,["toolConfig"]);l!==void 0&&D!=null&&d(l,["toolConfig"],D);const he=c(n,["labels"]);l!==void 0&&he!=null&&d(l,["labels"],he);const le=c(n,["cachedContent"]);l!==void 0&&le!=null&&d(l,["cachedContent"],qn(t,le));const ue=c(n,["responseModalities"]);ue!=null&&d(o,["responseModalities"],ue);const oe=c(n,["mediaResolution"]);oe!=null&&d(o,["mediaResolution"],oe);const fe=c(n,["speechConfig"]);fe!=null&&d(o,["speechConfig"],Mg(ic(fe)));const Ne=c(n,["audioTimestamp"]);Ne!=null&&d(o,["audioTimestamp"],Ne);const O=c(n,["thinkingConfig"]);O!=null&&d(o,["thinkingConfig"],O);const re=c(n,["imageConfig"]);return re!=null&&d(o,["imageConfig"],re),o}function zp(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let h=en(u);Array.isArray(h)&&(h=h.map(y=>sa(y))),d(l,["contents"],h)}const f=c(n,["config"]);return f!=null&&d(l,["generationConfig"],t2(t,f,l)),l}function Pp(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["contents"]);if(u!=null){let h=en(u);Array.isArray(h)&&(h=h.map(y=>y)),d(l,["contents"],h)}const f=c(n,["config"]);return f!=null&&d(l,["generationConfig"],n2(t,f,l)),l}function Bp(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["candidates"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>A1(g))),d(n,["candidates"],v)}const u=c(t,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const f=c(t,["promptFeedback"]);f!=null&&d(n,["promptFeedback"],f);const h=c(t,["responseId"]);h!=null&&d(n,["responseId"],h);const y=c(t,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function jp(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),d(n,["candidates"],g)}const u=c(t,["createTime"]);u!=null&&d(n,["createTime"],u);const f=c(t,["modelVersion"]);f!=null&&d(n,["modelVersion"],f);const h=c(t,["promptFeedback"]);h!=null&&d(n,["promptFeedback"],h);const y=c(t,["responseId"]);y!=null&&d(n,["responseId"],y);const v=c(t,["usageMetadata"]);return v!=null&&d(n,["usageMetadata"],v),n}function i2(t,n){const l={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(t,["numberOfImages"]);n!==void 0&&o!=null&&d(n,["parameters","sampleCount"],o);const u=c(t,["aspectRatio"]);n!==void 0&&u!=null&&d(n,["parameters","aspectRatio"],u);const f=c(t,["guidanceScale"]);if(n!==void 0&&f!=null&&d(n,["parameters","guidanceScale"],f),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&d(n,["parameters","safetySetting"],h);const y=c(t,["personGeneration"]);n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y);const v=c(t,["includeSafetyAttributes"]);n!==void 0&&v!=null&&d(n,["parameters","includeSafetyAttributes"],v);const g=c(t,["includeRaiReason"]);n!==void 0&&g!=null&&d(n,["parameters","includeRaiReason"],g);const x=c(t,["language"]);n!==void 0&&x!=null&&d(n,["parameters","language"],x);const T=c(t,["outputMimeType"]);n!==void 0&&T!=null&&d(n,["parameters","outputOptions","mimeType"],T);const C=c(t,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&d(n,["parameters","outputOptions","compressionQuality"],C),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(t,["imageSize"]);if(n!==void 0&&E!=null&&d(n,["parameters","sampleImageSize"],E),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function s2(t,n){const l={},o=c(t,["outputGcsUri"]);n!==void 0&&o!=null&&d(n,["parameters","storageUri"],o);const u=c(t,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=c(t,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const h=c(t,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const y=c(t,["guidanceScale"]);n!==void 0&&y!=null&&d(n,["parameters","guidanceScale"],y);const v=c(t,["seed"]);n!==void 0&&v!=null&&d(n,["parameters","seed"],v);const g=c(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const x=c(t,["personGeneration"]);n!==void 0&&x!=null&&d(n,["parameters","personGeneration"],x);const T=c(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&d(n,["parameters","includeSafetyAttributes"],T);const C=c(t,["includeRaiReason"]);n!==void 0&&C!=null&&d(n,["parameters","includeRaiReason"],C);const E=c(t,["language"]);n!==void 0&&E!=null&&d(n,["parameters","language"],E);const _=c(t,["outputMimeType"]);n!==void 0&&_!=null&&d(n,["parameters","outputOptions","mimeType"],_);const N=c(t,["outputCompressionQuality"]);n!==void 0&&N!=null&&d(n,["parameters","outputOptions","compressionQuality"],N);const F=c(t,["addWatermark"]);n!==void 0&&F!=null&&d(n,["parameters","addWatermark"],F);const z=c(t,["labels"]);n!==void 0&&z!=null&&d(n,["labels"],z);const J=c(t,["imageSize"]);n!==void 0&&J!=null&&d(n,["parameters","sampleImageSize"],J);const j=c(t,["enhancePrompt"]);return n!==void 0&&j!=null&&d(n,["parameters","enhancePrompt"],j),l}function l2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&i2(f,l),l}function o2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&s2(f,l),l}function a2(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>x2(h))),d(n,["generatedImages"],f)}const u=c(t,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],_g(u)),n}function r2(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>la(h))),d(n,["generatedImages"],f)}const u=c(t,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],wg(u)),n}function u2(t,n){const l={},o=c(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&d(n,["parameters","sampleCount"],o),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(t,["durationSeconds"]);if(n!==void 0&&u!=null&&d(n,["parameters","durationSeconds"],u),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(t,["aspectRatio"]);n!==void 0&&f!=null&&d(n,["parameters","aspectRatio"],f);const h=c(t,["resolution"]);n!==void 0&&h!=null&&d(n,["parameters","resolution"],h);const y=c(t,["personGeneration"]);if(n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=c(t,["negativePrompt"]);n!==void 0&&v!=null&&d(n,["parameters","negativePrompt"],v);const g=c(t,["enhancePrompt"]);if(n!==void 0&&g!=null&&d(n,["parameters","enhancePrompt"],g),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=c(t,["lastFrame"]);n!==void 0&&x!=null&&d(n,["instances[0]","lastFrame"],oa(x));const T=c(t,["referenceImages"]);if(n!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(E=>rT(E))),d(n,["instances[0]","referenceImages"],C)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function c2(t,n){const l={},o=c(t,["numberOfVideos"]);n!==void 0&&o!=null&&d(n,["parameters","sampleCount"],o);const u=c(t,["outputGcsUri"]);n!==void 0&&u!=null&&d(n,["parameters","storageUri"],u);const f=c(t,["fps"]);n!==void 0&&f!=null&&d(n,["parameters","fps"],f);const h=c(t,["durationSeconds"]);n!==void 0&&h!=null&&d(n,["parameters","durationSeconds"],h);const y=c(t,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const v=c(t,["aspectRatio"]);n!==void 0&&v!=null&&d(n,["parameters","aspectRatio"],v);const g=c(t,["resolution"]);n!==void 0&&g!=null&&d(n,["parameters","resolution"],g);const x=c(t,["personGeneration"]);n!==void 0&&x!=null&&d(n,["parameters","personGeneration"],x);const T=c(t,["pubsubTopic"]);n!==void 0&&T!=null&&d(n,["parameters","pubsubTopic"],T);const C=c(t,["negativePrompt"]);n!==void 0&&C!=null&&d(n,["parameters","negativePrompt"],C);const E=c(t,["enhancePrompt"]);n!==void 0&&E!=null&&d(n,["parameters","enhancePrompt"],E);const _=c(t,["generateAudio"]);n!==void 0&&_!=null&&d(n,["parameters","generateAudio"],_);const N=c(t,["lastFrame"]);n!==void 0&&N!=null&&d(n,["instances[0]","lastFrame"],rn(N));const F=c(t,["referenceImages"]);if(n!==void 0&&F!=null){let j=F;Array.isArray(j)&&(j=j.map(B=>uT(B))),d(n,["instances[0]","referenceImages"],j)}const z=c(t,["mask"]);n!==void 0&&z!=null&&d(n,["instances[0]","mask"],aT(z));const J=c(t,["compressionQuality"]);return n!==void 0&&J!=null&&d(n,["parameters","compressionQuality"],J),l}function d2(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],p2(h)),n}function f2(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response"]);return h!=null&&d(n,["response"],g2(h)),n}function m2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&d(l,["instances[0]","image"],oa(f));const h=c(n,["video"]);h!=null&&d(l,["instances[0]","video"],Rg(h));const y=c(n,["source"]);y!=null&&y2(y,l);const v=c(n,["config"]);return v!=null&&u2(v,l),l}function h2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&d(l,["instances[0]","image"],rn(f));const h=c(n,["video"]);h!=null&&d(l,["instances[0]","video"],Dg(h));const y=c(n,["source"]);y!=null&&v2(y,l);const v=c(n,["config"]);return v!=null&&c2(v,l),l}function p2(t){const n={},l=c(t,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>T2(h))),d(n,["generatedVideos"],f)}const o=c(t,["raiMediaFilteredCount"]);o!=null&&d(n,["raiMediaFilteredCount"],o);const u=c(t,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function g2(t){const n={},l=c(t,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>C2(h))),d(n,["generatedVideos"],f)}const o=c(t,["raiMediaFilteredCount"]);o!=null&&d(n,["raiMediaFilteredCount"],o);const u=c(t,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function y2(t,n){const l={},o=c(t,["prompt"]);n!==void 0&&o!=null&&d(n,["instances[0]","prompt"],o);const u=c(t,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],oa(u));const f=c(t,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],Rg(f)),l}function v2(t,n){const l={},o=c(t,["prompt"]);n!==void 0&&o!=null&&d(n,["instances[0]","prompt"],o);const u=c(t,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],rn(u));const f=c(t,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],Dg(f)),l}function x2(t){const n={},l=c(t,["_self"]);l!=null&&d(n,["image"],w2(l));const o=c(t,["raiFilteredReason"]);o!=null&&d(n,["raiFilteredReason"],o);const u=c(t,["_self"]);return u!=null&&d(n,["safetyAttributes"],_g(u)),n}function la(t){const n={},l=c(t,["_self"]);l!=null&&d(n,["image"],Ag(l));const o=c(t,["raiFilteredReason"]);o!=null&&d(n,["raiFilteredReason"],o);const u=c(t,["_self"]);u!=null&&d(n,["safetyAttributes"],wg(u));const f=c(t,["prompt"]);return f!=null&&d(n,["enhancedPrompt"],f),n}function S2(t){const n={},l=c(t,["_self"]);l!=null&&d(n,["mask"],Ag(l));const o=c(t,["labels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["labels"],u)}return n}function T2(t){const n={},l=c(t,["video"]);return l!=null&&d(n,["video"],lT(l)),n}function C2(t){const n={},l=c(t,["_self"]);return l!=null&&d(n,["video"],oT(l)),n}function b2(t){const n={},l=c(t,["modelSelectionConfig"]);l!=null&&d(n,["modelConfig"],l);const o=c(t,["responseJsonSchema"]);o!=null&&d(n,["responseJsonSchema"],o);const u=c(t,["audioTimestamp"]);u!=null&&d(n,["audioTimestamp"],u);const f=c(t,["candidateCount"]);f!=null&&d(n,["candidateCount"],f);const h=c(t,["enableAffectiveDialog"]);h!=null&&d(n,["enableAffectiveDialog"],h);const y=c(t,["frequencyPenalty"]);y!=null&&d(n,["frequencyPenalty"],y);const v=c(t,["logprobs"]);v!=null&&d(n,["logprobs"],v);const g=c(t,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const x=c(t,["mediaResolution"]);x!=null&&d(n,["mediaResolution"],x);const T=c(t,["presencePenalty"]);T!=null&&d(n,["presencePenalty"],T);const C=c(t,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const E=c(t,["responseMimeType"]);E!=null&&d(n,["responseMimeType"],E);const _=c(t,["responseModalities"]);_!=null&&d(n,["responseModalities"],_);const N=c(t,["responseSchema"]);N!=null&&d(n,["responseSchema"],N);const F=c(t,["routingConfig"]);F!=null&&d(n,["routingConfig"],F);const z=c(t,["seed"]);z!=null&&d(n,["seed"],z);const J=c(t,["speechConfig"]);J!=null&&d(n,["speechConfig"],Mg(J));const j=c(t,["stopSequences"]);j!=null&&d(n,["stopSequences"],j);const B=c(t,["temperature"]);B!=null&&d(n,["temperature"],B);const W=c(t,["thinkingConfig"]);W!=null&&d(n,["thinkingConfig"],W);const te=c(t,["topK"]);te!=null&&d(n,["topK"],te);const D=c(t,["topP"]);if(D!=null&&d(n,["topP"],D),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function E2(t,n){const l={},o=c(n,["model"]);return o!=null&&d(l,["_url","name"],Ye(t,o)),l}function N2(t,n){const l={},o=c(n,["model"]);return o!=null&&d(l,["_url","name"],Ye(t,o)),l}function A2(t){const n={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(t,["enableWidget"]);return l!=null&&d(n,["enableWidget"],l),n}function _2(t){const n={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=c(t,["timeRangeFilter"]);return l!=null&&d(n,["timeRangeFilter"],l),n}function w2(t){const n={},l=c(t,["bytesBase64Encoded"]);l!=null&&d(n,["imageBytes"],fi(l));const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function Ag(t){const n={},l=c(t,["gcsUri"]);l!=null&&d(n,["gcsUri"],l);const o=c(t,["bytesBase64Encoded"]);o!=null&&d(n,["imageBytes"],fi(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function oa(t){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=c(t,["imageBytes"]);l!=null&&d(n,["bytesBase64Encoded"],fi(l));const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function rn(t){const n={},l=c(t,["gcsUri"]);l!=null&&d(n,["gcsUri"],l);const o=c(t,["imageBytes"]);o!=null&&d(n,["bytesBase64Encoded"],fi(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function M2(t,n,l){const o={},u=c(n,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const f=c(n,["pageToken"]);l!==void 0&&f!=null&&d(l,["_query","pageToken"],f);const h=c(n,["filter"]);l!==void 0&&h!=null&&d(l,["_query","filter"],h);const y=c(n,["queryBase"]);return l!==void 0&&y!=null&&d(l,["_url","models_url"],vg(t,y)),o}function I2(t,n,l){const o={},u=c(n,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const f=c(n,["pageToken"]);l!==void 0&&f!=null&&d(l,["_query","pageToken"],f);const h=c(n,["filter"]);l!==void 0&&h!=null&&d(l,["_query","filter"],h);const y=c(n,["queryBase"]);return l!==void 0&&y!=null&&d(l,["_url","models_url"],vg(t,y)),o}function R2(t,n){const l={},o=c(n,["config"]);return o!=null&&M2(t,o,l),l}function D2(t,n){const l={},o=c(n,["config"]);return o!=null&&I2(t,o,l),l}function U2(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["_self"]);if(u!=null){let f=xg(u);Array.isArray(f)&&(f=f.map(h=>Bu(h))),d(n,["models"],f)}return n}function k2(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["_self"]);if(u!=null){let f=xg(u);Array.isArray(f)&&(f=f.map(h=>ju(h))),d(n,["models"],f)}return n}function L2(t){const n={},l=c(t,["maskMode"]);l!=null&&d(n,["maskMode"],l);const o=c(t,["segmentationClasses"]);o!=null&&d(n,["maskClasses"],o);const u=c(t,["maskDilation"]);return u!=null&&d(n,["dilation"],u),n}function Bu(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["displayName"]);o!=null&&d(n,["displayName"],o);const u=c(t,["description"]);u!=null&&d(n,["description"],u);const f=c(t,["version"]);f!=null&&d(n,["version"],f);const h=c(t,["_self"]);h!=null&&d(n,["tunedModelInfo"],$2(h));const y=c(t,["inputTokenLimit"]);y!=null&&d(n,["inputTokenLimit"],y);const v=c(t,["outputTokenLimit"]);v!=null&&d(n,["outputTokenLimit"],v);const g=c(t,["supportedGenerationMethods"]);g!=null&&d(n,["supportedActions"],g);const x=c(t,["temperature"]);x!=null&&d(n,["temperature"],x);const T=c(t,["maxTemperature"]);T!=null&&d(n,["maxTemperature"],T);const C=c(t,["topP"]);C!=null&&d(n,["topP"],C);const E=c(t,["topK"]);E!=null&&d(n,["topK"],E);const _=c(t,["thinking"]);return _!=null&&d(n,["thinking"],_),n}function ju(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["displayName"]);o!=null&&d(n,["displayName"],o);const u=c(t,["description"]);u!=null&&d(n,["description"],u);const f=c(t,["versionId"]);f!=null&&d(n,["version"],f);const h=c(t,["deployedModels"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(C=>Z1(C))),d(n,["endpoints"],T)}const y=c(t,["labels"]);y!=null&&d(n,["labels"],y);const v=c(t,["_self"]);v!=null&&d(n,["tunedModelInfo"],X2(v));const g=c(t,["defaultCheckpointId"]);g!=null&&d(n,["defaultCheckpointId"],g);const x=c(t,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(C=>C)),d(n,["checkpoints"],T)}return n}function q2(t){const n={},l=c(t,["functionCall"]);l!=null&&d(n,["functionCall"],l);const o=c(t,["codeExecutionResult"]);o!=null&&d(n,["codeExecutionResult"],o);const u=c(t,["executableCode"]);u!=null&&d(n,["executableCode"],u);const f=c(t,["fileData"]);f!=null&&d(n,["fileData"],W1(f));const h=c(t,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const y=c(t,["inlineData"]);y!=null&&d(n,["inlineData"],N1(y));const v=c(t,["text"]);v!=null&&d(n,["text"],v);const g=c(t,["thought"]);g!=null&&d(n,["thought"],g);const x=c(t,["thoughtSignature"]);x!=null&&d(n,["thoughtSignature"],x);const T=c(t,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function z2(t){const n={},l=c(t,["productImage"]);return l!=null&&d(n,["image"],rn(l)),n}function P2(t,n){const l={},o=c(t,["numberOfImages"]);n!==void 0&&o!=null&&d(n,["parameters","sampleCount"],o);const u=c(t,["baseSteps"]);n!==void 0&&u!=null&&d(n,["parameters","baseSteps"],u);const f=c(t,["outputGcsUri"]);n!==void 0&&f!=null&&d(n,["parameters","storageUri"],f);const h=c(t,["seed"]);n!==void 0&&h!=null&&d(n,["parameters","seed"],h);const y=c(t,["safetyFilterLevel"]);n!==void 0&&y!=null&&d(n,["parameters","safetySetting"],y);const v=c(t,["personGeneration"]);n!==void 0&&v!=null&&d(n,["parameters","personGeneration"],v);const g=c(t,["addWatermark"]);n!==void 0&&g!=null&&d(n,["parameters","addWatermark"],g);const x=c(t,["outputMimeType"]);n!==void 0&&x!=null&&d(n,["parameters","outputOptions","mimeType"],x);const T=c(t,["outputCompressionQuality"]);n!==void 0&&T!=null&&d(n,["parameters","outputOptions","compressionQuality"],T);const C=c(t,["enhancePrompt"]);n!==void 0&&C!=null&&d(n,["parameters","enhancePrompt"],C);const E=c(t,["labels"]);return n!==void 0&&E!=null&&d(n,["labels"],E),l}function B2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["source"]);u!=null&&G2(u,l);const f=c(n,["config"]);return f!=null&&P2(f,l),l}function j2(t){const n={},l=c(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>la(u))),d(n,["generatedImages"],o)}return n}function G2(t,n){const l={},o=c(t,["prompt"]);n!==void 0&&o!=null&&d(n,["instances[0]","prompt"],o);const u=c(t,["personImage"]);n!==void 0&&u!=null&&d(n,["instances[0]","personImage","image"],rn(u));const f=c(t,["productImages"]);if(n!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>z2(y))),d(n,["instances[0]","productImages"],h)}return l}function V2(t){const n={},l=c(t,["referenceImage"]);l!=null&&d(n,["referenceImage"],rn(l));const o=c(t,["referenceId"]);o!=null&&d(n,["referenceId"],o);const u=c(t,["referenceType"]);u!=null&&d(n,["referenceType"],u);const f=c(t,["maskImageConfig"]);f!=null&&d(n,["maskImageConfig"],L2(f));const h=c(t,["controlImageConfig"]);h!=null&&d(n,["controlImageConfig"],D1(h));const y=c(t,["styleImageConfig"]);y!=null&&d(n,["styleImageConfig"],y);const v=c(t,["subjectImageConfig"]);return v!=null&&d(n,["subjectImageConfig"],v),n}function _g(t){const n={},l=c(t,["safetyAttributes","categories"]);l!=null&&d(n,["categories"],l);const o=c(t,["safetyAttributes","scores"]);o!=null&&d(n,["scores"],o);const u=c(t,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function wg(t){const n={},l=c(t,["safetyAttributes","categories"]);l!=null&&d(n,["categories"],l);const o=c(t,["safetyAttributes","scores"]);o!=null&&d(n,["scores"],o);const u=c(t,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function H2(t){const n={},l=c(t,["category"]);if(l!=null&&d(n,["category"],l),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(t,["threshold"]);return o!=null&&d(n,["threshold"],o),n}function O2(t){const n={},l=c(t,["image"]);return l!=null&&d(n,["image"],rn(l)),n}function F2(t,n){const l={},o=c(t,["mode"]);n!==void 0&&o!=null&&d(n,["parameters","mode"],o);const u=c(t,["maxPredictions"]);n!==void 0&&u!=null&&d(n,["parameters","maxPredictions"],u);const f=c(t,["confidenceThreshold"]);n!==void 0&&f!=null&&d(n,["parameters","confidenceThreshold"],f);const h=c(t,["maskDilation"]);n!==void 0&&h!=null&&d(n,["parameters","maskDilation"],h);const y=c(t,["binaryColorThreshold"]);n!==void 0&&y!=null&&d(n,["parameters","binaryColorThreshold"],y);const v=c(t,["labels"]);return n!==void 0&&v!=null&&d(n,["labels"],v),l}function Y2(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["source"]);u!=null&&Q2(u,l);const f=c(n,["config"]);return f!=null&&F2(f,l),l}function J2(t){const n={},l=c(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>S2(u))),d(n,["generatedMasks"],o)}return n}function Q2(t,n){const l={},o=c(t,["prompt"]);n!==void 0&&o!=null&&d(n,["instances[0]","prompt"],o);const u=c(t,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],rn(u));const f=c(t,["scribbleImage"]);return n!==void 0&&f!=null&&d(n,["instances[0]","scribble"],O2(f)),l}function Mg(t){const n={},l=c(t,["languageCode"]);l!=null&&d(n,["languageCode"],l);const o=c(t,["voiceConfig"]);if(o!=null&&d(n,["voiceConfig"],o),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function K2(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),d(n,["functionDeclarations"],x)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(t,["googleSearchRetrieval"]);o!=null&&d(n,["googleSearchRetrieval"],o);const u=c(t,["computerUse"]);u!=null&&d(n,["computerUse"],u);const f=c(t,["fileSearch"]);f!=null&&d(n,["fileSearch"],f);const h=c(t,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(t,["googleMaps"]);y!=null&&d(n,["googleMaps"],A2(y));const v=c(t,["googleSearch"]);v!=null&&d(n,["googleSearch"],_2(v));const g=c(t,["urlContext"]);return g!=null&&d(n,["urlContext"],g),n}function Ig(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>e2(C))),d(n,["functionDeclarations"],T)}const o=c(t,["retrieval"]);o!=null&&d(n,["retrieval"],o);const u=c(t,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const f=c(t,["computerUse"]);if(f!=null&&d(n,["computerUse"],f),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=c(t,["codeExecution"]);h!=null&&d(n,["codeExecution"],h);const y=c(t,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const v=c(t,["googleMaps"]);v!=null&&d(n,["googleMaps"],v);const g=c(t,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const x=c(t,["urlContext"]);return x!=null&&d(n,["urlContext"],x),n}function $2(t){const n={},l=c(t,["baseModel"]);l!=null&&d(n,["baseModel"],l);const o=c(t,["createTime"]);o!=null&&d(n,["createTime"],o);const u=c(t,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function X2(t){const n={},l=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&d(n,["baseModel"],l);const o=c(t,["createTime"]);o!=null&&d(n,["createTime"],o);const u=c(t,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function Z2(t,n){const l={},o=c(t,["displayName"]);n!==void 0&&o!=null&&d(n,["displayName"],o);const u=c(t,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=c(t,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),l}function W2(t,n){const l={},o=c(t,["displayName"]);n!==void 0&&o!=null&&d(n,["displayName"],o);const u=c(t,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=c(t,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),l}function eT(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","name"],Ye(t,o));const u=c(n,["config"]);return u!=null&&Z2(u,l),l}function tT(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["config"]);return u!=null&&W2(u,l),l}function nT(t,n){const l={},o=c(t,["outputGcsUri"]);n!==void 0&&o!=null&&d(n,["parameters","storageUri"],o);const u=c(t,["safetyFilterLevel"]);n!==void 0&&u!=null&&d(n,["parameters","safetySetting"],u);const f=c(t,["personGeneration"]);n!==void 0&&f!=null&&d(n,["parameters","personGeneration"],f);const h=c(t,["includeRaiReason"]);n!==void 0&&h!=null&&d(n,["parameters","includeRaiReason"],h);const y=c(t,["outputMimeType"]);n!==void 0&&y!=null&&d(n,["parameters","outputOptions","mimeType"],y);const v=c(t,["outputCompressionQuality"]);n!==void 0&&v!=null&&d(n,["parameters","outputOptions","compressionQuality"],v);const g=c(t,["enhanceInputImage"]);n!==void 0&&g!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],g);const x=c(t,["imagePreservationFactor"]);n!==void 0&&x!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=c(t,["labels"]);n!==void 0&&T!=null&&d(n,["labels"],T);const C=c(t,["numberOfImages"]);n!==void 0&&C!=null&&d(n,["parameters","sampleCount"],C);const E=c(t,["mode"]);return n!==void 0&&E!=null&&d(n,["parameters","mode"],E),l}function iT(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["_url","model"],Ye(t,o));const u=c(n,["image"]);u!=null&&d(l,["instances[0]","image"],rn(u));const f=c(n,["upscaleFactor"]);f!=null&&d(l,["parameters","upscaleConfig","upscaleFactor"],f);const h=c(n,["config"]);return h!=null&&nT(h,l),l}function sT(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>la(f))),d(n,["generatedImages"],u)}return n}function lT(t){const n={},l=c(t,["uri"]);l!=null&&d(n,["uri"],l);const o=c(t,["encodedVideo"]);o!=null&&d(n,["videoBytes"],fi(o));const u=c(t,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function oT(t){const n={},l=c(t,["gcsUri"]);l!=null&&d(n,["uri"],l);const o=c(t,["bytesBase64Encoded"]);o!=null&&d(n,["videoBytes"],fi(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function aT(t){const n={},l=c(t,["image"]);l!=null&&d(n,["_self"],rn(l));const o=c(t,["maskMode"]);return o!=null&&d(n,["maskMode"],o),n}function rT(t){const n={},l=c(t,["image"]);l!=null&&d(n,["image"],oa(l));const o=c(t,["referenceType"]);return o!=null&&d(n,["referenceType"],o),n}function uT(t){const n={},l=c(t,["image"]);l!=null&&d(n,["image"],rn(l));const o=c(t,["referenceType"]);return o!=null&&d(n,["referenceType"],o),n}function Rg(t){const n={},l=c(t,["uri"]);l!=null&&d(n,["uri"],l);const o=c(t,["videoBytes"]);o!=null&&d(n,["encodedVideo"],fi(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["encoding"],u),n}function Dg(t){const n={},l=c(t,["uri"]);l!=null&&d(n,["gcsUri"],l);const o=c(t,["videoBytes"]);o!=null&&d(n,["bytesBase64Encoded"],fi(o));const u=c(t,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cT="Content-Type",dT="X-Server-Timeout",fT="User-Agent",Gu="x-goog-api-client",mT="1.29.1",hT=`google-genai-sdk/${mT}`,pT="v1beta1",gT="v1beta",Gp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class yT{constructor(n){var l,o;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:pT,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:gT,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&o.push(n.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),l=new URL(n);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,l,o){const u=[this.getRequestUrlInternal(l)];return o&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,l,o);if(n.queryParams)for(const[h,y]of Object.entries(n.queryParams))u.searchParams.append(h,String(y));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,u.toString(),n.abortSignal),this.unaryApiCall(u,f,n.httpMethod)}patchHttpOptions(n,l){const o=JSON.parse(JSON.stringify(n));for(const[u,f]of Object.entries(l))typeof f=="object"?o[u]=Object.assign(Object.assign({},o[u]),f):f!==void 0&&(o[u]=f);return o}async requestStream(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,l,o);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,u.toString(),n.abortSignal),this.streamApiCall(u,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,l,o,u){if(l&&l.timeout||u){const f=new AbortController,h=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const y=setTimeout(()=>f.abort(),l.timeout);y&&typeof y.unref=="function"&&y.unref()}u&&u.addEventListener("abort",()=>{f.abort()}),n.signal=h}return l&&l.extraBody!==null&&vT(n,l.extraBody),n.headers=await this.getHeadersInternal(l,o),n}async unaryApiCall(n,l,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:o})).then(async u=>(await Vp(u),new qu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,l,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:o})).then(async u=>(await Vp(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var l;return Es(this,arguments,function*(){const u=(l=n==null?void 0:n.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let h="";for(;;){const{done:y,value:v}=yield nt(u.read());if(y){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(v,{stream:!0});try{const T=JSON.parse(g);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),E=C.status,_=C.code,N=`got status: ${E}. ${JSON.stringify(T)}`;if(_>=400&&_<600)throw new ia({message:N,status:_})}}catch(T){if(T.name==="ApiError")throw T}h+=g;let x=h.match(Gp);for(;x;){const T=x[1];try{const C=new Response(T,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield nt(new qu(C)),h=h.slice(x[0].length),x=h.match(Gp)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(n,l){return fetch(n,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const n={},l=hT+" "+this.clientOptions.userAgentExtra;return n[fT]=l,n[Gu]=l,n[cT]="application/json",n}async getHeadersInternal(n,l){const o=new Headers;if(n&&n.headers){for(const[u,f]of Object.entries(n.headers))o.append(u,f);n.timeout&&n.timeout>0&&o.append(dT,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,l),o}getFileName(n){var l;let o="";return typeof n=="string"&&(o=n.replace(/[/\\]+$/,""),o=(l=o.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),o}async uploadFile(n,l){var o;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,h=await f.stat(n);u.sizeBytes=String(h.size);const y=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=y;const v={file:u},g=this.getFileName(n),x=ge("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(x,u.sizeBytes,u.mimeType,g,v,l==null?void 0:l.httpOptions);return f.upload(n,T,this)}async uploadFileToFileSearchStore(n,l,o){var u;const f=this.clientOptions.uploader,h=await f.stat(l),y=String(h.size),v=(u=o==null?void 0:o.mimeType)!==null&&u!==void 0?u:h.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${n}:uploadToFileSearchStore`,x=this.getFileName(l),T={};o!=null&&o.customMetadata&&(T.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(T.chunkingConfig=o.chunkingConfig);const C=await this.fetchUploadUrl(g,y,v,x,T,o==null?void 0:o.httpOptions);return f.uploadToFileSearchStore(l,C,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,l,o,u,f,h){var y;let v={};h?v=h:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${o}`},u?{"X-Goog-Upload-File-Name":u}:{})};const g=await this.request({path:n,body:JSON.stringify(f),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(y=g==null?void 0:g.headers)===null||y===void 0?void 0:y["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Vp(t){var n;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const l=t.status;let o;!((n=t.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const u=JSON.stringify(o);throw l>=400&&l<600?new ia({message:u,status:l}):new Error(u)}}function vT(t,n){if(!n||Object.keys(n).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof t.body=="string"&&t.body.length>0)try{const f=JSON.parse(t.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,h){const y=Object.assign({},f);for(const v in h)if(Object.prototype.hasOwnProperty.call(h,v)){const g=h[v],x=y[v];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?y[v]=o(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),y[v]=g)}return y}const u=o(l,n);t.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT="mcp_used/unknown";let ST=!1;function Ug(t){for(const n of t)if(TT(n)||typeof n=="object"&&"inputSchema"in n)return!0;return ST}function kg(t){var n;const l=(n=t[Gu])!==null&&n!==void 0?n:"";t[Gu]=(l+` ${xT}`).trimStart()}function TT(t){return t!==null&&typeof t=="object"&&t instanceof lc}function CT(t,n=100){return Es(this,arguments,function*(){let o,u=0;for(;u<n;){const f=yield nt(t.listTools({cursor:o}));for(const h of f.tools)yield yield nt(h),u++;if(!f.nextCursor)break;o=f.nextCursor}})}class lc{constructor(n=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=l}static create(n,l){return new lc(n,l)}async initialize(){var n,l,o,u;if(this.mcpTools.length>0)return;const f={},h=[];for(const x of this.mcpClients)try{for(var y=!0,v=(l=void 0,Ml(CT(x))),g;g=await v.next(),n=g.done,!n;y=!0){u=g.value,y=!1;const T=u;h.push(T);const C=T.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=x}}catch(T){l={error:T}}finally{try{!y&&!n&&(o=v.return)&&await o.call(v)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),_x(this.mcpTools,this.config)}async callTool(n){await this.initialize();const l=[];for(const o of n)if(o.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await u.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bT(t,n,l){const o=new xx;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data),Object.assign(o,u),n(o)}class ET{constructor(n,l,o){this.apiClient=n,this.auth=l,this.webSocketFactory=o}async connect(n){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=_T(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${y}`;let g=()=>{};const x=new Promise(j=>{g=j}),T=n.callbacks,C=function(){g({})},E=this.apiClient,_={onopen:C,onmessage:j=>{bT(E,T.onmessage,j)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(j){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(j){}},N=this.webSocketFactory.create(v,AT(h),_);N.connect(),await x;const J={setup:{model:Ye(this.apiClient,n.model)}};return N.send(JSON.stringify(J)),new NT(N,this.apiClient)}}class NT{constructor(n,l){this.conn=n,this.apiClient=l}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=g1(n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const l=p1(n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(n){const l={playbackControl:n};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Cs.PLAY)}pause(){this.sendPlaybackControl(Cs.PAUSE)}stop(){this.sendPlaybackControl(Cs.STOP)}resetContext(){this.sendPlaybackControl(Cs.RESET_CONTEXT)}close(){this.conn.close()}}function AT(t){const n={};return t.forEach((l,o)=>{n[o]=l}),n}function _T(t){const n=new Headers;for(const[l,o]of Object.entries(t))n.append(l,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function MT(t,n,l){const o=new vx;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const f=JSON.parse(u);if(t.isVertexAI()){const h=x1(f);Object.assign(o,h)}else Object.assign(o,f);n(o)}class IT{constructor(n,l,o){this.apiClient=n,this.auth=l,this.webSocketFactory=o,this.music=new ET(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var l,o,u,f,h,y;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Ug(n.config.tools)&&kg(T);const C=kT(T);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,x);else{const le=this.apiClient.getApiKey();let ue="BidiGenerateContent",oe="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",oe="access_token"),x=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ue}?${oe}=${le}`}let E=()=>{};const _=new Promise(le=>{E=le}),N=n.callbacks,F=function(){var le;(le=N==null?void 0:N.onopen)===null||le===void 0||le.call(N),E({})},z=this.apiClient,J={onopen:F,onmessage:le=>{MT(z,N.onmessage,le)},onerror:(l=N==null?void 0:N.onerror)!==null&&l!==void 0?l:function(le){},onclose:(o=N==null?void 0:N.onclose)!==null&&o!==void 0?o:function(le){}},j=this.webSocketFactory.create(x,UT(C),J);j.connect(),await _;let B=Ye(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const le=this.apiClient.getProject(),ue=this.apiClient.getLocation();B=`projects/${le}/locations/${ue}/`+B}let W={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Zo.AUDIO]}:n.config.responseModalities=[Zo.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(y=(h=n.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[],D=[];for(const le of te)if(this.isCallableTool(le)){const ue=le;D.push(await ue.tool())}else D.push(le);D.length>0&&(n.config.tools=D);const he={model:B,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?W=h1(this.apiClient,he):W=m1(this.apiClient,he),delete W.config,j.send(JSON.stringify(W)),new DT(j,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const RT={turnComplete:!0};class DT{constructor(n,l){this.conn=n,this.apiClient=l}tLiveClientContent(n,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=en(l.turns),n.isVertexAI()||(o=o.map(u=>sa(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(n,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(wT)}return{toolResponse:{functionResponses:o}}}sendClientContent(n){n=Object.assign(Object.assign({},RT),n);const l=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendRealtimeInput(n){let l={};this.apiClient.isVertexAI()?l={realtimeInput:v1(n)}:l={realtimeInput:y1(n)},this.conn.send(JSON.stringify(l))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function UT(t){const n={};return t.forEach((l,o)=>{n[o]=l}),n}function kT(t){const n=new Headers;for(const[l,o]of Object.entries(t))n.append(l,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hp=10;function Op(t){var n,l,o;if(!((n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const h of(l=t==null?void 0:t.tools)!==null&&l!==void 0?l:[])if(Ns(h)){u=!0;break}if(!u)return!0;const f=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ns(t){return"callTool"in t&&typeof t.callTool=="function"}function LT(t){var n,l,o;return(o=(l=(n=t.config)===null||n===void 0?void 0:n.tools)===null||l===void 0?void 0:l.some(u=>Ns(u)))!==null&&o!==void 0?o:!1}function Fp(t){var n;const l=[];return!((n=t==null?void 0:t.config)===null||n===void 0)&&n.tools&&t.config.tools.forEach((o,u)=>{if(Ns(o))return;const f=o;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(u)}),l}function Yp(t){var n;return!(!((n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qT extends Ln{constructor(n){super(),this.apiClient=n,this.generateContent=async l=>{var o,u,f,h,y;const v=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!LT(l)||Op(l.config))return await this.generateContentInternal(v);const g=Fp(l);if(g.length>0){const N=g.map(F=>`tools[${F}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let x,T;const C=en(v.contents),E=(f=(u=(o=v.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:Hp;let _=0;for(;_<E&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const N=x.candidates[0].content,F=[];for(const z of(y=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[])if(Ns(z)){const j=await z.callTool(x.functionCalls);F.push(...j)}_++,T={role:"user",parts:F},v.contents=en(v.contents),v.contents.push(N),v.contents.push(T),Yp(v.config)&&(C.push(N),C.push(T))}return Yp(v.config)&&(x.automaticFunctionCallingHistory=C),x},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Op(l.config)){const u=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(u)}const o=Fp(l);if(o.length>0){const u=o.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${u}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var u;let f;const h=[];if(o!=null&&o.generatedImages)for(const v of o.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((u=v==null?void 0:v.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=v==null?void 0:v.safetyAttributes:h.push(v);let y;return f?y={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:o.sdkHttpResponse}:y={generatedImages:h,sdkHttpResponse:o.sdkHttpResponse},y}),this.list=async l=>{var o;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((o=h.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Li(kn.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(h),h)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{var o,u,f,h,y,v;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=l.video)===null||o===void 0)&&o.uri&&(!((u=l.video)===null||u===void 0)&&u.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((h=(f=l.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.uri&&(!((v=(y=l.source)===null||y===void 0?void 0:y.video)===null||v===void 0)&&v.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var l,o,u;const f=(l=n.config)===null||l===void 0?void 0:l.tools;if(!f)return n;const h=await Promise.all(f.map(async v=>Ns(v)?await v.tool():v)),y={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:h})};if(y.config.tools=h,n.config&&n.config.tools&&Ug(n.config.tools)){const v=(u=(o=n.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),kg(g),y.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return y}async initAfcToolsMap(n){var l,o,u;const f=new Map;for(const h of(o=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(Ns(h)){const y=h,v=await y.tool();for(const g of(u=v.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,y)}}return f}async processAfcStream(n){var l,o,u;const f=(u=(o=(l=n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:Hp;let h=!1,y=0;const v=await this.initAfcToolsMap(n);return(function(g,x,T){var C,E;return Es(this,arguments,function*(){for(var _,N,F,z;y<f;){h&&(y++,h=!1);const W=yield nt(g.processParamsMaybeAddMcpUsage(T)),te=yield nt(g.generateContentStreamInternal(W)),D=[],he=[];try{for(var J=!0,j=(N=void 0,Ml(te)),B;B=yield nt(j.next()),_=B.done,!_;J=!0){z=B.value,J=!1;const le=z;if(yield yield nt(le),le.candidates&&(!((C=le.candidates[0])===null||C===void 0)&&C.content)){he.push(le.candidates[0].content);for(const ue of(E=le.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(y<f&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ue.functionCall.name)){const oe=yield nt(x.get(ue.functionCall.name).callTool([ue.functionCall]));D.push(...oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(le){N={error:le}}finally{try{!J&&!_&&(F=j.return)&&(yield nt(F.call(j)))}finally{if(N)throw N.error}}if(D.length>0){h=!0;const le=new _l;le.candidates=[{content:{role:"user",parts:D}}],yield yield nt(le);const ue=[];ue.push(...he),ue.push({role:"user",parts:D});const oe=en(T.contents).concat(ue);T.contents=oe}else break}})})(this,v,n)}async generateContentInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=Pp(this.apiClient,n);return y=ge("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=jp(x),C=new _l;return Object.assign(C,T),C})}else{const g=zp(this.apiClient,n);return y=ge("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=Bp(x),C=new _l;return Object.assign(C,T),C})}}async generateContentStreamInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=Pp(this.apiClient,n);return y=ge("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}),h.then(function(T){return Es(this,arguments,function*(){var C,E,_,N;try{for(var F=!0,z=Ml(T),J;J=yield nt(z.next()),C=J.done,!C;F=!0){N=J.value,F=!1;const j=N,B=jp(yield nt(j.json()));B.sdkHttpResponse={headers:j.headers};const W=new _l;Object.assign(W,B),yield yield nt(W)}}catch(j){E={error:j}}finally{try{!F&&!C&&(_=z.return)&&(yield nt(_.call(z)))}finally{if(E)throw E.error}}})})}else{const g=zp(this.apiClient,n);return y=ge("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(T){return Es(this,arguments,function*(){var C,E,_,N;try{for(var F=!0,z=Ml(T),J;J=yield nt(z.next()),C=J.done,!C;F=!0){N=J.value,F=!1;const j=N,B=Bp(yield nt(j.json()));B.sdkHttpResponse={headers:j.headers};const W=new _l;Object.assign(W,B),yield yield nt(W)}}catch(j){E={error:j}}finally{try{!F&&!C&&(_=z.return)&&(yield nt(_.call(z)))}finally{if(E)throw E.error}}})})}}async embedContent(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=K1(this.apiClient,n);return y=ge("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=X1(x),C=new Tp;return Object.assign(C,T),C})}else{const g=Q1(this.apiClient,n);return y=ge("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=$1(x),C=new Tp;return Object.assign(C,T),C})}}async generateImagesInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=o2(this.apiClient,n);return y=ge("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=r2(x),C=new Cp;return Object.assign(C,T),C})}else{const g=l2(this.apiClient,n);return y=ge("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=a2(x),C=new Cp;return Object.assign(C,T),C})}}async editImageInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=O1(this.apiClient,n);return f=ge("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=F1(v),x=new ax;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=iT(this.apiClient,n);return f=ge("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=sT(v),x=new rx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=B2(this.apiClient,n);return f=ge("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=j2(v),x=new ux;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=Y2(this.apiClient,n);return f=ge("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=J2(v),x=new cx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=N2(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>ju(x))}else{const g=E2(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>Bu(x))}}async listInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=D2(this.apiClient,n);return y=ge("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=k2(x),C=new bp;return Object.assign(C,T),C})}else{const g=R2(this.apiClient,n);return y=ge("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=U2(x),C=new bp;return Object.assign(C,T),C})}}async update(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=tT(this.apiClient,n);return y=ge("{model}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>ju(x))}else{const g=eT(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>Bu(x))}}async delete(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=j1(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=V1(x),C=new Ep;return Object.assign(C,T),C})}else{const g=B1(this.apiClient,n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=G1(x),C=new Ep;return Object.assign(C,T),C})}}async countTokens(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=q1(this.apiClient,n);return y=ge("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=P1(x),C=new Np;return Object.assign(C,T),C})}else{const g=L1(this.apiClient,n);return y=ge("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=z1(x),C=new Np;return Object.assign(C,T),C})}}async computeTokens(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=w1(this.apiClient,n);return f=ge("{model}:computeTokens",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=M1(v),x=new dx;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=h2(this.apiClient,n);return y=ge("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h.then(x=>{const T=f2(x),C=new Wo;return Object.assign(C,T),C})}else{const g=m2(this.apiClient,n);return y=ge("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h.then(x=>{const T=d2(x),C=new Wo;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zT extends Ln{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const l=n.operation,o=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const l=n.operation,o=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=tx(n);return y=ge("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),h}else{const g=ex(n);return y=ge("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),h}}async fetchPredictVideosOperationInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=Jv(n);return f=ge("{resourceName}:fetchPredictOperation",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(t){const n={},l=c(t,["data"]);if(l!=null&&d(n,["data"],l),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function BT(t){const n={},l=c(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>JT(f))),d(n,["parts"],u)}const o=c(t,["role"]);return o!=null&&d(n,["role"],o),n}function jT(t,n,l){const o={},u=c(n,["expireTime"]);l!==void 0&&u!=null&&d(l,["expireTime"],u);const f=c(n,["newSessionExpireTime"]);l!==void 0&&f!=null&&d(l,["newSessionExpireTime"],f);const h=c(n,["uses"]);l!==void 0&&h!=null&&d(l,["uses"],h);const y=c(n,["liveConnectConstraints"]);l!==void 0&&y!=null&&d(l,["bidiGenerateContentSetup"],YT(t,y));const v=c(n,["lockAdditionalFields"]);return l!==void 0&&v!=null&&d(l,["fieldMask"],v),o}function GT(t,n){const l={},o=c(n,["config"]);return o!=null&&d(l,["config"],jT(t,o,l)),l}function VT(t){const n={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(t,["fileUri"]);l!=null&&d(n,["fileUri"],l);const o=c(t,["mimeType"]);return o!=null&&d(n,["mimeType"],o),n}function HT(t){const n={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(t,["enableWidget"]);return l!=null&&d(n,["enableWidget"],l),n}function OT(t){const n={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=c(t,["timeRangeFilter"]);return l!=null&&d(n,["timeRangeFilter"],l),n}function FT(t,n){const l={},o=c(t,["generationConfig"]);n!==void 0&&o!=null&&d(n,["setup","generationConfig"],o);const u=c(t,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=c(t,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const h=c(t,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const y=c(t,["topK"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","topK"],y);const v=c(t,["maxOutputTokens"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","maxOutputTokens"],v);const g=c(t,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const x=c(t,["seed"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","seed"],x);const T=c(t,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],sc(T));const C=c(t,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const E=c(t,["enableAffectiveDialog"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],E);const _=c(t,["systemInstruction"]);n!==void 0&&_!=null&&d(n,["setup","systemInstruction"],BT(Nt(_)));const N=c(t,["tools"]);if(n!==void 0&&N!=null){let te=_s(N);Array.isArray(te)&&(te=te.map(D=>KT(As(D)))),d(n,["setup","tools"],te)}const F=c(t,["sessionResumption"]);n!==void 0&&F!=null&&d(n,["setup","sessionResumption"],QT(F));const z=c(t,["inputAudioTranscription"]);n!==void 0&&z!=null&&d(n,["setup","inputAudioTranscription"],z);const J=c(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&d(n,["setup","outputAudioTranscription"],J);const j=c(t,["realtimeInputConfig"]);n!==void 0&&j!=null&&d(n,["setup","realtimeInputConfig"],j);const B=c(t,["contextWindowCompression"]);n!==void 0&&B!=null&&d(n,["setup","contextWindowCompression"],B);const W=c(t,["proactivity"]);return n!==void 0&&W!=null&&d(n,["setup","proactivity"],W),l}function YT(t,n){const l={},o=c(n,["model"]);o!=null&&d(l,["setup","model"],Ye(t,o));const u=c(n,["config"]);return u!=null&&d(l,["config"],FT(u,l)),l}function JT(t){const n={},l=c(t,["functionCall"]);l!=null&&d(n,["functionCall"],l);const o=c(t,["codeExecutionResult"]);o!=null&&d(n,["codeExecutionResult"],o);const u=c(t,["executableCode"]);u!=null&&d(n,["executableCode"],u);const f=c(t,["fileData"]);f!=null&&d(n,["fileData"],VT(f));const h=c(t,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const y=c(t,["inlineData"]);y!=null&&d(n,["inlineData"],PT(y));const v=c(t,["text"]);v!=null&&d(n,["text"],v);const g=c(t,["thought"]);g!=null&&d(n,["thought"],g);const x=c(t,["thoughtSignature"]);x!=null&&d(n,["thoughtSignature"],x);const T=c(t,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function QT(t){const n={},l=c(t,["handle"]);if(l!=null&&d(n,["handle"],l),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function KT(t){const n={},l=c(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),d(n,["functionDeclarations"],x)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(t,["googleSearchRetrieval"]);o!=null&&d(n,["googleSearchRetrieval"],o);const u=c(t,["computerUse"]);u!=null&&d(n,["computerUse"],u);const f=c(t,["fileSearch"]);f!=null&&d(n,["fileSearch"],f);const h=c(t,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(t,["googleMaps"]);y!=null&&d(n,["googleMaps"],HT(y));const v=c(t,["googleSearch"]);v!=null&&d(n,["googleSearch"],OT(v));const g=c(t,["urlContext"]);return g!=null&&d(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $T(t){const n=[];for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const o=t[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const u=Object.keys(o).map(f=>`${l}.${f}`);n.push(...u)}else n.push(l)}return n.join(",")}function XT(t,n){let l=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(t.bidiGenerateContentSetup=f,l=f):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const u=t.fieldMask;if(l){const f=$T(l);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?t.fieldMask=f:delete t.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];u.length>0&&(y=u.map(g=>h.includes(g)?`generationConfig.${g}`:g));const v=[];f&&v.push(f),y.length>0&&v.push(...y),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?t.fieldMask=u.join(","):delete t.fieldMask;return t}class ZT extends Ln{constructor(n){super(),this.apiClient=n}async create(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=GT(this.apiClient,n);f=ge("auth_tokens",y._url),h=y._query,delete y.config,delete y._url,delete y._query;const v=XT(y,n.config);return u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(t,n){const l={},o=c(t,["displayName"]);return n!==void 0&&o!=null&&d(n,["displayName"],o),l}function eC(t){const n={},l=c(t,["config"]);return l!=null&&WT(l,n),n}function tC(t,n){const l={},o=c(t,["force"]);return n!==void 0&&o!=null&&d(n,["_query","force"],o),l}function nC(t){const n={},l=c(t,["name"]);l!=null&&d(n,["_url","name"],l);const o=c(t,["config"]);return o!=null&&tC(o,n),n}function iC(t){const n={},l=c(t,["name"]);return l!=null&&d(n,["_url","name"],l),n}function sC(t,n){const l={},o=c(t,["customMetadata"]);if(n!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["customMetadata"],f)}const u=c(t,["chunkingConfig"]);return n!==void 0&&u!=null&&d(n,["chunkingConfig"],u),l}function lC(t){const n={},l=c(t,["name"]);l!=null&&d(n,["name"],l);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const u=c(t,["done"]);u!=null&&d(n,["done"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const h=c(t,["response"]);return h!=null&&d(n,["response"],aC(h)),n}function oC(t){const n={},l=c(t,["fileSearchStoreName"]);l!=null&&d(n,["_url","file_search_store_name"],l);const o=c(t,["fileName"]);o!=null&&d(n,["fileName"],o);const u=c(t,["config"]);return u!=null&&sC(u,n),n}function aC(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["parent"]);o!=null&&d(n,["parent"],o);const u=c(t,["documentName"]);return u!=null&&d(n,["documentName"],u),n}function rC(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),l}function uC(t){const n={},l=c(t,["config"]);return l!=null&&rC(l,n),n}function cC(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["fileSearchStores"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["fileSearchStores"],f)}return n}function dC(t,n){const l={},o=c(t,["mimeType"]);n!==void 0&&o!=null&&d(n,["mimeType"],o);const u=c(t,["displayName"]);n!==void 0&&u!=null&&d(n,["displayName"],u);const f=c(t,["customMetadata"]);if(n!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),d(n,["customMetadata"],y)}const h=c(t,["chunkingConfig"]);return n!==void 0&&h!=null&&d(n,["chunkingConfig"],h),l}function fC(t){const n={},l=c(t,["fileSearchStoreName"]);l!=null&&d(n,["_url","file_search_store_name"],l);const o=c(t,["config"]);return o!=null&&dC(o,n),n}function mC(t){const n={},l=c(t,["sdkHttpResponse"]);return l!=null&&d(n,["sdkHttpResponse"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(t,n){const l={},o=c(t,["force"]);return n!==void 0&&o!=null&&d(n,["_query","force"],o),l}function pC(t){const n={},l=c(t,["name"]);l!=null&&d(n,["_url","name"],l);const o=c(t,["config"]);return o!=null&&hC(o,n),n}function gC(t){const n={},l=c(t,["name"]);return l!=null&&d(n,["_url","name"],l),n}function yC(t,n){const l={},o=c(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const u=c(t,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),l}function vC(t){const n={},l=c(t,["parent"]);l!=null&&d(n,["_url","parent"],l);const o=c(t,["config"]);return o!=null&&yC(o,n),n}function xC(t){const n={},l=c(t,["sdkHttpResponse"]);l!=null&&d(n,["sdkHttpResponse"],l);const o=c(t,["nextPageToken"]);o!=null&&d(n,["nextPageToken"],o);const u=c(t,["documents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>h)),d(n,["documents"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends Ln{constructor(n){super(),this.apiClient=n,this.list=async l=>new Li(kn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:l.parent,config:o.config}),await this.listInternal(l),l)}async get(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=gC(n);return f=ge("{name}",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var l,o;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pC(n);u=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=vC(n);return f=ge("{parent}/documents",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=xC(v),x=new fx;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends Ln{constructor(n,l=new SC(n)){super(),this.apiClient=n,this.documents=l,this.list=async(o={})=>new Li(kn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(o),o)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=eC(n);return f=ge("fileSearchStores",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=iC(n);return f=ge("{name}",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var l,o;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nC(n);u=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=uC(n);return f=ge("fileSearchStores",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=cC(v),x=new mx;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=fC(n);return f=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=mC(v),x=new hx;return Object.assign(x,g),x})}}async importFile(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=oC(n);return f=ge("{file_search_store_name}:importFile",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),u.then(v=>{const g=lC(v),x=new Wu;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(t,n){const l={},o=c(t,["name"]);return o!=null&&d(l,["_url","name"],o),l}function bC(t,n){const l={},o=c(t,["name"]);return o!=null&&d(l,["_url","name"],o),l}function EC(t,n,l){const o={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=c(t,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&d(n,["displayName"],u),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=c(t,["epochCount"]);n!==void 0&&f!=null&&d(n,["tuningTask","hyperparameters","epochCount"],f);const h=c(t,["learningRateMultiplier"]);if(h!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],h),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=c(t,["batchSize"]);n!==void 0&&y!=null&&d(n,["tuningTask","hyperparameters","batchSize"],y);const v=c(t,["learningRate"]);if(n!==void 0&&v!=null&&d(n,["tuningTask","hyperparameters","learningRate"],v),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function NC(t,n,l){const o={};let u=c(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const E=c(t,["validationDataset"]);n!==void 0&&E!=null&&d(n,["supervisedTuningSpec"],Jp(E))}else if(u==="PREFERENCE_TUNING"){const E=c(t,["validationDataset"]);n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec"],Jp(E))}const f=c(t,["tunedModelDisplayName"]);n!==void 0&&f!=null&&d(n,["tunedModelDisplayName"],f);const h=c(t,["description"]);n!==void 0&&h!=null&&d(n,["description"],h);let y=c(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(t,["epochCount"]);n!==void 0&&E!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(t,["epochCount"]);n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let v=c(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=c(t,["learningRateMultiplier"]);n!==void 0&&E!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(v==="PREFERENCE_TUNING"){const E=c(t,["learningRateMultiplier"]);n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let g=c(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=c(t,["exportLastCheckpointOnly"]);n!==void 0&&E!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(g==="PREFERENCE_TUNING"){const E=c(t,["exportLastCheckpointOnly"]);n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=c(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=c(t,["adapterSize"]);n!==void 0&&E!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=c(t,["adapterSize"]);n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=c(t,["labels"]);n!==void 0&&T!=null&&d(n,["labels"],T);const C=c(t,["beta"]);return n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","beta"],C),o}function AC(t,n){const l={},o=c(t,["baseModel"]);o!=null&&d(l,["baseModel"],o);const u=c(t,["preTunedModel"]);u!=null&&d(l,["preTunedModel"],u);const f=c(t,["trainingDataset"]);f!=null&&zC(f);const h=c(t,["config"]);return h!=null&&EC(h,l),l}function _C(t,n){const l={},o=c(t,["baseModel"]);o!=null&&d(l,["baseModel"],o);const u=c(t,["preTunedModel"]);u!=null&&d(l,["preTunedModel"],u);const f=c(t,["trainingDataset"]);f!=null&&PC(f,l,n);const h=c(t,["config"]);return h!=null&&NC(h,l,n),l}function wC(t,n){const l={},o=c(t,["name"]);return o!=null&&d(l,["_url","name"],o),l}function MC(t,n){const l={},o=c(t,["name"]);return o!=null&&d(l,["_url","name"],o),l}function IC(t,n,l){const o={},u=c(t,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const f=c(t,["pageToken"]);n!==void 0&&f!=null&&d(n,["_query","pageToken"],f);const h=c(t,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),o}function RC(t,n,l){const o={},u=c(t,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const f=c(t,["pageToken"]);n!==void 0&&f!=null&&d(n,["_query","pageToken"],f);const h=c(t,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),o}function DC(t,n){const l={},o=c(t,["config"]);return o!=null&&IC(o,l),l}function UC(t,n){const l={},o=c(t,["config"]);return o!=null&&RC(o,l),l}function kC(t,n){const l={},o=c(t,["sdkHttpResponse"]);o!=null&&d(l,["sdkHttpResponse"],o);const u=c(t,["nextPageToken"]);u!=null&&d(l,["nextPageToken"],u);const f=c(t,["tunedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Lg(y))),d(l,["tuningJobs"],h)}return l}function LC(t,n){const l={},o=c(t,["sdkHttpResponse"]);o!=null&&d(l,["sdkHttpResponse"],o);const u=c(t,["nextPageToken"]);u!=null&&d(l,["nextPageToken"],u);const f=c(t,["tuningJobs"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Vu(y))),d(l,["tuningJobs"],h)}return l}function qC(t,n){const l={},o=c(t,["name"]);o!=null&&d(l,["model"],o);const u=c(t,["name"]);return u!=null&&d(l,["endpoint"],u),l}function zC(t,n){const l={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(t,["examples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(l,["examples","examples"],u)}return l}function PC(t,n,l){const o={};let u=c(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=c(t,["gcsUri"]);n!==void 0&&h!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(u==="PREFERENCE_TUNING"){const h=c(t,["gcsUri"]);n!==void 0&&h!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let f=c(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=c(t,["vertexDatasetResource"]);n!==void 0&&h!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(f==="PREFERENCE_TUNING"){const h=c(t,["vertexDatasetResource"]);n!==void 0&&h!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Lg(t,n){const l={},o=c(t,["sdkHttpResponse"]);o!=null&&d(l,["sdkHttpResponse"],o);const u=c(t,["name"]);u!=null&&d(l,["name"],u);const f=c(t,["state"]);f!=null&&d(l,["state"],gg(f));const h=c(t,["createTime"]);h!=null&&d(l,["createTime"],h);const y=c(t,["tuningTask","startTime"]);y!=null&&d(l,["startTime"],y);const v=c(t,["tuningTask","completeTime"]);v!=null&&d(l,["endTime"],v);const g=c(t,["updateTime"]);g!=null&&d(l,["updateTime"],g);const x=c(t,["description"]);x!=null&&d(l,["description"],x);const T=c(t,["baseModel"]);T!=null&&d(l,["baseModel"],T);const C=c(t,["_self"]);return C!=null&&d(l,["tunedModel"],qC(C)),l}function Vu(t,n){const l={},o=c(t,["sdkHttpResponse"]);o!=null&&d(l,["sdkHttpResponse"],o);const u=c(t,["name"]);u!=null&&d(l,["name"],u);const f=c(t,["state"]);f!=null&&d(l,["state"],gg(f));const h=c(t,["createTime"]);h!=null&&d(l,["createTime"],h);const y=c(t,["startTime"]);y!=null&&d(l,["startTime"],y);const v=c(t,["endTime"]);v!=null&&d(l,["endTime"],v);const g=c(t,["updateTime"]);g!=null&&d(l,["updateTime"],g);const x=c(t,["error"]);x!=null&&d(l,["error"],x);const T=c(t,["description"]);T!=null&&d(l,["description"],T);const C=c(t,["baseModel"]);C!=null&&d(l,["baseModel"],C);const E=c(t,["tunedModel"]);E!=null&&d(l,["tunedModel"],E);const _=c(t,["preTunedModel"]);_!=null&&d(l,["preTunedModel"],_);const N=c(t,["supervisedTuningSpec"]);N!=null&&d(l,["supervisedTuningSpec"],N);const F=c(t,["preferenceOptimizationSpec"]);F!=null&&d(l,["preferenceOptimizationSpec"],F);const z=c(t,["tuningDataStats"]);z!=null&&d(l,["tuningDataStats"],z);const J=c(t,["encryptionSpec"]);J!=null&&d(l,["encryptionSpec"],J);const j=c(t,["partnerModelTuningSpec"]);j!=null&&d(l,["partnerModelTuningSpec"],j);const B=c(t,["customBaseModel"]);B!=null&&d(l,["customBaseModel"],B);const W=c(t,["experiment"]);W!=null&&d(l,["experiment"],W);const te=c(t,["labels"]);te!=null&&d(l,["labels"],te);const D=c(t,["outputUri"]);D!=null&&d(l,["outputUri"],D);const he=c(t,["pipelineJob"]);he!=null&&d(l,["pipelineJob"],he);const le=c(t,["serviceAccount"]);le!=null&&d(l,["serviceAccount"],le);const ue=c(t,["tunedModelDisplayName"]);ue!=null&&d(l,["tunedModelDisplayName"],ue);const oe=c(t,["veoTuningSpec"]);return oe!=null&&d(l,["veoTuningSpec"],oe),l}function BC(t,n){const l={},o=c(t,["sdkHttpResponse"]);o!=null&&d(l,["sdkHttpResponse"],o);const u=c(t,["name"]);u!=null&&d(l,["name"],u);const f=c(t,["metadata"]);f!=null&&d(l,["metadata"],f);const h=c(t,["done"]);h!=null&&d(l,["done"],h);const y=c(t,["error"]);return y!=null&&d(l,["error"],y),l}function Jp(t,n){const l={},o=c(t,["gcsUri"]);o!=null&&d(l,["validationDatasetUri"],o);const u=c(t,["vertexDatasetResource"]);return u!=null&&d(l,["validationDatasetUri"],u),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jC extends Ln{constructor(n){super(),this.apiClient=n,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Li(kn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{var o;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const u={tunedModelName:l.baseModel};!((o=l.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(u.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},l);return await this.tuneInternal(u)}else{const u=Object.assign({},l),f=await this.tuneMldevInternal(u);let h="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?h=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(h=f.name.split("/operations/")[0]),{name:h,state:Lu.JOB_STATE_QUEUED}}}}async getInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=MC(n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>Vu(x))}else{const g=wC(n);return y=ge("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>Lg(x))}}async listInternal(n){var l,o,u,f;let h,y="",v={};if(this.apiClient.isVertexAI()){const g=UC(n);return y=ge("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=LC(x),C=new Ap;return Object.assign(C,T),C})}else{const g=DC(n);return y=ge("tunedModels",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),h.then(x=>{const T=kC(x),C=new Ap;return Object.assign(C,T),C})}}async cancel(n){var l,o,u,f;let h="",y={};if(this.apiClient.isVertexAI()){const v=bC(n);h=ge("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=CC(n);h=ge("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI()){const y=_C(n,n);return f=ge("tuningJobs",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>Vu(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var l,o;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=AC(n);return f=ge("tunedModels",y._url),h=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>BC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC{async download(n,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VC=1024*1024*8,HC=3,OC=1e3,FC=2,ta="x-goog-upload-status";async function YC(t,n,l){var o;const u=await qg(t,n,l),f=await(u==null?void 0:u.json());if(((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function JC(t,n,l){var o;const u=await qg(t,n,l),f=await(u==null?void 0:u.json());if(((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=cg(f),y=new ec;return Object.assign(y,h),y}async function qg(t,n,l){var o,u;let f=0,h=0,y=new qu(new Response),v="upload";for(f=t.size;h<f;){const g=Math.min(VC,f-h),x=t.slice(h,h+g);h+g>=f&&(v+=", finalize");let T=0,C=OC;for(;T<HC&&(y=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(h),"Content-Length":String(g)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[ta]));)T++,await KC(C),C=C*FC;if(h+=g,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[ta])!=="active")break;if(f<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return y}async function QC(t){return{size:t.size,type:t.type}}function KC(t){return new Promise(n=>setTimeout(n,t))}class $C{async upload(n,l,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await YC(n,l,o)}async uploadToFileSearchStore(n,l,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await JC(n,l,o)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await QC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC{create(n,l,o){return new ZC(n,l,o)}}class ZC{constructor(n,l,o){this.url=n,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp="x-goog-api-key";class WC{constructor(n){this.apiKey=n}async addAuthHeaders(n,l){if(n.get(Qp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Qp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eb="gl-node/";class tb{constructor(n){var l;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=n.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=n.apiKey;const o=Fv(n.httpOptions,n.vertexai,void 0,void 0);o&&(n.httpOptions?n.httpOptions.baseUrl=o:n.httpOptions={baseUrl:o}),this.apiVersion=n.apiVersion;const u=new WC(this.apiKey);this.apiClient=new yT({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:eb+"web",uploader:new $C,downloader:new GC}),this.models=new qT(this.apiClient),this.live=new IT(this.apiClient,u,new XC),this.batches=new gS(this.apiClient),this.chats=new QS(this.models,this.apiClient),this.caches=new FS(this.apiClient),this.files=new s1(this.apiClient),this.operations=new zT(this.apiClient),this.authTokens=new ZT(this.apiClient),this.tunings=new jC(this.apiClient),this.fileSearchStores=new TC(this.apiClient)}}const Di=[{id:"user-1",name:"Alice Johnson",email:"alice@example.com",role:Y.Student},{id:"user-2",name:"Bob Williams",email:"bob@example.com",role:Y.Student},{id:"user-3",name:"Charlie Brown",email:"charlie@example.com",role:Y.Instructor},{id:"user-4",name:"Diana Prince",email:"diana@example.com",role:Y.Admin},{id:"user-5",name:"Ethan Hunt",email:"ethan@example.com",role:Y.Instructor},{id:"user-6",name:"Fiona Gallagher",email:"fiona@example.com",role:Y.Student},{id:"user-7",name:"George Costanza",email:"george@example.com",role:Y.Student},{id:"user-8",name:"Hannah Montana",email:"hannah@example.com",role:Y.Student},{id:"user-9",name:"Ian Malcolm",email:"ian@example.com",role:Y.Student},{id:"user-10",name:"Jane Doe",email:"jane@example.com",role:Y.Student},{id:"user-11",name:"Kevin McCallister",email:"kevin@example.com",role:Y.Student},{id:"user-12",name:"Lara Croft",email:"lara@example.com",role:Y.Student},{id:"user-13",name:"Michael Scott",email:"michael@example.com",role:Y.Instructor},{id:"user-14",name:"Nancy Drew",email:"nancy@example.com",role:Y.Instructor},{id:"user-15",name:"Oscar Martinez",email:"oscar@example.com",role:Y.Instructor},{id:"user-16",name:"Peter Parker",email:"peter@example.com",role:Y.Student},{id:"user-17",name:"Quentin Beck",email:"quentin@example.com",role:Y.Instructor},{id:"user-18",name:"Rachel Green",email:"rachel@example.com",role:Y.Student},{id:"user-19",name:"Steve Rogers",email:"steve@example.com",role:Y.Student},{id:"user-20",name:"Tony Stark",email:"tony@example.com",role:Y.Instructor},{id:"user-21",name:"Ursula Buffay",email:"ursula@example.com",role:Y.Student},{id:"user-22",name:"Victor Von Doom",email:"victor@example.com",role:Y.Instructor},{id:"user-23",name:"Wanda Maximoff",email:"wanda@example.com",role:Y.Student},{id:"user-24",name:"Xavier Charles",email:"xavier@example.com",role:Y.Student},{id:"user-25",name:"Yelena Belova",email:"yelena@example.com",role:Y.Student}],nb=[{id:"q1",title:"Fundamentals Quiz",questions:[{text:'What does "bull market" mean?',options:["Prices are falling","Prices are rising","Prices are stable"],correctAnswerIndex:1},{text:"What is a dividend?",options:["A company expense","A loan to the company","A distribution of profits to shareholders"],correctAnswerIndex:2}]},{id:"q2",title:"Options Strategy Quiz",questions:[{text:"An Iron Condor is a...",options:["Bullish strategy","Bearish strategy","Neutral strategy"],correctAnswerIndex:2}]},{id:"q3",title:"Beginner Concepts Quiz",questions:[{text:"What does owning a stock mean?",options:["You own the company's debt","You own a piece of the company","You are the company's creditor"],correctAnswerIndex:1}]},{id:"q4",title:"Fund Fundamentals Quiz",questions:[{text:"Which fund type trades on an exchange throughout the day like a stock?",options:["Mutual Fund","ETF","Both"],correctAnswerIndex:1}]},{id:"q5",title:"Financial Statements Quiz",questions:[{text:"Which statement shows a company's financial position at a single point in time?",options:["Income Statement","Balance Sheet","Cash Flow Statement"],correctAnswerIndex:1}]},{id:"q6",title:"Chart Patterns Quiz",questions:[{text:'A "Head and Shoulders" pattern is typically a...',options:["Continuation pattern","Bearish reversal pattern","Bullish reversal pattern"],correctAnswerIndex:1}]},{id:"q7",title:"Analysis Quiz",questions:[{text:"What is the primary goal of fundamental analysis?",options:["To predict short-term price swings","To determine a company's long-term intrinsic value","To follow market trends"],correctAnswerIndex:1}]},{id:"q8",title:"Value Investing Quiz",questions:[{text:"Value investors look for stocks that are...",options:["Trading above their intrinsic value","Trading below their intrinsic value","Trending upwards"],correctAnswerIndex:1}]},{id:"q9",title:"Growth Investing Quiz",questions:[{text:"Growth investors are primarily focused on a company's...",options:["Current profitability","Future potential and revenue growth","Dividend payments"],correctAnswerIndex:1}]},{id:"q10",title:"Dividend Quiz",questions:[{text:"What is a DRIP?",options:["A falling stock price","A type of stock option","Dividend Reinvestment Plan"],correctAnswerIndex:2}]},{id:"q11",title:"Swing Trading Quiz",questions:[{text:"A typical swing trade lasts for...",options:["A few seconds","A few days to weeks","Several years"],correctAnswerIndex:1}]},{id:"q12",title:"Day Trading Quiz",questions:[{text:"What is a key requirement for day trading?",options:["A long-term perspective","High-speed internet and direct access brokerage","Ignoring market news"],correctAnswerIndex:1}]},{id:"q13",title:"Risk Management Quiz",questions:[{text:"A stop-loss order is designed to...",options:["Guarantee a profit","Limit your potential loss on a trade","Buy more shares automatically"],correctAnswerIndex:1}]},{id:"q14",title:"Trading Psychology Quiz",questions:[{text:"FOMO often leads to...",options:["Careful analysis","Chasing trades and overpaying","Taking profits too early"],correctAnswerIndex:1}]},{id:"q15",title:"IPO Quiz",questions:[{text:"An IPO is when a company...",options:["Is bought by another company","Sells shares to the public for the first time","Declares bankruptcy"],correctAnswerIndex:1}]},{id:"q16",title:"REITs Quiz",questions:[{text:"REITs are legally required to pay out at least what percentage of their taxable income to shareholders?",options:["50%","75%","90%"],correctAnswerIndex:2}]},{id:"q17",title:"Forex Quiz",questions:[{text:'In the EUR/USD pair, which is the "base" currency?',options:["EUR","USD"],correctAnswerIndex:0}]},{id:"q18",title:"Crypto Quiz",questions:[{text:"What is the term for all cryptocurrencies other than Bitcoin?",options:["Sidecoins","Altcoins","Othercoins"],correctAnswerIndex:1}]},{id:"q19",title:"Portfolio Quiz",questions:[{text:"Diversification helps to reduce which type of risk?",options:["Systematic risk","Unsystematic risk","All risk"],correctAnswerIndex:1}]},{id:"q20",title:"Retirement Quiz",questions:[{text:"Which IRA type is funded with post-tax dollars, allowing for tax-free withdrawals in retirement?",options:["Traditional IRA","Roth IRA"],correctAnswerIndex:1}]},{id:"q21",title:"Economics Quiz",questions:[{text:"A high CPI reading generally indicates...",options:["Deflation","Economic recession","Inflation"],correctAnswerIndex:2}]},{id:"q22",title:"Sector Quiz",questions:[{text:'During a recession, which sector is considered "defensive"?',options:["Technology","Consumer Staples","Financials"],correctAnswerIndex:1}]},{id:"q23",title:"Blue-Chip Quiz",questions:[{text:"Blue-chip stocks are generally known for their...",options:["High volatility","Reliability and stable earnings","Fast growth"],correctAnswerIndex:1}]},{id:"q24",title:"Candlestick Quiz",questions:[{text:'A "Doji" candlestick suggests...',options:["A strong trend","Indecision in the market","A guaranteed reversal"],correctAnswerIndex:1}]},{id:"q25",title:"Advanced TA Quiz",questions:[{text:"The key Fibonacci retracement levels are typically 38.2%, 50%, and...",options:["55.5%","61.8%","75.1%"],correctAnswerIndex:1}]},{id:"q26",title:"Bonds Quiz",questions:[{text:"When interest rates rise, what happens to the price of existing bonds?",options:["It rises","It falls","It stays the same"],correctAnswerIndex:1}]},{id:"q27",title:"ESG Quiz",questions:[{text:'Which of these is a "Social" factor in ESG?',options:["Carbon emissions","Employee relations","Board diversity"],correctAnswerIndex:1}]},{id:"q28",title:"Behavioral Finance Quiz",questions:[{text:"Selling winning stocks too early and holding losing stocks too long is an example of the...",options:["Confirmation Bias","Disposition Effect","Anchoring Bias"],correctAnswerIndex:1}]},{id:"q29",title:"Indicators Quiz",questions:[{text:"An RSI reading above 70 typically suggests a stock is...",options:["Oversold","Overbought","Fairly valued"],correctAnswerIndex:1}]},{id:"q30",title:"Tax Investing Quiz",questions:[{text:"Long-term capital gains are typically taxed at a ... rate than short-term gains.",options:["higher","lower","similar"],correctAnswerIndex:1}]},{id:"q31",title:"Greeks Quiz",questions:[{text:"Which Greek measures the rate of time decay?",options:["Delta","Vega","Theta"],correctAnswerIndex:2}]},{id:"q32",title:"Short Selling Quiz",questions:[{text:"What is the maximum potential loss on a short sale?",options:["The initial investment","Double the investment","Unlimited"],correctAnswerIndex:2}]},{id:"q33",title:"Financial Planning Quiz",questions:[{text:"The biggest advantage young investors have is...",options:["Experience","Time and compounding","A high risk tolerance"],correctAnswerIndex:1}]},{id:"q34",title:"Tech Stocks Quiz",questions:[{text:'What does "SaaS" stand for?',options:["Software as a Subscription","Software as a Service","Sales as a Service"],correctAnswerIndex:1}]},{id:"q35",title:"Algo Trading Quiz",questions:[{text:"What is backtesting?",options:["Testing a strategy on future data","Testing a strategy on historical data","Running a strategy in real-time"],correctAnswerIndex:1}]},{id:"q36",title:"Futures Quiz",questions:[{text:"Futures contracts are...",options:["Standardized agreements to buy/sell at a future date","Flexible agreements between two parties","The same as options"],correctAnswerIndex:0}]},{id:"q37",title:"Roth IRA Quiz",questions:[{text:"At what age can you typically withdraw Roth IRA earnings tax-free and penalty-free?",options:["55","59 1/2","65"],correctAnswerIndex:1}]},{id:"q38",title:"Margin Quiz",questions:[{text:"Using leverage...",options:["Reduces risk","Magnifies both gains and losses","Guarantees higher returns"],correctAnswerIndex:1}]},{id:"q39",title:"Small-Cap Quiz",questions:[{text:"Compared to large-cap stocks, small-cap stocks are generally...",options:["Less volatile","More volatile","Equally volatile"],correctAnswerIndex:1}]},{id:"q40",title:"Global Investing Quiz",questions:[{text:"Which is an example of an emerging market?",options:["Japan","Germany","Brazil"],correctAnswerIndex:2}]},{id:"q41",title:"Modeling Quiz",questions:[{text:"A DCF model estimates a company's value based on its...",options:["Past earnings","Book value","Future cash flows"],correctAnswerIndex:2}]},{id:"q42",title:"Hedge Fund Quiz",questions:[{text:"Hedge funds aim to generate...",options:["Relative returns","Absolute returns","Guaranteed returns"],correctAnswerIndex:1}]},{id:"q43",title:"Lynch Quiz",questions:[{text:"Peter Lynch is famous for managing which fund?",options:["Vanguard 500","Berkshire Hathaway","Fidelity Magellan Fund"],correctAnswerIndex:2}]},{id:"q44",title:"Healthcare Investing Quiz",questions:[{text:'A "patent cliff" refers to...',options:["A new drug discovery","The expiration of a drug's patent protection","A failed clinical trial"],correctAnswerIndex:1}]},{id:"q45",title:"Penny Stocks Quiz",questions:[{text:"Penny stocks are known for their...",options:["Low risk and high liquidity","High risk and low liquidity","Stable dividends"],correctAnswerIndex:1}]},{id:"q46",title:"Advanced TA Quiz",questions:[{text:"In Volume Profile, the POC (Point of Control) represents...",options:["The highest price traded","The price level with the most volume","The opening price"],correctAnswerIndex:1}]},{id:"q47",title:"Long-Term Quiz",questions:[{text:"Dollar-cost averaging involves investing...",options:["A large lump sum at once","Fixed amounts at regular intervals","Only when the market is rising"],correctAnswerIndex:1}]},{id:"q48",title:"Hedging Quiz",questions:[{text:"To hedge a portfolio of stocks against a drop in price, you would...",options:["Buy call options","Sell call options","Buy put options"],correctAnswerIndex:2}]},{id:"q49",title:"ETN Quiz",questions:[{text:"The primary risk unique to ETNs compared to ETFs is...",options:["Market risk","Credit risk of the issuer","Interest rate risk"],correctAnswerIndex:1}]},{id:"q50",title:"Market Structure Quiz",questions:[{text:"A market maker provides liquidity by simultaneously quoting...",options:["A buy price only","A sell price only","Both a buy (bid) and sell (ask) price"],correctAnswerIndex:2}]}],ib=[{id:"course-1",title:"Introduction to Stock Trading",description:"Learn the fundamentals of stock trading, from market analysis to risk management.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Introduction+to+Stock+Trading",rating:4.5,totalRatings:120,price:7999,category:"Trading Fundamentals",difficulty:Ce.Beginner,modules:[{id:"m1-1",title:"What is the Stock Market?",type:"text",content:"The stock market refers to the collection of markets and exchanges where regular activities of buying, selling, and issuance of shares of publicly-held companies take place.",durationMinutes:15},{id:"m1-2",title:"Reading Stock Charts",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:10}],quizId:"q1"},{id:"course-2",title:"Advanced Options Trading",description:"Master complex options strategies to maximize your returns and hedge your positions.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Advanced+Options+Trading",rating:4.8,totalRatings:85,price:19999,category:"Advanced Strategies",difficulty:Ce.Advanced,modules:[{id:"m2-1",title:"Understanding Calls and Puts",type:"text",content:"A call option gives the holder the right to buy a stock and a put option gives the holder the right to sell a stock.",durationMinutes:20},{id:"m2-2",title:"The Iron Condor Strategy",type:"video",content:"https://www.youtube.com/embed/JAr2rUbgGJE",durationMinutes:40}],quizId:"q2"},{id:"course-3",title:"Stock Market for Absolute Beginners",description:"Your first step into the world of investing. This course demystifies the stock market, explaining basic concepts in simple, easy-to-understand language.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Stock+Market+for+Absolute+Beginners",rating:4.7,totalRatings:350,price:3999,category:"Investment Basics",difficulty:Ce.Beginner,modules:[{id:"m3-1",title:"What is a Stock?",type:"text",content:"Learn what a stock represents, why companies issue them, and the rights of a shareholder.",durationMinutes:10},{id:"m3-2",title:"How the Stock Market Works",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:15},{id:"m3-3",title:"Opening a Brokerage Account",type:"text",content:"A step-by-step guide to choosing the right broker and opening your first investment account.",durationMinutes:20}],quizId:"q3"},{id:"course-4",title:"Understanding ETFs and Mutual Funds",description:"Learn the difference between ETFs and mutual funds, how they work, and how to use them to build a diversified portfolio with ease.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Understanding+ETFs+and+Mutual+Funds",rating:4.6,totalRatings:210,price:6399,category:"Portfolio Management",difficulty:Ce.Beginner,modules:[{id:"m4-1",title:"ETFs vs. Mutual Funds",type:"text",content:"A detailed comparison of the two most popular investment vehicles.",durationMinutes:20},{id:"m4-2",title:"Index Fund Investing",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q4"},{id:"course-5",title:"How to Read Financial Statements",description:"Unlock the secrets hidden in balance sheets, income statements, and cash flow statements to make smarter investment decisions.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=How+to+Read+Financial+Statements",rating:4.9,totalRatings:180,price:11999,category:"Financial Analysis",difficulty:Ce.Intermediate,modules:[{id:"m5-1",title:"The Income Statement",type:"text",content:"Understand revenue, expenses, and profit.",durationMinutes:25},{id:"m5-2",title:"The Balance Sheet",type:"text",content:"Analyze assets, liabilities, and equity.",durationMinutes:25}],quizId:"q5"},{id:"course-6",title:"Technical Analysis: Chart Patterns",description:"Learn to identify key chart patterns like Head and Shoulders, Triangles, and Flags to predict future price movements.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Technical+Analysis:+Chart+Patterns",rating:4.4,totalRatings:280,price:15999,category:"Technical Analysis",difficulty:Ce.Intermediate,modules:[{id:"m6-1",title:"Introduction to Candlesticks",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30},{id:"m6-2",title:"Recognizing Reversal Patterns",type:"text",content:"Spotting trends that are about to change direction.",durationMinutes:45}],quizId:"q6"},{id:"course-7",title:"Fundamental Analysis Deep Dive",description:"Go beyond the basics to evaluate a company's intrinsic value by analyzing economic factors, management, and financial health.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Fundamental+Analysis+Deep+Dive",rating:4.8,totalRatings:155,price:23999,category:"Financial Analysis",difficulty:Ce.Advanced,modules:[{id:"m7-1",title:"Qualitative vs. Quantitative Analysis",type:"text",content:"Learn to assess both the numbers and the story behind a company.",durationMinutes:30},{id:"m7-2",title:"Valuation Models (DCF)",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:60}],quizId:"q7"},{id:"course-8",title:"Value Investing: The Buffett Way",description:"Learn the timeless principles of value investing popularized by Warren Buffett. Find great companies at fair prices.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Value+Investing:+The+Buffett+Way",rating:4.9,totalRatings:450,price:15999,category:"Value Investing",difficulty:Ce.Intermediate,modules:[{id:"m8-1",title:"Margin of Safety",type:"text",content:"Understand the most important concept in value investing.",durationMinutes:20},{id:"m8-2",title:"Economic Moats",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q8"},{id:"course-9",title:"Growth Stock Investing Strategies",description:"Discover how to identify and invest in innovative companies with the potential for explosive growth.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Growth+Stock+Investing+Strategies",rating:4.7,totalRatings:320,price:15999,category:"Growth Investing",difficulty:Ce.Intermediate,modules:[{id:"m9-1",title:"Identifying High-Growth Sectors",type:"text",content:"Learn where to look for the next big thing.",durationMinutes:25},{id:"m9-2",title:"Evaluating Growth Metrics",type:"text",content:"Look at revenue growth, earnings growth, and market expansion.",durationMinutes:35}],quizId:"q9"},{id:"course-10",title:"Dividend Investing for Passive Income",description:"Build a reliable stream of passive income by investing in stable companies that pay regular dividends.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Dividend+Investing+for+Passive+Income",rating:4.8,totalRatings:410,price:10399,category:"Income Investing",difficulty:Ce.Beginner,modules:[{id:"m10-1",title:"Understanding Dividend Yield",type:"text",content:"Learn how to calculate and interpret dividend yield.",durationMinutes:20},{id:"m10-2",title:"Dividend Aristocrats",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q10"},{id:"course-11",title:"Swing Trading Masterclass",description:"Learn to profit from short-to-medium term market swings. This course covers strategies, stock selection, and risk management.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Swing+Trading+Masterclass",rating:4.5,totalRatings:180,price:19999,category:"Day & Swing Trading",difficulty:Ce.Intermediate,modules:[{id:"m11-1",title:"Swing Trading Setups",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:40},{id:"m11-2",title:"Managing Swing Trades",type:"text",content:"Learn about entry, exit, and stop-loss strategies.",durationMinutes:30}],quizId:"q11"},{id:"course-12",title:"Day Trading for a Living",description:"An intensive course on the strategies and discipline required for day trading. Not for the faint of heart.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Day+Trading+for+a+Living",rating:4.3,totalRatings:150,price:31999,category:"Day & Swing Trading",difficulty:Ce.Advanced,modules:[{id:"m12-1",title:"Level 2 and Time & Sales",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:50},{id:"m12-2",title:"The Trader's Mindset",type:"text",content:"Learn the psychology needed to succeed in day trading.",durationMinutes:30}],quizId:"q12"},{id:"course-13",title:"Risk Management in Trading",description:"The most important course you'll ever take. Learn how to protect your capital with position sizing, stop-losses, and portfolio diversification.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Risk+Management+in+Trading",rating:4.9,totalRatings:500,price:11999,category:"Risk Management",difficulty:Ce.Beginner,modules:[{id:"m13-1",title:"The 1% Rule",type:"text",content:"A simple rule to protect your trading account from significant losses.",durationMinutes:15},{id:"m13-2",title:"Position Sizing",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q13"},{id:"course-14",title:"The Psychology of Trading",description:"Conquer fear and greed, the two biggest enemies of a trader. Master your emotions to make rational, profitable decisions.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=The+Psychology+of+Trading",rating:4.8,totalRatings:380,price:10399,category:"Market Psychology",difficulty:Ce.Intermediate,modules:[{id:"m14-1",title:"Understanding FOMO",type:"text",content:'Learn to deal with the "Fear Of Missing Out".',durationMinutes:20},{id:"m14-2",title:"Developing a Trading Plan",type:"text",content:"Your roadmap to disciplined trading.",durationMinutes:30}],quizId:"q14"},{id:"course-15",title:"Investing in IPOs",description:"Learn how to evaluate and invest in Initial Public Offerings (IPOs). Understand the risks and rewards of buying into new companies.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Investing+in+IPOs",rating:4.2,totalRatings:95,price:7999,category:"Specialized Markets",difficulty:Ce.Intermediate,modules:[{id:"m15-1",title:"Reading an S-1 Filing",type:"text",content:"How to analyze the official prospectus of a company going public.",durationMinutes:30},{id:"m15-2",title:"IPO Lock-up Periods",type:"text",content:"Understand why stock prices can be volatile after an IPO.",durationMinutes:20}],quizId:"q15"},{id:"course-16",title:"Real Estate Investment Trusts (REITs)",description:"Invest in real estate without buying property. Learn how REITs work and how to add them to your portfolio for income and diversification.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Real+Estate+Investment+Trusts+(REITs)",rating:4.6,totalRatings:180,price:7199,category:"Specialized Markets",difficulty:Ce.Beginner,modules:[{id:"m16-1",title:"Types of REITs",type:"text",content:"Explore equity, mortgage, and hybrid REITs.",durationMinutes:25},{id:"m16-2",title:"Analyzing a REIT",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q16"},{id:"course-17",title:"Forex Trading for Beginners",description:"Enter the world's largest financial market. Learn the basics of currency pairs, pips, leverage, and simple Forex trading strategies.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Forex+Trading+for+Beginners",rating:4.4,totalRatings:250,price:11999,category:"Specialized Markets",difficulty:Ce.Beginner,modules:[{id:"m17-1",title:"Major Currency Pairs",type:"text",content:"Learn about pairs like EUR/USD, GBP/USD, and USD/JPY.",durationMinutes:20},{id:"m17-2",title:"Understanding Leverage",type:"text",content:"A double-edged sword in Forex trading.",durationMinutes:25}],quizId:"q17"},{id:"course-18",title:"Cryptocurrency Investing 101",description:"A beginner-friendly guide to Bitcoin, Ethereum, and altcoins. Learn about blockchain, wallets, exchanges, and how to invest safely.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Cryptocurrency+Investing+101",rating:4.7,totalRatings:600,price:15999,category:"Specialized Markets",difficulty:Ce.Beginner,modules:[{id:"m18-1",title:"What is Blockchain?",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30},{id:"m18-2",title:"Setting up a Crypto Wallet",type:"text",content:"A step-by-step guide to securing your digital assets.",durationMinutes:25}],quizId:"q18"},{id:"course-19",title:"Building a Diversified Portfolio",description:"Learn the principles of modern portfolio theory. Create a balanced, diversified portfolio to maximize returns for a given level of risk.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Building+a+Diversified+Portfolio",rating:4.9,totalRatings:300,price:10399,category:"Portfolio Management",difficulty:Ce.Beginner,modules:[{id:"m19-1",title:"Asset Allocation",type:"text",content:"The most important decision an investor makes.",durationMinutes:25},{id:"m19-2",title:"Rebalancing Your Portfolio",type:"text",content:"How and when to adjust your holdings.",durationMinutes:20}],quizId:"q19"},{id:"course-20",title:"Retirement Investing (401k & IRA)",description:"Plan for your future. This course covers the essentials of 401(k)s, Roth IRAs, Traditional IRAs, and how to invest for a comfortable retirement.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Retirement+Investing+(401k+&+IRA)",rating:4.8,totalRatings:420,price:7999,category:"Retirement Planning",difficulty:Ce.Beginner,modules:[{id:"m20-1",title:"Roth vs. Traditional IRA",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:20},{id:"m20-2",title:"Understanding 401(k) Matching",type:"text",content:"Don't leave free money on the table!",durationMinutes:15}],quizId:"q20"},{id:"course-21",title:"Economic Indicators for Traders",description:"Learn how to interpret key economic data like GDP, CPI, and employment reports to make informed trading decisions.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Economic+Indicators+for+Traders",rating:4.5,totalRatings:110,price:14399,category:"Economic Analysis",difficulty:Ce.Intermediate,modules:[{id:"m21-1",title:"Gross Domestic Product (GDP)",type:"text",content:"The ultimate measure of an economy's health.",durationMinutes:20},{id:"m21-2",title:"The Consumer Price Index (CPI)",type:"text",content:"Understanding inflation and its impact on the market.",durationMinutes:20}],quizId:"q21"},{id:"course-22",title:"Sector Analysis and Rotation",description:"Understand how different sectors of the economy perform during various stages of the business cycle and how to rotate your investments accordingly.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Sector+Analysis+and+Rotation",rating:4.6,totalRatings:90,price:17599,category:"Advanced Strategies",difficulty:Ce.Intermediate,modules:[{id:"m22-1",title:"The 11 GICS Sectors",type:"text",content:"An overview of the major market sectors.",durationMinutes:25},{id:"m22-2",title:"Defensive vs. Cyclical Sectors",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q22"},{id:"course-23",title:"Blue-Chip Stock Investing",description:"A guide to investing in large, stable, and well-known companies. Learn how to select blue-chip stocks for long-term portfolio stability.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Blue-Chip+Stock+Investing",rating:4.7,totalRatings:310,price:0,category:"Investment Basics",difficulty:Ce.Beginner,modules:[{id:"m23-1",title:'What Makes a Stock "Blue-Chip"?',type:"text",content:"Learn the characteristics of these market leaders.",durationMinutes:15},{id:"m23-2",title:"Building a Core Portfolio",type:"text",content:"Using blue-chip stocks as the foundation of your investments.",durationMinutes:20}],quizId:"q23"},{id:"course-24",title:"Mastering Candlestick Charts",description:"An in-depth guide to reading and interpreting Japanese candlestick charts. Learn dozens of patterns to improve your trading accuracy.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Mastering+Candlestick+Charts",rating:4.8,totalRatings:290,price:12799,category:"Technical Analysis",difficulty:Ce.Intermediate,modules:[{id:"m24-1",title:"Anatomy of a Candlestick",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:20},{id:"m24-2",title:"Bullish & Bearish Engulfing Patterns",type:"text",content:"A powerful reversal signal.",durationMinutes:25}],quizId:"q24"},{id:"course-25",title:"Fibonacci and Elliott Wave Theory",description:"Explore two advanced technical analysis theories used to identify market cycles and predict price targets.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Fibonacci+and+Elliott+Wave+Theory",rating:4.1,totalRatings:75,price:23999,category:"Technical Analysis",difficulty:Ce.Advanced,modules:[{id:"m25-1",title:"Fibonacci Retracements",type:"text",content:"Finding potential support and resistance levels.",durationMinutes:30},{id:"m25-2",title:"The Basic 5-3 Elliott Wave Pattern",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:45}],quizId:"q25"},{id:"course-26",title:"Bonds and Fixed-Income Securities",description:"Diversify beyond stocks. Learn about government and corporate bonds, yield, duration, and the role of fixed income in a portfolio.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Bonds+and+Fixed-Income+Securities",rating:4.6,totalRatings:125,price:7999,category:"Portfolio Management",difficulty:Ce.Beginner,modules:[{id:"m26-1",title:"How Bonds Work",type:"text",content:"Understanding coupon, maturity, and par value.",durationMinutes:20},{id:"m26-2",title:"Interest Rates and Bond Prices",type:"text",content:"Learn about their inverse relationship.",durationMinutes:25}],quizId:"q26"},{id:"course-27",title:"Socially Responsible Investing (ESG)",description:"Align your investments with your values. Learn about Environmental, Social, and Governance (ESG) criteria and how to build a sustainable portfolio.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Socially+Responsible+Investing+(ESG)",rating:4.7,totalRatings:190,price:6399,category:"Investment Basics",difficulty:Ce.Beginner,modules:[{id:"m27-1",title:"The Three Pillars of ESG",type:"text",content:"Breaking down Environmental, Social, and Governance factors.",durationMinutes:25},{id:"m27-2",title:"Finding ESG Funds",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:20}],quizId:"q27"},{id:"course-28",title:"Behavioral Finance",description:"Understand the psychological biases that affect investors and learn how to avoid common mental errors to improve your returns.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Behavioral+Finance",rating:4.9,totalRatings:220,price:11999,category:"Market Psychology",difficulty:Ce.Intermediate,modules:[{id:"m28-1",title:"Confirmation Bias",type:"text",content:"The tendency to favor information that confirms existing beliefs.",durationMinutes:20},{id:"m28-2",title:"Loss Aversion",type:"text",content:"Why losing $100 feels worse than gaining $100 feels good.",durationMinutes:20}],quizId:"q28"},{id:"course-29",title:"Technical Indicators Explained (MACD, RSI)",description:"A practical guide to using popular technical indicators like Moving Averages, RSI, MACD, and Bollinger Bands to analyze charts.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Technical+Indicators+Explained+(MACD,+RSI)",rating:4.6,totalRatings:330,price:11199,category:"Technical Analysis",difficulty:Ce.Intermediate,modules:[{id:"m29-1",title:"Moving Averages",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25},{id:"m29-2",title:"Relative Strength Index (RSI)",type:"text",content:"Identifying overbought and oversold conditions.",durationMinutes:30}],quizId:"q29"},{id:"course-30",title:"Tax-Efficient Investing",description:"It's not what you make, it's what you keep. Learn strategies to minimize taxes on your investment gains and dividends.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Tax-Efficient+Investing",rating:4.7,totalRatings:140,price:9599,category:"Retirement Planning",difficulty:Ce.Intermediate,modules:[{id:"m30-1",title:"Tax-Advantaged Accounts",type:"text",content:"Utilizing 401(k)s, IRAs, and HSAs.",durationMinutes:25},{id:"m30-2",title:"Tax-Loss Harvesting",type:"text",content:"A strategy to offset capital gains with losses.",durationMinutes:20}],quizId:"q30"},{id:"course-31",title:"Options Greeks Explained (Delta, Gamma, Theta)",description:"A deep dive into the forces that affect an option's price. Understanding the Greeks is essential for serious options traders.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Options+Greeks+Explained",rating:4.6,totalRatings:115,price:22399,category:"Advanced Strategies",difficulty:Ce.Advanced,modules:[{id:"m31-1",title:"Delta: The Speed of an Option",type:"text",content:"How much an option's price changes for a $1 move in the stock.",durationMinutes:25},{id:"m31-2",title:"Theta: The Time Decay Factor",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q31"},{id:"course-32",title:"Short Selling Techniques",description:"Learn how to profit from a falling market. This course covers the mechanics, risks, and strategies of short selling.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Short+Selling+Techniques",rating:4,totalRatings:80,price:15199,category:"Advanced Strategies",difficulty:Ce.Advanced,modules:[{id:"m32-1",title:"The Mechanics of Shorting",type:"text",content:"Borrowing shares to sell high and buy back low.",durationMinutes:20},{id:"m32-2",title:"The Risk of a Short Squeeze",type:"text",content:"Understanding the unlimited risk potential.",durationMinutes:25}],quizId:"q32"},{id:"course-33",title:"Financial Planning for Millennials",description:"A complete guide for Gen Y. Covers budgeting, student loan management, investing basics, and planning for major life goals.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Financial+Planning+for+Millennials",rating:4.8,totalRatings:390,price:3999,category:"Retirement Planning",difficulty:Ce.Beginner,modules:[{id:"m33-1",title:"The 50/30/20 Budget Rule",type:"text",content:"A simple framework for managing your money.",durationMinutes:15},{id:"m33-2",title:"Investing in Your 20s and 30s",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q33"},{id:"course-34",title:"How to Analyze Tech Stocks",description:"Learn the key metrics and qualitative factors for evaluating technology companies, from SaaS giants to semiconductor firms.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=How+to+Analyze+Tech+Stocks",rating:4.7,totalRatings:260,price:14399,category:"Financial Analysis",difficulty:Ce.Intermediate,modules:[{id:"m34-1",title:"Metrics for SaaS Companies",type:"text",content:"Understanding ARR, Churn, and LTV/CAC.",durationMinutes:30},{id:"m34-2",title:"Analyzing Network Effects",type:"text",content:"A powerful competitive advantage for tech companies.",durationMinutes:20}],quizId:"q34"},{id:"course-35",title:"Algorithmic Trading with Python",description:"An advanced course for those with programming skills. Learn to backtest and deploy your own automated trading strategies using Python.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Algorithmic+Trading+with+Python",rating:4.6,totalRatings:130,price:39999,category:"Quantitative Trading",difficulty:Ce.Advanced,modules:[{id:"m35-1",title:"Setting up Your Environment",type:"text",content:"Using libraries like Pandas, NumPy, and brokerage APIs.",durationMinutes:45},{id:"m35-2",title:"Backtesting a Simple Strategy",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:75}],quizId:"q35"},{id:"course-36",title:"Futures and Commodities Trading",description:"Explore the world of futures contracts. Learn how to trade commodities like oil, gold, and agricultural products.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Futures+and+Commodities+Trading",rating:4.2,totalRatings:65,price:20799,category:"Specialized Markets",difficulty:Ce.Advanced,modules:[{id:"m36-1",title:"Understanding Futures Contracts",type:"text",content:"Learn about contract specifications, margin, and expiration.",durationMinutes:30},{id:"m36-2",title:"Hedging with Futures",type:"text",content:"How producers and consumers use futures to manage price risk.",durationMinutes:25}],quizId:"q36"},{id:"course-37",title:"Building a Roth IRA Empire",description:"Maximize your tax-free growth potential with a Roth IRA. This course covers contribution limits, investment strategies, and withdrawal rules.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Building+a+Roth+IRA+Empire",rating:4.9,totalRatings:480,price:7999,category:"Retirement Planning",difficulty:Ce.Beginner,modules:[{id:"m37-1",title:"Roth IRA Contribution Rules",type:"text",content:"Learn about income limits and yearly maximums.",durationMinutes:20},{id:"m37-2",title:"Backdoor Roth IRA",type:"text",content:"A strategy for high-income earners.",durationMinutes:25}],quizId:"q37"},{id:"course-38",title:"Margin Trading and Leverage",description:"Understand how to use borrowed money to amplify your returns (and risks). This course covers margin calls, interest, and when to use leverage.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Margin+Trading+and+Leverage",rating:4.1,totalRatings:95,price:11999,category:"Risk Management",difficulty:Ce.Intermediate,modules:[{id:"m38-1",title:"How Margin Works",type:"text",content:"The basics of borrowing from your broker.",durationMinutes:20},{id:"m38-2",title:"What is a Margin Call?",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q38"},{id:"course-39",title:"Small-Cap and Mid-Cap Gems",description:"Learn how to analyze and find promising small and mid-sized companies before they become household names.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Small-Cap+and+Mid-Cap+Gems",rating:4.6,totalRatings:170,price:18399,category:"Growth Investing",difficulty:Ce.Intermediate,modules:[{id:"m39-1",title:"The Risk and Reward of Small-Caps",type:"text",content:"Why smaller companies have higher growth potential.",durationMinutes:25},{id:"m39-2",title:"Finding Information on Small Companies",type:"text",content:"Where to look when analyst coverage is sparse.",durationMinutes:30}],quizId:"q39"},{id:"course-40",title:"Global and Emerging Markets",description:"Diversify your portfolio internationally. Learn about the opportunities and risks of investing in developed and emerging economies.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Global+and+Emerging+Markets",rating:4.4,totalRatings:110,price:11199,category:"Specialized Markets",difficulty:Ce.Intermediate,modules:[{id:"m40-1",title:"ADRs and Foreign Stock Investing",type:"text",content:"How to easily buy shares of international companies.",durationMinutes:25},{id:"m40-2",title:"Currency Risk",type:"text",content:"An extra layer of risk to consider when investing abroad.",durationMinutes:20}],quizId:"q40"},{id:"course-41",title:"Financial Modeling and Valuation",description:"A hands-on course teaching you how to build financial models in Excel from scratch to value a company.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Financial+Modeling+and+Valuation",rating:4.7,totalRatings:160,price:27999,category:"Financial Analysis",difficulty:Ce.Advanced,modules:[{id:"m41-1",title:"Building a 3-Statement Model",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:60},{id:"m41-2",title:"Discounted Cash Flow (DCF) Analysis",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:75}],quizId:"q41"},{id:"course-42",title:"Hedge Fund Strategies",description:"An overview of common strategies used by hedge funds, such as long/short equity, global macro, and event-driven investing.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Hedge+Fund+Strategies",rating:4.3,totalRatings:90,price:23999,category:"Advanced Strategies",difficulty:Ce.Advanced,modules:[{id:"m42-1",title:"Long/Short Equity",type:"text",content:"The classic hedge fund strategy of being long good stocks and short bad ones.",durationMinutes:30},{id:"m42-2",title:"Merger Arbitrage",type:"text",content:"Profiting from the price discrepancy of announced mergers.",durationMinutes:25}],quizId:"q42"},{id:"course-43",title:`Peter Lynch's "One Up On Wall Street"`,description:`A course based on the legendary investor Peter Lynch's philosophy. Learn how to use your local knowledge to find "tenbaggers".`,instructorId:"user-3",thumbnailUrl:`https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Peter+Lynch's+"One+Up+On+Wall+Street"`,rating:4.9,totalRatings:400,price:11999,category:"Value Investing",difficulty:Ce.Intermediate,modules:[{id:"m43-1",title:"Invest in What You Know",type:"text",content:"The core principle of Lynch's strategy.",durationMinutes:20},{id:"m43-2",title:"Six Categories of Stocks",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q43"},{id:"course-44",title:"Investing in the Healthcare Sector",description:"An analysis of the healthcare industry, from large pharmaceuticals and biotech to medical device companies and insurers.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Investing+in+the+Healthcare+Sector",rating:4.5,totalRatings:135,price:13599,category:"Financial Analysis",difficulty:Ce.Intermediate,modules:[{id:"m44-1",title:"Understanding Clinical Trials",type:"text",content:"The key driver for biotech stock prices.",durationMinutes:30},{id:"m44-2",title:"Patent Cliffs",type:"text",content:"A major risk for pharmaceutical companies.",durationMinutes:20}],quizId:"q44"},{id:"course-45",title:"Penny Stocks: Risks and Opportunities",description:"A realistic look at the world of penny stocks. This course focuses heavily on risk management and how to spot potential scams.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Penny+Stocks:+Risks+and+Opportunities",rating:3.8,totalRatings:150,price:7999,category:"Risk Management",difficulty:Ce.Beginner,modules:[{id:"m45-1",title:"What Defines a Penny Stock?",type:"text",content:"Understanding the low price and market capitalization.",durationMinutes:15},{id:"m45-2",title:'Avoiding "Pump and Dump" Schemes',type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:25}],quizId:"q45"},{id:"course-46",title:"Advanced Technical Analysis",description:"Go beyond basic indicators. This course covers Ichimoku Clouds, Volume Profile, and Market Profile for a deeper view of the market.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Advanced+Technical+Analysis",rating:4.4,totalRatings:95,price:26399,category:"Technical Analysis",difficulty:Ce.Advanced,modules:[{id:"m46-1",title:"The Ichimoku Cloud",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:45},{id:"m46-2",title:"Volume Profile Basics",type:"text",content:"Understanding price levels with high and low trading volume.",durationMinutes:35}],quizId:"q46"},{id:"course-47",title:"Long-Term Investment Strategies",description:"A course focused on building wealth over decades, not days. Learn about buy-and-hold, dollar-cost averaging, and the power of compounding.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Long-Term+Investment+Strategies",rating:4.9,totalRatings:550,price:0,category:"Investment Basics",difficulty:Ce.Beginner,modules:[{id:"m47-1",title:"The Power of Compounding",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:20},{id:"m47-2",title:"Dollar-Cost Averaging Explained",type:"text",content:"A simple strategy to reduce risk and invest consistently.",durationMinutes:15}],quizId:"q47"},{id:"course-48",title:"Options for Hedging Your Portfolio",description:"Learn how to use options not for speculation, but as insurance. Protect your stock portfolio from market downturns using protective puts and collars.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Options+for+Hedging+Your+Portfolio",rating:4.6,totalRatings:105,price:15999,category:"Risk Management",difficulty:Ce.Intermediate,modules:[{id:"m48-1",title:"Protective Puts",type:"text",content:"The simplest way to hedge a long stock position.",durationMinutes:25},{id:"m48-2",title:"The Collar Strategy",type:"text",content:"Financing a protective put by selling a covered call.",durationMinutes:30}],quizId:"q48"},{id:"course-49",title:"Trading with Exchange Traded Notes (ETNs)",description:"Understand the structure and risks of ETNs. Learn how they differ from ETFs and when they might be used in a portfolio.",instructorId:"user-3",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Trading+with+ETNs",rating:4,totalRatings:60,price:7199,category:"Specialized Markets",difficulty:Ce.Intermediate,modules:[{id:"m49-1",title:"ETN vs. ETF",type:"text",content:"Key differences in structure and risk.",durationMinutes:25},{id:"m49-2",title:"Credit Risk in ETNs",type:"text",content:"Understanding that ETNs are unsecured debt notes.",durationMinutes:20}],quizId:"q49"},{id:"course-50",title:"Market Making and Liquidity",description:"An advanced look at how market makers provide liquidity and profit from the bid-ask spread. Understand the plumbing of the financial markets.",instructorId:"user-5",thumbnailUrl:"https://placehold.co/400x225/4f46e5/ffffff/png?font=lato&text=Market+Making+and+Liquidity",rating:4.3,totalRatings:55,price:27999,category:"Advanced Strategies",difficulty:Ce.Advanced,modules:[{id:"m50-1",title:"The Bid-Ask Spread",type:"text",content:"The fundamental source of profit for market makers.",durationMinutes:20},{id:"m50-2",title:"Payment for Order Flow",type:"video",content:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",durationMinutes:30}],quizId:"q50"}],sb=[{courseId:"course-1",studentId:"user-1",completedModules:["m1-1"],quizScore:null,assignmentStatus:"pending",completionNotified:!1,certificateIssued:!1}],lb=[{id:"msg-1",user:Di[2],timestamp:new Date(Date.now()-6e4*5),text:"Welcome to the community chat!"},{id:"msg-2",user:Di[0],timestamp:new Date(Date.now()-6e4*4),text:"Hi everyone! Glad to be here."},{id:"msg-3",user:Di[1],timestamp:new Date(Date.now()-6e4*3),text:"Looking forward to the advanced course."}],zg=new Date,Kp=new Date(zg.getTime()+864e5*2),$p=new Date(zg.getTime()+864e5*5),ob=[{id:"ls-1",title:"Weekly Market Analysis",description:"Join us for a live breakdown of this week's market trends and what to look out for.",instructorId:"user-3",dateTime:Kp,endTime:new Date(Kp.getTime()+3600*1e3),price:1599,attendeeIds:["user-1"]},{id:"ls-2",title:"Q&A with a Pro Trader",description:"Ask your most pressing trading questions to an experienced professional.",instructorId:"user-5",dateTime:$p,endTime:new Date($p.getTime()+3600*1e3),price:0,attendeeIds:[]}],ab=[{id:"oto-1",studentId:"user-1",instructorId:"user-3",dateTime:new Date(Date.now()+864e5*3),status:"scheduled",requestedById:"user-3"},{id:"oto-2",studentId:"user-2",instructorId:"user-5",dateTime:new Date(Date.now()-864e5*1),status:"completed",requestedById:"user-2"},{id:"oto-3",studentId:"user-1",instructorId:"user-5",dateTime:new Date(Date.now()+864e5*4),status:"pending",requestedById:"user-1"}],oc=[{id:"banner-1",title:t=>`Welcome back, ${t}!`,subtitle:"Ready to continue your learning journey? Your personalized dashboard awaits.",ctaText:"View My Courses",ctaLink:"courses",background:"bg-gradient-to-br from-indigo-600 to-violet-500",roles:[Y.Student]},{id:"banner-2",title:()=>"Flash Sale This Weekend!",subtitle:"Get up to 50% off on our most popular trading courses. Don't miss out on this limited-time offer.",ctaText:"Explore Courses",ctaLink:"courses",background:"bg-gradient-to-br from-amber-500 to-orange-600",roles:[Y.Student]},{id:"banner-3",title:()=>'New Course: "Crypto Investing 101"',subtitle:"Dive into the world of digital assets. Learn about blockchain, wallets, and how to invest safely in cryptocurrencies.",ctaText:"Enroll Now",ctaLink:"course-18",background:"bg-gradient-to-br from-teal-500 to-cyan-600",roles:[Y.Student]},{id:"banner-4",title:()=>"Unlock Personalized Coaching",subtitle:"Book a 1-on-1 session with our expert instructors to get dedicated guidance and accelerate your learning curve.",ctaText:"Book a Session",ctaLink:"sessions",background:"bg-gradient-to-br from-slate-800 to-slate-700",roles:[Y.Student]},{id:"banner-inst-1",title:t=>`Share your knowledge, ${t}!`,subtitle:"Ready to create your next bestseller? Our course creation tools make it easy.",ctaText:"Create a Course",ctaLink:"courses",background:"bg-gradient-to-br from-teal-600 to-sky-500",roles:[Y.Instructor]},{id:"banner-inst-2",title:()=>"Engage with Your Students",subtitle:"Check the community chat for new messages and respond to 1-on-1 session requests.",ctaText:"View Community",ctaLink:"community",background:"bg-gradient-to-br from-rose-500 to-pink-500",roles:[Y.Instructor]},{id:"banner-admin-1",title:()=>"Platform Overview",subtitle:"Get a birds-eye view of all platform activity, from user growth to course engagement.",ctaText:"View Analytics",ctaLink:"analytics",background:"bg-gradient-to-br from-slate-800 to-slate-700",roles:[Y.Admin]},{id:"banner-admin-2",title:()=>"Manage Your Platform",subtitle:"Oversee users, manage course content, and ensure the community is thriving.",ctaText:"Manage Users",ctaLink:"users",background:"bg-gradient-to-br from-red-600 to-orange-500",roles:[Y.Admin]}],Ge={USERS:"lms_users",COURSES:"lms_courses",STUDENT_PROGRESS:"lms_student_progress",NOTIFICATIONS:"lms_notifications",CHAT_MESSAGES:"lms_chat_messages",LIVE_SESSIONS:"lms_live_sessions",ONE_TO_ONE_SESSIONS:"lms_one_to_one_sessions",QUIZZES:"lms_quizzes",LIVE_SESSION_PROGRESS:"lms_live_session_progress"},Un=(t,n)=>{try{const l=localStorage.getItem(t);if(l)return JSON.parse(l,(o,u)=>typeof u=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/.test(u)?new Date(u):u)}catch(l){console.error(`Error parsing localStorage key "${t}":`,l),localStorage.removeItem(t)}return n},vt=(t,n)=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(l){throw console.error(`Error setting localStorage key "${t}":`,l),l}},rb="lms_video_storage",di="videos";let Qo=null;const ac=()=>new Promise((t,n)=>{if(Qo){t(Qo);return}const l=indexedDB.open(rb,1);l.onerror=()=>{console.error("IndexedDB error:",l.error),n("Error opening video database.")},l.onsuccess=()=>{Qo=l.result,t(Qo)},l.onupgradeneeded=o=>{const u=o.target.result;u.objectStoreNames.contains(di)||u.createObjectStore(di)}}),ub=async(t,n)=>{const l=await ac();return new Promise((o,u)=>{const y=l.transaction(di,"readwrite").objectStore(di).put(n,t);y.onsuccess=()=>o(),y.onerror=()=>{console.error("Error saving video to IndexedDB:",y.error),u("Could not save video.")}})},cb=async t=>{const n=await ac();return new Promise((l,o)=>{const h=n.transaction(di,"readonly").objectStore(di).get(t);h.onsuccess=()=>{l(h.result?h.result:null)},h.onerror=()=>{console.error("Error getting video from IndexedDB:",h.error),o("Could not retrieve video.")}})},db=async t=>{const n=await ac();return new Promise((l,o)=>{const h=n.transaction(di,"readwrite").objectStore(di).delete(t);h.onsuccess=()=>l(),h.onerror=()=>{console.error("Error deleting video from IndexedDB:",h.error),o("Could not delete video.")}})},fb=()=>{localStorage.getItem(Ge.USERS)||vt(Ge.USERS,Di),localStorage.getItem(Ge.COURSES)||vt(Ge.COURSES,ib),localStorage.getItem(Ge.STUDENT_PROGRESS)||vt(Ge.STUDENT_PROGRESS,sb),localStorage.getItem(Ge.CHAT_MESSAGES)||vt(Ge.CHAT_MESSAGES,lb),localStorage.getItem(Ge.LIVE_SESSIONS)||vt(Ge.LIVE_SESSIONS,ob),localStorage.getItem(Ge.ONE_TO_ONE_SESSIONS)||vt(Ge.ONE_TO_ONE_SESSIONS,ab),localStorage.getItem(Ge.NOTIFICATIONS)||vt(Ge.NOTIFICATIONS,[]),localStorage.getItem(Ge.QUIZZES)||vt(Ge.QUIZZES,nb),localStorage.getItem(Ge.LIVE_SESSION_PROGRESS)||vt(Ge.LIVE_SESSION_PROGRESS,[])},Ie={getUsers:()=>Un(Ge.USERS,[]),saveUsers:t=>vt(Ge.USERS,t),getCourses:()=>Un(Ge.COURSES,[]),saveCourses:t=>vt(Ge.COURSES,t),getStudentProgress:()=>Un(Ge.STUDENT_PROGRESS,[]),saveStudentProgress:t=>vt(Ge.STUDENT_PROGRESS,t),getNotifications:()=>Un(Ge.NOTIFICATIONS,[]),saveNotifications:t=>vt(Ge.NOTIFICATIONS,t),getChatMessages:()=>Un(Ge.CHAT_MESSAGES,[]),saveChatMessages:t=>vt(Ge.CHAT_MESSAGES,t),getLiveSessions:()=>Un(Ge.LIVE_SESSIONS,[]),saveLiveSessions:t=>vt(Ge.LIVE_SESSIONS,t),getOneToOneSessions:()=>Un(Ge.ONE_TO_ONE_SESSIONS,[]),saveOneToOneSessions:t=>vt(Ge.ONE_TO_ONE_SESSIONS,t),getQuizzes:()=>Un(Ge.QUIZZES,[]),saveQuizzes:t=>vt(Ge.QUIZZES,t),getLiveSessionProgress:()=>Un(Ge.LIVE_SESSION_PROGRESS,[]),saveLiveSessionProgress:t=>vt(Ge.LIVE_SESSION_PROGRESS,t),saveVideo:ub,getVideo:cb,deleteVideo:db},mb=({courseToEdit:t,currentUser:n,instructors:l,onSubmit:o,onCancel:u,allQuizzes:f})=>{const[h,y]=I.useState(""),[v,g]=I.useState(""),[x,T]=I.useState(""),[C,E]=I.useState(n.role===Y.Instructor?n.id:""),[_,N]=I.useState(""),[F,z]=I.useState(Ce.Beginner),[J,j]=I.useState(""),[B,W]=I.useState([{title:"",type:"text",content:"",durationMinutes:10}]),[te,D]=I.useState([{text:"",options:["",""],correctAnswerIndex:0}]),[he,le]=I.useState(!1),ue=!!t;I.useEffect(()=>{if(ue&&t){y(t.title),g(t.description),E(t.instructorId),T(t.price||""),N(t.category),z(t.difficulty),j(t.thumbnailUrl),W(t.modules);const K=f.find(pe=>pe.id===t.quizId);D(K?K.questions:[{text:"",options:["",""],correctAnswerIndex:0}])}else y(""),g(""),E(n.role===Y.Instructor?n.id:""),T(""),N(""),z(Ce.Beginner),j(""),W([{title:"",type:"text",content:"",durationMinutes:10}]),D([{text:"",options:["",""],correctAnswerIndex:0}])},[t,ue,n,f]);const oe=async()=>{le(!0);try{const K=new tb({apiKey:"PLACEHOLDER_API_KEY"}),pe=`Based on the course title "${h}" and description "${v}", generate a course outline with 3 to 5 module titles. For each module, suggest if it should be a text or video lesson and estimate its duration in minutes. The content for each module should be a single, short, descriptive paragraph summarizing what the module will cover.`,Se=await K.models.generateContent({model:"gemini-2.5-flash",contents:pe,config:{responseMimeType:"application/json",responseSchema:{type:qt.ARRAY,items:{type:qt.OBJECT,properties:{title:{type:qt.STRING},type:{type:qt.STRING,enum:["text","video"]},durationMinutes:{type:qt.INTEGER},content:{type:qt.STRING}},required:["title","type","durationMinutes","content"]}}}}),_e=JSON.parse(Se.text);_e&&Array.isArray(_e)&&W(_e)}catch(K){console.error("Error generating course outline:",K),alert("Sorry, there was an error generating the course outline. Please check the console for details and try again.")}finally{le(!1)}},fe=()=>{const K=h||"course"+Date.now(),pe=`https://picsum.photos/seed/${encodeURIComponent(K)}/400/225`;j(pe)},Ne=K=>{var Se;const pe=(Se=K.target.files)==null?void 0:Se[0];if(pe){if(!pe.type.startsWith("image/")){alert("Please select an image file.");return}if(pe.size>2*1024*1024){alert("File size exceeds 2MB. Please choose a smaller image.");return}const _e=new FileReader;_e.onload=()=>{j(_e.result)},_e.onerror=()=>{alert("Error reading file.")},_e.readAsDataURL(pe)}},O=()=>{j("");const K=document.getElementById("course-thumbnail-upload");K&&(K.value="")},re=()=>{W([...B,{title:"",type:"text",content:"",durationMinutes:10}])},U=async K=>{const pe=B[K];if(pe.type==="video"&&pe.content.startsWith("indexeddb://")){const Se=pe.content.replace("indexeddb://","");try{await Ie.deleteVideo(Se)}catch(_e){console.error("Failed to delete video on module removal:",_e)}}W(B.filter((Se,_e)=>_e!==K))},G=(K,pe,Se)=>{const _e=[...B];_e[K][pe]=Se,W(_e)},ce=async(K,pe)=>{var _e;const Se=(_e=pe.target.files)==null?void 0:_e[0];if(Se){const tn=B[K].content;if(tn.startsWith("indexeddb://")){const Pn=tn.replace("indexeddb://","");try{await Ie.deleteVideo(Pn)}catch(nn){console.error("Failed to delete old video:",nn)}}const zn=`video-${Date.now()}-${Math.random()}`;try{await Ie.saveVideo(zn,Se),G(K,"content",`indexeddb://${zn}`)}catch(Pn){alert("Failed to save the video. Please try again."),console.error(Pn)}}},ye=async K=>{const pe=B[K].content;if(pe.startsWith("indexeddb://")){const Se=pe.replace("indexeddb://","");try{await Ie.deleteVideo(Se),G(K,"content","")}catch(_e){alert("Failed to remove the video. Please try again."),console.error(_e)}}},X=()=>{D([...te,{text:"",options:["",""],correctAnswerIndex:0}])},A=K=>{D(te.filter((pe,Se)=>Se!==K))},V=(K,pe,Se)=>{const _e=[...te];_e[K][pe]=Se,D(_e)},L=(K,pe,Se)=>{const _e=[...te];_e[K].options[pe]=Se,D(_e)},de=K=>{const pe=[...te];pe[K].options.push(""),D(pe)},be=(K,pe)=>{const Se=[...te];Se[K].options.splice(pe,1),Se[K].correctAnswerIndex>=Se[K].options.length&&(Se[K].correctAnswerIndex=Math.max(0,Se[K].options.length-1)),D(Se)},Me=K=>{if(K.preventDefault(),!h||!v||!C||!_||!J||B.length===0||te.length===0){alert("Please fill out all required course details.");return}const pe={id:t==null?void 0:t.id,title:h,description:v,instructorId:C,thumbnailUrl:J,price:Number(x)||void 0,category:_,difficulty:F,modules:B,quiz:{id:t==null?void 0:t.quizId,title:`${h} Quiz`,questions:te}};o(pe)};return r.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[r.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[r.jsx("legend",{className:"text-lg font-semibold px-2 text-slate-700",children:ue?"Edit Course Details":"Course Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-title",className:"block mb-2 text-sm font-medium text-slate-700",children:"Course Title"}),r.jsx("input",{id:"course-title",type:"text",value:h,onChange:K=>y(K.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-description",className:"block mb-2 text-sm font-medium text-slate-700",children:"Description"}),r.jsx("textarea",{id:"course-description",value:v,onChange:K=>g(K.target.value),rows:3,className:"w-full p-2 border rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-thumbnail",className:"block mb-2 text-sm font-medium text-slate-700",children:"Thumbnail Image"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{id:"course-thumbnail",type:"url",value:J.startsWith("data:")?"Uploaded Image":J,onChange:K=>j(K.target.value),className:"flex-grow w-full p-2 border rounded-md disabled:bg-slate-100",placeholder:"Enter image URL or upload",disabled:J.startsWith("data:")}),r.jsx("label",{htmlFor:"course-thumbnail-upload",className:"cursor-pointer px-3 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300 transition-colors whitespace-nowrap",children:"Upload"}),r.jsx("input",{id:"course-thumbnail-upload",type:"file",className:"sr-only",accept:"image/*",onChange:Ne}),r.jsx("button",{type:"button",onClick:fe,className:"px-3 py-2 text-sm font-semibold text-white bg-indigo-500 rounded-lg hover:bg-indigo-600 transition-colors whitespace-nowrap",children:" Generate"})]}),J&&r.jsxs("div",{className:"mt-4 relative",children:[r.jsx("img",{src:J,alt:"Thumbnail preview",className:"w-full h-auto max-h-48 object-contain rounded-md border"}),r.jsx("button",{type:"button",onClick:O,className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full hover:bg-black/80","aria-label":"Remove thumbnail",children:r.jsx(hn,{className:"w-5 h-5"})})]}),r.jsx("input",{type:"hidden",value:J,required:!0,name:"thumbnail-validator"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-category",className:"block mb-2 text-sm font-medium text-slate-700",children:"Category"}),r.jsx("input",{id:"course-category",type:"text",value:_,onChange:K=>N(K.target.value),className:"w-full p-2 border rounded-md",required:!0,placeholder:"e.g. Trading Fundamentals"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-difficulty",className:"block mb-2 text-sm font-medium text-slate-700",children:"Difficulty"}),r.jsx("select",{id:"course-difficulty",value:F,onChange:K=>z(K.target.value),className:"w-full p-2 border rounded-md",required:!0,children:Object.values(Ce).map(K=>r.jsx("option",{value:K,children:K},K))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"course-price",className:"block mb-2 text-sm font-medium text-slate-700",children:"Price () - leave empty for free"}),r.jsx("input",{id:"course-price",type:"number",value:x,onChange:K=>T(K.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., 4999",step:"1",min:"0"})]}),n.role===Y.Admin&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"instructor-select",className:"block mb-2 text-sm font-medium text-slate-700",children:"Instructor"}),r.jsxs("select",{id:"instructor-select",value:C,onChange:K=>E(K.target.value),required:!0,className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",disabled:!0,children:"Select an instructor"}),l.map(K=>r.jsx("option",{value:K.id,children:K.name},K.id))]})]})]})]}),r.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("legend",{className:"text-lg font-semibold px-2 text-slate-700",children:"Modules"}),r.jsx("button",{type:"button",onClick:oe,disabled:!h||he,className:"flex items-center text-sm font-semibold px-3 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:he?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):" Generate Outline with AI"})]}),r.jsxs("div",{className:"space-y-4",children:[B.map((K,pe)=>{const Se=K.type==="video"&&K.content.startsWith("indexeddb://");return r.jsxs("div",{className:"p-3 bg-slate-50 rounded-md border relative",children:[r.jsx("button",{type:"button",onClick:()=>U(pe),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500",children:r.jsx(hn,{className:"w-5 h-5"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"Module Title",value:K.title,onChange:_e=>G(pe,"title",_e.target.value),className:"w-full p-2 border rounded-md",required:!0}),r.jsx("input",{type:"number",placeholder:"Duration (mins)",value:K.durationMinutes,onChange:_e=>G(pe,"durationMinutes",parseInt(_e.target.value,10)),className:"w-full p-2 border rounded-md",required:!0}),r.jsxs("select",{value:K.type,onChange:_e=>G(pe,"type",_e.target.value),className:"w-full p-2 border rounded-md md:col-span-2",children:[r.jsx("option",{value:"text",children:"Text Content"}),r.jsx("option",{value:"video",children:"Video Content"})]}),K.type==="text"?r.jsx("textarea",{placeholder:"Content (Markdown allowed)",value:K.content,onChange:_e=>G(pe,"content",_e.target.value),className:"w-full p-2 border rounded-md md:col-span-2",rows:4,required:!0}):r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("input",{type:"text",placeholder:"Enter video URL (e.g., YouTube embed)",value:Se?"":K.content,onChange:_e=>G(pe,"content",_e.target.value),className:"w-full p-2 border rounded-md disabled:bg-slate-200",disabled:Se}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-grow border-t border-slate-300"}),r.jsx("span",{className:"flex-shrink mx-4 text-sm text-slate-500",children:"OR"}),r.jsx("div",{className:"flex-grow border-t border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:`video-upload-${pe}`,className:"cursor-pointer inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50",children:Se?"Change Video File":"Upload a Video File (any size)"}),r.jsx("input",{id:`video-upload-${pe}`,type:"file",accept:"video/*",onChange:_e=>ce(pe,_e),className:"hidden"}),Se&&r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-xs text-green-600",children:"Video stored successfully."}),r.jsx("button",{type:"button",onClick:()=>ye(pe),className:"text-xs text-red-500 hover:text-red-700 font-semibold",children:"Remove Video"})]})})]})]})]})]},pe)}),r.jsxs("button",{type:"button",onClick:re,className:"flex items-center text-sm text-indigo-600 font-semibold hover:text-indigo-800",children:[r.jsx(Eh,{className:"w-5 h-5 mr-1"})," Add Module"]})]})]}),r.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[r.jsx("legend",{className:"text-lg font-semibold px-2 text-slate-700",children:"Quiz"}),r.jsxs("div",{className:"space-y-4",children:[te.map((K,pe)=>r.jsxs("div",{className:"p-3 bg-slate-50 rounded-md border relative",children:[r.jsx("button",{type:"button",onClick:()=>A(pe),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500",children:r.jsx(hn,{className:"w-5 h-5"})}),r.jsx("input",{type:"text",placeholder:"Question Text",value:K.text,onChange:Se=>V(pe,"text",Se.target.value),className:"w-full p-2 border rounded-md mb-2",required:!0}),r.jsx("div",{className:"space-y-2",children:K.options.map((Se,_e)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:`correct-answer-${pe}`,checked:K.correctAnswerIndex===_e,onChange:()=>V(pe,"correctAnswerIndex",_e)}),r.jsx("input",{type:"text",placeholder:`Option ${_e+1}`,value:Se,onChange:tn=>L(pe,_e,tn.target.value),className:"flex-1 p-2 border rounded-md",required:!0}),r.jsx("button",{type:"button",onClick:()=>be(pe,_e),className:"text-slate-400 hover:text-red-500",disabled:K.options.length<=2,children:r.jsx(Fu,{className:"w-4 h-4"})})]},_e))}),r.jsx("button",{type:"button",onClick:()=>de(pe),className:"text-xs text-indigo-600 mt-2 hover:underline",children:"Add Option"})]},pe)),r.jsxs("button",{type:"button",onClick:X,className:"flex items-center text-sm text-indigo-600 font-semibold hover:text-indigo-800",children:[r.jsx(Eh,{className:"w-5 h-5 mr-1"})," Add Question"]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg",children:ue?"Update Course":"Create Course"})]})]})},Pg=({quiz:t,onComplete:n})=>{const[l,o]=I.useState(0),[u,f]=I.useState(Array(t.questions.length).fill(null)),[h,y]=I.useState(!1),[v,g]=I.useState(0),x=_=>{const N=[...u];N[l]=_,f(N)},T=()=>{l<t.questions.length-1&&o(l+1)},C=()=>{let _=0;t.questions.forEach((F,z)=>{u[z]===F.correctAnswerIndex&&_++});const N=Math.round(_/t.questions.length*100);g(N),y(!0),n(N)};if(h)return r.jsxs("div",{className:"text-center",children:[r.jsx(Ri,{className:"w-16 h-16 text-teal-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold mb-2 text-slate-800",children:"Quiz Completed!"}),r.jsx("p",{className:"text-lg text-slate-600",children:"Your Score:"}),r.jsxs("p",{className:`text-5xl font-bold ${v>=70?"text-teal-500":"text-amber-500"}`,children:[v,"%"]}),r.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"You can now close this window."})]});const E=t.questions[l];return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-slate-500",children:["Question ",l+1," of ",t.questions.length]}),r.jsx("h3",{className:"text-xl font-semibold text-slate-800 mt-1",children:E.text})]}),r.jsx("div",{className:"space-y-3",children:E.options.map((_,N)=>r.jsx("button",{onClick:()=>x(N),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${u[l]===N?"bg-indigo-600 border-indigo-500 text-white shadow-md":"bg-slate-100 border-slate-200 hover:bg-slate-200 hover:border-indigo-400"}`,children:_},N))}),r.jsx("div",{className:"mt-6 flex justify-end",children:l<t.questions.length-1?r.jsx("button",{onClick:T,className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:u[l]===null,children:"Next"}):r.jsx("button",{onClick:C,className:"px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:u[l]===null,children:"Submit"})})]})},hb=({course:t,student:n})=>r.jsxs("div",{className:"p-8 border-4 border-indigo-500 bg-white text-center aspect-[4/3] flex flex-col justify-center items-center",children:[r.jsx(wt,{className:"w-20 h-20 text-indigo-500 mb-4"}),r.jsx("p",{className:"text-xl text-slate-500",children:"Certificate of Completion"}),r.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"This certifies that"}),r.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:n.name}),r.jsx("p",{className:"text-sm text-slate-500 my-8",children:"has successfully completed the course"}),r.jsx("h2",{className:"text-3xl font-semibold text-indigo-700",children:t.title}),r.jsxs("p",{className:"mt-12 text-xs text-slate-400",children:["Issued on ",new Date().toLocaleDateString()]})]}),pb=({instructor:t,onContactInstructor:n})=>r.jsxs(it,{children:[r.jsxs("div",{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:r.jsx(wt,{className:"w-8 h-8 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold text-slate-800",children:t.name}),r.jsx("p",{className:"text-sm text-slate-500",children:t.role})]})]}),r.jsxs("div",{className:"px-5 pb-5",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:["Your expert guide through the complexities of the stock market. With over 10 years of trading experience, ",t.name.split(" ")[0]," is dedicated to helping you succeed."]}),n&&r.jsxs("button",{onClick:n,className:"w-full mt-4 px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center justify-center",children:[r.jsx(Uu,{className:"w-5 h-5 mr-2"}),"Contact Instructor"]})]})]}),gb=Zp.forwardRef(({watermark:t,children:n},l)=>{if(!t)return r.jsx("div",{ref:l,className:"relative w-full h-full",children:n});const o=Array(150).fill(null);return r.jsxs("div",{ref:l,className:"relative w-full h-full bg-black",children:[n,r.jsx("div",{className:"absolute inset-0 flex flex-wrap items-center justify-center gap-x-8 gap-y-12 p-4 pointer-events-none z-20 overflow-hidden animate-watermark-drift","aria-hidden":"true",children:o.map((u,f)=>r.jsx("span",{className:"text-white/20 text-sm font-semibold transform -rotate-12 select-none whitespace-nowrap",children:t},f))})]})}),Bg=({video:t,watermark:n})=>{const[l,o]=I.useState(null),[u,f]=I.useState(!1),[h,y]=I.useState(null),[v,g]=I.useState(!1),x=I.useRef(null),T=I.useRef(null);I.useEffect(()=>{let N=null;return(async()=>{if(t.type==="video")if(o(null),f(!1),y(null),t.content.startsWith("indexeddb://")){f(!0);const z=t.content.replace("indexeddb://","");try{const J=await Ie.getVideo(z);J?(N=URL.createObjectURL(J),o(N)):y("Video not found. It may have been deleted.")}catch(J){y("Could not load video."),console.error(J)}finally{f(!1)}}else o(t.content)})(),()=>{N&&URL.revokeObjectURL(N)}},[t]),I.useEffect(()=>{const N=x.current,F=J=>J.preventDefault();N&&N.addEventListener("contextmenu",F);const z=()=>{g(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",z),()=>{N&&N.removeEventListener("contextmenu",F),document.removeEventListener("fullscreenchange",z)}},[l]);const C=()=>{T.current&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():T.current.requestFullscreen().catch(N=>{console.error(`Error attempting to enable full-screen mode: ${N.message} (${N.name})`)}))};if(u)return r.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden flex items-center justify-center",children:r.jsx("p",{className:"text-white",children:"Loading video..."})});if(h)return r.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden flex items-center justify-center",children:r.jsx("p",{className:"text-red-400",children:h})});if(!l)return r.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden flex items-center justify-center",children:r.jsx("p",{className:"text-slate-400",children:"No video source provided."})});const E=l.includes("youtube.com/embed"),_=r.jsx("video",{ref:x,src:l,controls:!0,controlsList:"nodownload nofullscreen",className:"w-full h-full max-h-[inherit]","aria-label":t.title},l);return E?r.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:r.jsx("iframe",{className:"w-full h-full",src:l,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):r.jsxs("div",{className:"group relative aspect-video bg-black rounded-lg overflow-hidden",children:[r.jsx(gb,{watermark:n,ref:T,children:r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_})}),r.jsx("div",{className:"absolute bottom-2.5 right-3 z-30 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("button",{onClick:C,className:"p-2 bg-black/50 text-white rounded-full hover:bg-black/80",title:"Toggle Fullscreen",children:v?r.jsx(og,{className:"w-5 h-5"}):r.jsx(lg,{className:"w-5 h-5"})})})]})},jg=({course:t,student:n,progress:l,onModuleComplete:o,onQuizComplete:u,onRateCourse:f,onNotifyInstructorOfCompletion:h,allQuizzes:y})=>{const[v,g]=I.useState(t.modules[0]||null),[x,T]=I.useState("modules"),[C,E]=I.useState(!1),[_,N]=I.useState(!1),[F,z]=I.useState(""),[J,j]=I.useState(!1),[B,W]=I.useState(!1),te=I.useRef(null);I.useEffect(()=>{const L=be=>{be.preventDefault()},de=te.current;return de&&de.addEventListener("contextmenu",L),()=>{de&&de.removeEventListener("contextmenu",L)}},[]);const D=y.find(L=>L.id===t.quizId),he=(l==null?void 0:l.completedModules)||[],le=l==null?void 0:l.quizScore,ue=t.modules.every(L=>he.includes(L.id)),oe=le!=null,fe=ue&&oe,Ne=(l==null?void 0:l.certificateIssued)||!1,O=t.modules.findIndex(L=>L.id===(v==null?void 0:v.id)),re=`${n.name} | ${n.email}${n.phoneNumber?` | ${n.phoneNumber}`:""}`,U=()=>{O>0&&g(t.modules[O-1])},G=()=>{O<t.modules.length-1&&g(t.modules[O+1])},ce=L=>{u(L),T("modules")},ye=Di.find(L=>L.id===t.instructorId),X=L=>{if(L.preventDefault(),!F.trim()){alert("Please enter a message.");return}j(!0),setTimeout(()=>{console.log(`Sending message to ${ye==null?void 0:ye.id}: ${F}`),alert("Message sent successfully!"),j(!1),N(!1),z("")},1e3)},A=L=>L.type==="video"?r.jsx(Bg,{video:{title:L.title,content:L.content,type:"video"},watermark:re}):r.jsx("div",{className:"prose max-w-none p-4 bg-slate-50 rounded-lg border",children:L.content}),V=()=>{switch(x){case"quiz":return D?r.jsx(Pg,{quiz:D,onComplete:ce}):r.jsx("p",{children:"Quiz not found for this course."});case"modules":default:return v?r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:v.title}),A(v),r.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[r.jsxs("button",{onClick:U,disabled:O<=0,className:"inline-flex items-center px-4 py-2 bg-slate-200 text-slate-700 font-semibold rounded-lg hover:bg-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ng,{className:"w-4 h-4 mr-2"}),"Previous"]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[he.includes(v.id)?r.jsxs("div",{className:"inline-flex items-center text-teal-600 font-semibold",children:[r.jsx(Ri,{className:"w-6 h-6 mr-2"}),r.jsx("span",{children:"Completed"})]}):r.jsx("button",{onClick:()=>o(v.id),className:"px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700",children:"Mark as Complete"}),r.jsxs("button",{onClick:G,disabled:O>=t.modules.length-1,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",r.jsx(ig,{className:"w-4 h-4 ml-2"})]})]})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Note: Course content is protected. Downloading, screen recording, or unauthorized distribution is strictly prohibited."})]}):r.jsx("p",{children:"Select a module to begin."})}};return r.jsxs("div",{ref:te,className:"flex flex-col md:flex-row -m-6 max-h-[calc(90vh-100px)] select-none bg-white",children:[B&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>W(!1),"aria-hidden":"true"}),r.jsxs("aside",{className:`w-full max-w-xs md:w-1/3 lg:w-1/4 bg-slate-50 border-r border-slate-200 p-4 flex flex-col justify-between fixed md:relative inset-y-0 left-0 z-50 transition-transform duration-300 ease-in-out ${B?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:[r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 md:hidden",children:[r.jsx("p",{className:"px-2 text-sm font-semibold text-slate-500 uppercase",children:"Course Menu"}),r.jsx("button",{onClick:()=>W(!1),className:"text-slate-500 hover:text-slate-800",children:r.jsx(hn,{className:"w-7 h-7"})})]}),r.jsx("div",{className:"overflow-y-auto flex-1",children:r.jsxs("nav",{className:"space-y-2",children:[r.jsx("p",{className:"hidden md:block px-2 text-sm font-semibold text-slate-500 uppercase",children:"Course Content"}),t.modules.map(L=>r.jsxs("button",{onClick:()=>{g(L),T("modules"),W(!1)},className:`w-full text-left flex items-center p-3 rounded-lg transition-colors ${(v==null?void 0:v.id)===L.id&&x==="modules"?"bg-indigo-100 text-indigo-800":"hover:bg-slate-200"}`,children:[L.type==="text"?r.jsx(gv,{className:"w-5 h-5 mr-3 flex-shrink-0"}):r.jsx(Ui,{className:"w-5 h-5 mr-3 flex-shrink-0"}),r.jsx("span",{className:"flex-1 text-sm",children:L.title}),he.includes(L.id)&&r.jsx(Ri,{className:"w-5 h-5 text-teal-500 flex-shrink-0 ml-2"})]},L.id)),r.jsx("hr",{className:"my-2"}),r.jsxs("button",{onClick:()=>{T("quiz"),W(!1)},className:`w-full text-left flex items-center p-3 rounded-lg transition-colors ${x==="quiz"?"bg-indigo-100 text-indigo-800":"hover:bg-slate-200"}`,disabled:!ue,children:[r.jsx("span",{className:"flex-1 text-sm font-semibold",children:"Final Quiz"}),oe&&r.jsx(Ri,{className:"w-5 h-5 text-teal-500 flex-shrink-0 ml-2"})]}),r.jsx("hr",{className:"my-2"}),fe&&!(l!=null&&l.completionNotified)&&r.jsx("button",{onClick:()=>h(t.id),className:"w-full text-left flex items-center p-3 rounded-lg font-semibold bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Notify Instructor"}),(l==null?void 0:l.completionNotified)&&!(l!=null&&l.certificateIssued)&&r.jsx("p",{className:"p-3 text-sm text-slate-500 bg-slate-100 rounded-lg",children:"Instructor notified. Certificate pending."}),r.jsxs("button",{onClick:()=>E(!0),className:"w-full text-left flex items-center p-3 rounded-lg font-semibold bg-amber-100 text-amber-800 hover:bg-amber-200 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",disabled:!Ne,children:[r.jsx(wt,{className:"w-5 h-5 mr-3"}),"Get Certificate"]}),Ne&&r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border text-center",children:l!=null&&l.rating?r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Your Rating"}),r.jsx(ki,{rating:l.rating,readOnly:!0,className:"justify-center"})]}):r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Rate this course"}),r.jsx(ki,{rating:0,onRatingChange:f,className:"justify-center"})]})})]})})]}),ye&&r.jsx("div",{className:"mt-4 flex-shrink-0",children:r.jsx(pb,{instructor:ye,onContactInstructor:()=>N(!0)})})]}),r.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[r.jsx("div",{className:"md:hidden mb-4",children:r.jsxs("button",{onClick:()=>W(!0),className:"inline-flex items-center gap-2 p-2 rounded-md bg-slate-100 hover:bg-slate-200 text-sm text-slate-700 font-semibold","aria-label":"Open course menu",children:[r.jsx(Cv,{className:"w-6 h-6"}),"Course Menu"]})}),V()]}),r.jsx(pt,{isOpen:C,onClose:()=>E(!1),title:"Your Certificate",size:"2xl",children:r.jsx(hb,{course:t,student:n})}),ye&&r.jsx(pt,{isOpen:_,onClose:()=>N(!1),title:`Contact ${ye.name}`,children:r.jsxs("form",{onSubmit:X,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact-message",className:"block mb-2 text-sm font-medium text-slate-700",children:"Your Message"}),r.jsx("textarea",{id:"contact-message",value:F,onChange:L=>z(L.target.value),rows:6,className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",placeholder:`Ask ${ye.name.split(" ")[0]} a question...`,required:!0})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300 disabled:opacity-50",disabled:J,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg disabled:opacity-50 flex items-center",disabled:J,children:J?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," Sending..."]}):"Send Message"})]})]})})]})},rc=({isOpen:t,onClose:n,onConfirm:l,title:o,message:u})=>t?r.jsx(pt,{isOpen:t,onClose:n,title:o,size:"md",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600",children:u}),r.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[r.jsx("button",{onClick:n,className:"px-8 py-2 text-sm font-semibold text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:l,className:"px-8 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null,yb=({course:t,students:n,allProgress:l,onIssueCertificate:o})=>{const u=l.filter(y=>y.courseId===t.id).map(y=>y.studentId),f=n.filter(y=>u.includes(y.id)),h=y=>l.find(v=>v.courseId===t.id&&v.studentId===y);return r.jsx("div",{className:"space-y-4",children:f.length>0?f.map(y=>{const v=h(y.id);if(!v)return null;const g=v.completedModules.length/t.modules.length*100;return r.jsxs(it,{className:"p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800",children:y.name}),r.jsx("p",{className:"text-sm text-slate-500",children:y.email})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[v.completionNotified&&!v.certificateIssued&&r.jsx("button",{onClick:()=>o(t.id,y.id),className:"px-4 py-1.5 text-sm font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:"Issue Certificate"}),v.certificateIssued&&r.jsx("p",{className:"px-4 py-1.5 text-sm font-semibold text-green-800 bg-green-100 rounded-lg",children:"Certificate Issued"}),!v.completionNotified&&r.jsx("p",{className:"px-4 py-1.5 text-sm font-semibold text-slate-600 bg-slate-100 rounded-lg",children:"In Progress"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ug,{progress:g}),r.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[r.jsxs("span",{children:[v.completedModules.length," / ",t.modules.length," modules"]}),r.jsxs("span",{children:["Quiz Score: ",v.quizScore!==null?`${v.quizScore}%`:"N/A"]})]})]})]},y.id)}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-slate-500",children:"No students are currently enrolled in this course."})})})},vb=({course:t,user:n,receiptData:l,onClose:o})=>{var j;const[u,f]=I.useState(!1),[h,y]=I.useState(!1),[v,g]=I.useState(!1),x=I.useRef(null),T=`RCPT-${Date.now()}`,C=new Date,E=l.cardNumber.replace(/\s/g,"").slice(-4),_=((j=t.price)==null?void 0:j.toLocaleString("en-IN"))||"0",N=`
PAYMENT RECEIPT

Receipt #: ${T}
Date: ${C.toLocaleDateString()}

Client:
${n.name}
${l.streetAddress}
${l.city}, ${l.state}, ${l.zip}
${l.country}

Course: ${t.title}

Description: Enrollment in ${t.title}
Quantity: 1
Rate: ${_}
Amount: ${_}

TOTAL: ${_}

Payment Method: Credit Card ending in ${E}

Thank you for your business!
Purple LMS
    `.trim(),F=async()=>{if(navigator.share)try{await navigator.share({title:"Course Enrollment Receipt",text:N})}catch(B){console.error("Error sharing:",B)}else navigator.clipboard.writeText(N).then(()=>{f(!0),setTimeout(()=>f(!1),2e3)})},z=()=>{navigator.clipboard.writeText(N).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)})},J=async()=>{const B=x.current;if(!B||!window.jspdf||!window.html2canvas){alert("PDF generation library is not available.");return}g(!0);try{const{jsPDF:W}=window.jspdf,D=(await window.html2canvas(B,{scale:2,useCORS:!0})).toDataURL("image/png"),he=new W({orientation:"portrait",unit:"pt",format:"a4"}),le=he.internal.pageSize.getWidth(),ue=he.internal.pageSize.getHeight(),oe=he.getImageProperties(D),fe=Math.min(le*.9/oe.width,ue*.9/oe.height),Ne=oe.width*fe,O=oe.height*fe,re=(le-Ne)/2,U=(ue-O)/2;he.addImage(D,"PNG",re,U,Ne,O),he.save(`receipt-${t.title.replace(/\s+/g,"-")}-${T}.pdf`)}catch(W){console.error("Error generating PDF:",W),alert("Sorry, there was an error generating the PDF. Please try again.")}finally{g(!1)}};return r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsxs("div",{ref:x,className:"max-w-2xl mx-auto bg-white rounded-sm border border-slate-300 overflow-hidden font-serif p-8 text-sm text-slate-800",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Purple LMS"}),r.jsx("p",{className:"text-slate-500",children:"123 Learning Lane"}),r.jsx("p",{className:"text-slate-500",children:"Education City, EC 54321, USA"}),r.jsx("p",{className:"text-slate-500",children:"Phone: (555) 123-4567"}),r.jsx("p",{className:"text-slate-500",children:"E-mail: contact@purplelms.com"})]}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight",children:"PAYMENT RECEIPT"})]}),r.jsxs("div",{className:"flex justify-between items-center bg-slate-200 p-2 rounded-md mb-8 text-slate-700",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Receipt #"})," ",T]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Date:"})," ",C.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-700 border-b border-slate-300 pb-1 mb-2",children:"CLIENT INFORMATION"}),r.jsx("p",{className:"font-bold",children:n.name}),r.jsx("p",{children:l.streetAddress}),r.jsxs("p",{children:[l.city,", ",l.state,", ",l.country]}),r.jsxs("p",{children:["ZIP Code: ",l.zip]}),r.jsxs("p",{children:["Phone: ",l.phoneNumber]}),r.jsxs("p",{children:["E-mail: ",n.email]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-700 border-b border-slate-300 pb-1 mb-2",children:"COURSE INFORMATION"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Course Name:"})," ",t.title]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Enrollment Date:"})," ",C.toLocaleDateString()]})]})]}),r.jsxs("table",{className:"w-full mb-8 text-left",children:[r.jsx("thead",{className:"bg-slate-200 text-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-bold p-2",children:"DESCRIPTION"}),r.jsx("th",{className:"text-right font-bold p-2 w-24",children:"QUANTITY"}),r.jsx("th",{className:"text-right font-bold p-2 w-24",children:"RATE ()"}),r.jsx("th",{className:"text-right font-bold p-2 w-24",children:"AMOUNT"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-slate-200",children:[r.jsx("td",{className:"p-2",children:t.title}),r.jsx("td",{className:"text-right p-2",children:"1"}),r.jsx("td",{className:"text-right p-2",children:_}),r.jsx("td",{className:"text-right p-2",children:_})]}),Array.from({length:6}).map((B,W)=>r.jsx("tr",{className:"border-b border-slate-200",children:r.jsx("td",{className:"p-2 h-8",colSpan:4})},W))]})]}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsxs("div",{className:"w-full sm:w-1/2 md:w-2/5 space-y-2",children:[r.jsxs("div",{className:"flex justify-between bg-slate-100 p-2 rounded-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Subtotal"}),r.jsxs("span",{children:["",_]})]}),r.jsxs("div",{className:"flex justify-between p-2",children:[r.jsx("span",{className:"text-slate-600",children:"Discount"}),r.jsx("span",{children:"0"})]}),r.jsxs("div",{className:"flex justify-between p-2",children:[r.jsx("span",{className:"text-slate-600",children:"Tax / VAT"}),r.jsx("span",{children:"0"})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg border-t-2 border-slate-800 pt-2 mt-2 bg-slate-200 p-2 rounded-sm",children:[r.jsx("span",{className:"text-slate-800",children:"TOTAL"}),r.jsxs("span",{className:"text-slate-800",children:["",_]})]})]})}),r.jsxs("div",{className:"mb-8 p-4 border border-slate-200 rounded-md",children:[r.jsxs("p",{className:"mb-2",children:["The total amount of ",_," was paid by ",n.name," on ",C.toLocaleDateString(),"."]}),r.jsx("p",{className:"font-semibold",children:"Payment Method:"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-0"}),r.jsxs("label",{className:"ml-2 text-sm text-slate-900",children:["Credit card No. **** **** **** ",E]})]})]}),r.jsxs("div",{className:"border-t-2 border-slate-300 pt-8 mt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Customer's Authorized Signature"}),r.jsx("div",{className:"h-12 border-b border-slate-400"})]}),r.jsx("p",{className:"text-center font-semibold text-slate-600",children:"Thank you for your business!"})]})]})}),r.jsxs("div",{className:"mt-6 max-w-2xl mx-auto flex flex-col gap-3",children:[r.jsxs("button",{onClick:J,disabled:v,className:"w-full flex-1 flex items-center justify-center px-5 py-3 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:[v?r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):r.jsx(ag,{className:"w-5 h-5 mr-2"}),v?"Downloading...":"Download as PDF"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:z,className:"w-full flex-1 flex items-center justify-center px-5 py-3 text-sm font-semibold text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 transition-colors shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(rg,{className:"w-5 h-5 mr-2"}),h?"Copied!":"Copy Details"]}),r.jsxs("button",{onClick:F,className:"w-full flex-1 flex items-center justify-center px-5 py-3 text-sm font-semibold text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 transition-colors shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(Sv,{className:"w-5 h-5 mr-2"}),u?"Copied!":"Share"]})]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{onClick:o,className:"px-6 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:underline",children:"Close"})})]})},an=({label:t,children:n,htmlFor:l,className:o=""})=>r.jsxs("div",{className:o,children:[r.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-slate-700 mb-1",children:t}),n]}),xb=["United States","Canada","Mexico","United Kingdom","Germany","France","Australia","Japan"],Iu=Array.from({length:12},(t,n)=>(n+1).toString().padStart(2,"0")),Sb=new Date().getFullYear(),Ru=Array.from({length:10},(t,n)=>(Sb+n).toString()),Gg=({isOpen:t,onClose:n,onSubmit:l,course:o,user:u})=>{const[f,h]=I.useState(""),[y,v]=I.useState(""),[g,x]=I.useState(""),[T,C]=I.useState(""),[E,_]=I.useState(""),[N,F]=I.useState("United States"),[z,J]=I.useState(""),[j,B]=I.useState(""),[W,te]=I.useState(Iu[0]),[D,he]=I.useState(Ru[0]),[le,ue]=I.useState(""),[oe,fe]=I.useState(!1),[Ne,O]=I.useState(""),[re,U]=I.useState("summary"),G=(o==null?void 0:o.price)!=null&&o.price>0;I.useEffect(()=>{t&&(u&&(h(u.phoneNumber||""),v(u.address||"")),fe(!1),O(""),U(G?"summary":"form"),J(""),B(""),te(Iu[0]),he(Ru[0]),ue(""),x(""),C(""),_(""),F("United States"))},[u,t,G]);const ce=L=>{const be=(L.target.value.replace(/\D/g,"").match(/.{1,4}/g)||[]).join(" ");be.length<=19&&B(be)};if(!o||!u)return null;const ye=L=>{if(L.preventDefault(),O(""),[N,y,g,T,E,f].some(Me=>!Me.trim())){O("Please fill out all billing address and contact information fields.");return}if(G){if([z,j,W,D,le].some(K=>!K.trim())){O("Please fill out all credit card details.");return}if(j.replace(/\s/g,"").length<15){O("Please enter a valid card number.");return}}const be=`${y}, ${g}, ${T} ${E}, ${N}`;if(!G){l({phoneNumber:f,address:be});return}fe(!0),setTimeout(()=>{fe(!1),l({phoneNumber:f,address:be}),U("receipt")},2e3)},X=re==="receipt"?"Payment Receipt":re==="summary"?`Enroll in: ${o.title}`:`Payment for: ${o.title}`,A="w-full p-2.5 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",V=()=>{if(re==="receipt"){const L={phoneNumber:f,streetAddress:y,city:g,state:T,zip:E,country:N,cardNumber:j};return r.jsx(vb,{course:o,user:u,receiptData:L,onClose:n})}return re==="summary"&&G?r.jsxs("div",{className:"text-center p-4 animate-fade-in",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:o.title}),r.jsx("p",{className:"text-slate-500 mt-2 max-w-prose mx-auto",children:o.description}),r.jsxs("div",{className:"my-8 p-6 bg-slate-100 rounded-lg",children:[r.jsx("p",{className:"text-lg text-slate-600",children:"Total Amount Due"}),r.jsxs("p",{className:"text-5xl font-bold text-indigo-600 mt-2",children:["",o.price.toLocaleString("en-IN")]})]}),r.jsx("button",{onClick:()=>U("form"),className:"w-full px-6 py-3 text-base font-semibold text-white rounded-lg transition-colors bg-slate-900 hover:bg-slate-800",children:"Proceed to Payment"})]}):r.jsxs("form",{onSubmit:ye,className:"space-y-8 animate-fade-in",children:[G&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Method"}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[r.jsx(Dv,{}),r.jsx(Uv,{}),r.jsx(kv,{}),r.jsx(Lv,{})]})]}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800 pt-4",children:"Credit Card Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(an,{label:"Name on card",htmlFor:"nameOnCard",children:r.jsx("input",{id:"nameOnCard",type:"text",placeholder:"Meet Patel",value:z,onChange:L=>J(L.target.value),className:A,required:G})}),r.jsx(an,{label:"Card number",htmlFor:"cardNumber",children:r.jsx("input",{id:"cardNumber",type:"text",placeholder:"0000 0000 0000 0000",value:j,onChange:ce,className:A,required:G})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(an,{label:"Card expiration",htmlFor:"expMonth",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{id:"expMonth",value:W,onChange:L=>te(L.target.value),className:A,required:G,children:Iu.map(L=>r.jsx("option",{value:L,children:L},L))}),r.jsx("select",{id:"expYear",value:D,onChange:L=>he(L.target.value),className:A,required:G,children:Ru.map(L=>r.jsx("option",{value:L,children:L},L))})]})}),r.jsx(an,{label:"Card Security Code",htmlFor:"csc",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"csc",type:"text",placeholder:"Code",value:le,onChange:L=>ue(L.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:`${A} pr-10`,required:G}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",title:"3-4 digit code on the back of your card.",children:r.jsx(Tv,{className:"w-5 h-5 text-slate-400"})})]})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Billing address"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(an,{label:"Country",htmlFor:"country",children:r.jsx("select",{id:"country",value:N,onChange:L=>F(L.target.value),className:A,required:!0,children:xb.map(L=>r.jsx("option",{value:L,children:L},L))})}),r.jsx(an,{label:"Address",htmlFor:"streetAddress",children:r.jsx("input",{id:"streetAddress",type:"text",placeholder:"Address",value:y,onChange:L=>v(L.target.value),className:A,required:!0})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(an,{label:"City",htmlFor:"city",children:r.jsx("input",{id:"city",type:"text",placeholder:"City",value:g,onChange:L=>x(L.target.value),className:A,required:!0})}),r.jsx(an,{label:"State",htmlFor:"state",children:r.jsx("input",{id:"state",type:"text",placeholder:"State",value:T,onChange:L=>C(L.target.value),className:A,required:!0})})]}),r.jsx(an,{label:"ZIP CODE",htmlFor:"zip",children:r.jsx("input",{id:"zip",type:"text",placeholder:"ZIP CODE",value:E,onChange:L=>_(L.target.value),className:A,required:!0})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Contact information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(an,{label:"Email",htmlFor:"email",children:r.jsx("input",{id:"email",type:"email",value:u.email,className:`${A} bg-slate-100 cursor-not-allowed`,disabled:!0})}),r.jsx(an,{label:"Phone",htmlFor:"phone",children:r.jsx("input",{id:"phone",type:"tel",placeholder:"Phone",value:f,onChange:L=>h(L.target.value),className:A,required:!0})})]})]}),Ne&&r.jsx("p",{className:"text-red-500 text-sm text-center",children:Ne}),r.jsx("div",{className:"flex justify-end items-center space-x-4 pt-4",children:r.jsx("button",{type:"submit",className:"w-full px-6 py-3 text-base font-semibold text-white rounded-lg transition-colors bg-slate-900 hover:bg-slate-800 disabled:opacity-50 flex items-center justify-center",disabled:oe,children:oe?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," Processing..."]}):G?`Pay ${o.price.toLocaleString("en-IN")}`:"Confirm Enrollment"})})]})};return r.jsx(pt,{isOpen:t,onClose:n,title:X,size:"2xl",children:V()})},uc=t=>{const[n,l]=I.useState(!1),[o,u]=I.useState(null),[f,h]=I.useState(null),[y,v]=I.useState(null),[g,x]=I.useState(null),[T,C]=I.useState(null),[E,_]=I.useState("All"),[N,F]=I.useState("All"),[z,J]=I.useState("All"),{searchTerm:j=""}=t,B=t.currentUser.role===Y.Admin||t.currentUser.role===Y.Instructor,W=I.useMemo(()=>{const O=t.allCourses.map(re=>re.category);return["All",...Array.from(new Set(O)).sort()]},[t.allCourses]),te=I.useMemo(()=>t.allCourses.filter(O=>{const re=j.trim()===""||O.title.toLowerCase().includes(j.toLowerCase())||O.description.toLowerCase().includes(j.toLowerCase()),U=E==="All"||O.category===E,G=N==="All"||N==="Free"&&(!O.price||O.price===0)||N==="Paid"&&O.price&&O.price>0,ce=z==="All"||O.difficulty===z;return re&&U&&G&&ce}),[t.allCourses,j,E,N,z]),D=O=>{t.onCreateCourse(O),l(!1),u(null)},he=O=>t.instructors.find(re=>re.id===O),le=O=>t.studentProgress.find(re=>re.courseId===O&&re.studentId===t.currentUser.id),ue=()=>{y&&(t.onDeleteCourse(y.id),v(null))},oe=O=>{u(O),l(!0)},fe=O=>{t.currentUser.role===Y.Student?le(O.id)?h(O):x(O):oe(O)},Ne=O=>{g&&(t.onEnrollInCourse(g.id,O),(!g.price||g.price<=0)&&x(null))};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:t.currentUser.role===Y.Student?"Available Courses":"Manage Courses"}),B&&r.jsx("button",{onClick:()=>{u(null),l(!0)},className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-semibold rounded-lg hover:from-indigo-700 hover:to-violet-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"+ Create Course"})]}),r.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex flex-col md:flex-row items-center gap-4",children:[r.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[r.jsx("label",{htmlFor:"category-filter",className:"sr-only",children:"Category"}),r.jsx("select",{id:"category-filter",value:E,onChange:O=>_(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:W.map(O=>r.jsx("option",{value:O,children:O==="All"?"All Categories":O},O))})]}),r.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[r.jsx("label",{htmlFor:"price-filter",className:"sr-only",children:"Price"}),r.jsxs("select",{id:"price-filter",value:N,onChange:O=>F(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"All",children:"All Prices"}),r.jsx("option",{value:"Free",children:"Free"}),r.jsx("option",{value:"Paid",children:"Paid"})]})]}),r.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[r.jsx("label",{htmlFor:"difficulty-filter",className:"sr-only",children:"Difficulty"}),r.jsxs("select",{id:"difficulty-filter",value:z,onChange:O=>J(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"All",children:"All Levels"}),r.jsx("option",{value:Ce.Beginner,children:Ce.Beginner}),r.jsx("option",{value:Ce.Intermediate,children:Ce.Intermediate}),r.jsx("option",{value:Ce.Advanced,children:Ce.Advanced})]})]}),r.jsx("button",{onClick:()=>{_("All"),F("All"),J("All")},className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-md hover:bg-slate-300 transition-colors w-full md:w-auto flex-shrink-0",children:"Clear Filters"})]}),te.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:te.map(O=>r.jsx(Xu,{course:O,instructor:he(O.instructorId),progress:le(O.id),onClick:fe,onEdit:B?oe:void 0,onDelete:B?re=>v(t.allCourses.find(U=>U.id===re)||null):void 0,onManageStudents:B?C:void 0,userRole:t.currentUser.role},O.id))}):r.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-300 rounded-lg bg-slate-50",children:r.jsx("p",{className:"text-slate-500",children:j?"No courses found matching your criteria.":"No courses available for the selected filters."})}),r.jsx(pt,{isOpen:n,onClose:()=>{l(!1),u(null)},title:o?"Edit Course":"Create a New Course",size:"3xl",children:r.jsx(mb,{courseToEdit:o,currentUser:t.currentUser,instructors:t.instructors,onSubmit:D,onCancel:()=>{l(!1),u(null)},allQuizzes:t.allQuizzes})}),r.jsx(pt,{isOpen:!!f,onClose:()=>h(null),title:(f==null?void 0:f.title)||"Course Details",size:"4xl",children:f&&r.jsx(jg,{course:f,student:t.currentUser,progress:le(f.id),onModuleComplete:O=>t.onModuleComplete(f.id,O),onQuizComplete:O=>t.onQuizComplete(f.id,O),onRateCourse:O=>t.onRateCourse(f.id,O),onNotifyInstructorOfCompletion:()=>t.onNotifyInstructorOfCompletion(f.id),allQuizzes:t.allQuizzes})}),r.jsx(pt,{isOpen:!!T,onClose:()=>C(null),title:`Student Progress: ${T==null?void 0:T.title}`,size:"3xl",children:T&&r.jsx(yb,{course:T,students:t.students,allProgress:t.studentProgress,onIssueCertificate:t.onIssueCertificate})}),r.jsx(rc,{isOpen:!!y,onClose:()=>v(null),onConfirm:ue,title:"Delete Course",message:`Are you sure you want to delete the course "${y==null?void 0:y.title}"? This action cannot be undone.`}),r.jsx(Gg,{isOpen:!!g,onClose:()=>x(null),onSubmit:Ne,course:g,user:t.currentUser})]})},Vg=({session:t,instructor:n,onEdit:l,onJoin:o,onRegister:u,onViewAttendees:f,onViewRecording:h,onShare:y,isRegistered:v,currentUserRole:g,quiz:x,sessionProgress:T,onTakeQuiz:C})=>{const E=t.price&&t.price>0,_=g===Y.Admin||g===Y.Instructor,N=new Date>t.endTime,F=new Date>=new Date(t.dateTime.getTime()-900*1e3)&&!N,z=I.useMemo(()=>!t.feedback||t.feedback.length===0?0:t.feedback.reduce((te,D)=>te+D.rating,0)/t.feedback.length,[t.feedback]),J=I.useMemo(()=>{const W=t.dateTime,te=t.endTime;return te?W.getFullYear()===te.getFullYear()&&W.getMonth()===te.getMonth()&&W.getDate()===te.getDate()?`${W.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})} - ${te.toLocaleString([],{timeStyle:"short"})}`:`${W.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})} - ${te.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})}`:W.toLocaleString()},[t.dateTime,t.endTime]),j=()=>{var D;if(N&&z>0)return r.jsxs("div",{className:"absolute top-4 right-4 flex items-center bg-white/80 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold",children:[r.jsx(ki,{rating:z,readOnly:!0}),r.jsxs("span",{className:"ml-1 text-slate-600",children:["(",(D=t.feedback)==null?void 0:D.length,")"]})]});const W=E?`${t.price.toLocaleString("en-IN")}`:"Free",te=E?"bg-indigo-100 text-indigo-800 border-indigo-200":"bg-green-100 text-green-800 border-green-200";return r.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 text-sm font-bold rounded-full border ${te}`,children:W})},B=()=>N&&t.recordingUrl&&(v||_)&&h?r.jsxs("button",{onClick:()=>h(t),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-slate-600 rounded-md hover:bg-slate-700 transition-all duration-300 shadow-sm hover:shadow-md",children:[r.jsx(Ui,{className:"w-4 h-4 mr-2"}),"View Recording"]}):N&&x&&v&&C&&(!T||T.quizScore===null)?r.jsx("button",{onClick:()=>C(t),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-amber-500 rounded-md hover:bg-amber-600 transition-all duration-300 shadow-sm hover:shadow-md",children:"Take Quiz"}):(T==null?void 0:T.quizScore)!==null&&(T==null?void 0:T.quizScore)!==void 0?r.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Quiz Score: ",T.quizScore,"%"]}):v?F?r.jsxs("button",{onClick:()=>o(t),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-all duration-300 shadow-sm hover:shadow-md",children:[r.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Join Session"]}):r.jsx("button",{disabled:!0,className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-slate-400 rounded-md cursor-not-allowed",children:"Registered"}):N?r.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Session Ended"}):r.jsx("button",{onClick:()=>u(t),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-md hover:bg-green-700 transition-all duration-300 shadow-sm hover:shadow-md",children:E?`Register for ${t.price.toLocaleString("en-IN")}`:"Register for Free"});return r.jsxs(it,{className:"flex flex-col justify-between h-full",children:[r.jsxs("div",{className:"p-5 flex-grow relative",children:[j(),r.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 pr-20",children:t.title}),r.jsx("p",{className:"text-slate-600 text-sm mb-4 flex-grow",children:t.description}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Host: ",r.jsx("span",{className:"font-medium text-indigo-600",children:(n==null?void 0:n.name)||"Unknown"})]}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Date: ",r.jsx("span",{className:"font-medium text-slate-700",children:J})]})]}),r.jsxs("div",{className:"bg-slate-50 p-4 border-t border-slate-200 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[_&&l&&r.jsx("button",{onClick:W=>{W.stopPropagation(),l(t)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors",title:"Edit Session",children:r.jsx(Yu,{className:"w-5 h-5"})}),_&&f&&r.jsx("button",{onClick:W=>{W.stopPropagation(),f(t)},className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors",title:"View Attendees",children:r.jsx(ui,{className:"w-5 h-5"})}),y&&r.jsx("button",{onClick:W=>{W.stopPropagation(),y(t)},className:"p-2 text-green-600 hover:bg-green-100 rounded-full transition-colors",title:"Share on WhatsApp",children:r.jsx(xv,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex items-center space-x-2",children:B()})]})]})},Tb=({sessionToEdit:t,currentUser:n,instructors:l,onSubmit:o,onCancel:u,allQuizzes:f})=>{const[h,y]=I.useState(""),[v,g]=I.useState(""),[x,T]=I.useState(""),[C,E]=I.useState(""),[_,N]=I.useState(n.role===Y.Instructor?n.id:""),[F,z]=I.useState(""),[J,j]=I.useState(""),B=!!t;I.useEffect(()=>{if(B&&t){y(t.title),g(t.description);const D=new Date(t.dateTime);if(D.setMinutes(D.getMinutes()-D.getTimezoneOffset()),T(D.toISOString().slice(0,16)),t.endTime){const he=new Date(t.endTime);he.setMinutes(he.getMinutes()-he.getTimezoneOffset()),E(he.toISOString().slice(0,16))}N(t.instructorId),z(t.price||""),j(t.quizId||"")}else y(""),g(""),T(""),E(""),N(n.role===Y.Instructor?n.id:""),z(""),j("")},[t,B,n]);const W=D=>{if(D.preventDefault(),!h||!v||!x||!C||!_){alert("Please fill out all fields.");return}if(new Date(C)<=new Date(x)){alert("End time must be after the start time.");return}o({id:t==null?void 0:t.id,title:h,description:v,dateTime:x,endTime:C,instructorId:_,price:Number(F)||void 0,quizId:J||void 0})},te="w-full p-2 border border-slate-300 rounded-md bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500";return r.jsxs("form",{onSubmit:W,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-title",className:"block mb-2 text-sm font-medium text-slate-700",children:"Live Session Title"}),r.jsx("input",{id:"webinar-title",type:"text",value:h,onChange:D=>y(D.target.value),className:te,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-description",className:"block mb-2 text-sm font-medium text-slate-700",children:"Description"}),r.jsx("textarea",{id:"webinar-description",value:v,onChange:D=>g(D.target.value),rows:3,className:te,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-datetime",className:"block mb-2 text-sm font-medium text-slate-700",children:"Start Time"}),r.jsx("input",{id:"webinar-datetime",type:"datetime-local",value:x,onChange:D=>T(D.target.value),className:te,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-endtime",className:"block mb-2 text-sm font-medium text-slate-700",children:"End Time"}),r.jsx("input",{id:"webinar-endtime",type:"datetime-local",value:C,onChange:D=>E(D.target.value),className:te,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-price",className:"block mb-2 text-sm font-medium text-slate-700",children:"Price () - leave empty for free"}),r.jsx("input",{id:"webinar-price",type:"number",value:F,onChange:D=>z(D.target.value),className:te,placeholder:"e.g., 999",step:"1",min:"0"})]}),n.role===Y.Admin&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"instructor-select",className:"block mb-2 text-sm font-medium text-slate-700",children:"Instructor"}),r.jsxs("select",{id:"instructor-select",value:_,onChange:D=>N(D.target.value),required:!0,className:te,children:[r.jsx("option",{value:"",disabled:!0,children:"Select an instructor"}),l.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"webinar-quiz",className:"block mb-2 text-sm font-medium text-slate-700",children:"Associated Quiz (Optional)"}),r.jsxs("select",{id:"webinar-quiz",value:J,onChange:D=>j(D.target.value),className:te,children:[r.jsx("option",{value:"",children:"No Quiz"}),f.map(D=>r.jsx("option",{value:D.id,children:D.title},D.id))]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg",children:B?"Update Session":"Schedule Session"})]})]})},Cb=({participants:t,currentUser:n,session:l})=>{const[o,u]=I.useState(!1),f=n.role===Y.Admin||n.role===Y.Instructor,h=()=>{const v=`Name	Role	Email
`,g=t.map(x=>`${x.name}	${x.role}	${x.email}`).join(`
`);navigator.clipboard.writeText(v+g).then(()=>{u(!0),setTimeout(()=>u(!1),2e3)})},y=()=>{const v=`Name,Role,Email
`,g=t.map(E=>`"${E.name.replace(/"/g,'""')}","${E.role}","${E.email}"`).join(`
`),x=v+g,T=new Blob([x],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");if(C.download!==void 0){const E=URL.createObjectURL(T);C.setAttribute("href",E),C.setAttribute("download",`participants-${l.title.replace(/\s+/g,"_")}-${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}};return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"p-3 border-b border-slate-700",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-semibold text-white",children:["Participants (",t.length,")"]}),f&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:h,title:"Copy as table",className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-md transition-colors",children:o?r.jsx(Ri,{className:"w-5 h-5 text-green-400"}):r.jsx(rg,{className:"w-5 h-5"})}),r.jsx("button",{onClick:y,title:"Download as CSV",className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-md transition-colors",children:r.jsx(ag,{className:"w-5 h-5"})})]})]})}),r.jsx("div",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:t.map(v=>r.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ci,{className:"w-8 h-8 text-slate-500"}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-slate-200",children:[v.name," ",v.id===n.id?"(You)":""]}),r.jsx("p",{className:"text-xs text-slate-400",children:v.role})]})]})},v.id))})]})},bb=({messages:t,currentUser:n,onSendMessage:l})=>{const[o,u]=I.useState(""),f=I.useRef(null),h=()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})};I.useEffect(h,[t]);const y=v=>{v.preventDefault(),o.trim()&&(l(o),u(""))};return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"p-3 border-b border-slate-700",children:r.jsx("h3",{className:"font-semibold text-white",children:"Live Chat"})}),r.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.map(v=>r.jsx("div",{className:`flex items-end gap-2 ${v.user.id===n.id?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`order-2 ${v.user.id===n.id?"items-end":"items-start"} flex flex-col max-w-[85%]`,children:[v.user.id!==n.id&&r.jsx("p",{className:"text-xs text-slate-400 mb-1 px-1",children:v.user.name}),r.jsx("div",{className:`px-3 py-2 rounded-lg inline-block break-words ${v.user.id===n.id?"bg-indigo-600 text-white rounded-br-none":"bg-slate-700 text-slate-100 rounded-bl-none"}`,children:v.text})]})},v.id)),r.jsx("div",{ref:f})]}),r.jsx("div",{className:"p-3 border-t border-slate-700",children:r.jsxs("form",{onSubmit:y,className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),placeholder:"Type a message...",className:"flex-1 bg-slate-700 border border-slate-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 text-sm text-white placeholder-slate-400",autoComplete:"off"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg text-sm hover:bg-indigo-700 transition-colors",children:"Send"})]})})]})},Hg=({onClose:t,currentUser:n,session:l})=>{const[o,u]=I.useState("idle"),[f,h]=I.useState(null),[y,v]=I.useState(null),[g,x]=I.useState(null),[T,C]=I.useState([]),[E,_]=I.useState(!0),[N,F]=I.useState(!0),[z,J]=I.useState(!1),[j,B]=I.useState("chat"),[W,te]=I.useState(!1),D=I.useRef(null),he=I.useRef(null),le=I.useRef(null);I.useEffect(()=>{const X={id:"msg-system-1",user:{id:"system",name:"System",role:Y.Admin,email:""},timestamp:new Date,text:`Welcome to "${l.title}"!`};C([X])},[l.title]),I.useEffect(()=>{let X=null;return(async()=>{u("pending");try{X=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),X.getAudioTracks().forEach(L=>L.enabled=!1),X.getVideoTracks().forEach(L=>L.enabled=!1),h(X),u("granted"),x(null)}catch(V){if(u("denied"),V instanceof Error){let L=`Error accessing media devices: ${V.message}.`;V.name==="NotAllowedError"?L="Camera and microphone permissions were denied. Please allow them in your browser settings to use these features.":V.name==="NotFoundError"&&(L="No camera or microphone found. Please connect a device."),x(L)}else x("An unknown error occurred while accessing media devices.")}})(),()=>{X==null||X.getTracks().forEach(V=>V.stop())}},[]),I.useEffect(()=>{f&&D.current&&(D.current.srcObject=f)},[f,N]),I.useEffect(()=>{y&&he.current&&(he.current.srcObject=y)},[y,z]),I.useEffect(()=>()=>{y==null||y.getTracks().forEach(X=>X.stop())},[y]),I.useEffect(()=>{const X=()=>{te(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",X),()=>document.removeEventListener("fullscreenchange",X)},[]);const ue=X=>{const A={id:`msg-${Date.now()}`,user:n,timestamp:new Date,text:X};C(V=>[...V,A])},oe=()=>{if(f){const X=!E;f.getAudioTracks().forEach(A=>A.enabled=!X),_(X)}},fe=()=>{if(f){const X=!N;f.getVideoTracks().forEach(A=>A.enabled=!X),F(X)}},Ne=()=>{y==null||y.getTracks().forEach(X=>X.stop()),v(null),J(!1)},O=async()=>{if(z)Ne();else try{const X=await navigator.mediaDevices.getDisplayMedia({video:!0}),A=X.getVideoTracks()[0];A.onended=()=>Ne(),v(X),J(!0)}catch(X){console.error("Screen share error:",X)}},re=X=>{B(j===X?"closed":X)},U=()=>{le.current&&(document.fullscreenElement?document.exitFullscreen():le.current.requestFullscreen().catch(X=>{console.error(`Fullscreen error: ${X.message}`)}))},G=Di.find(X=>X.id===l.instructorId),ce=l.attendeeIds.map(X=>Di.find(A=>A.id===X)).filter(Boolean);G&&!ce.some(X=>X.id===G.id)&&ce.push(G),ce.some(X=>X.id===n.id)||ce.push(n);const ye=()=>{if(z&&y)return r.jsx("video",{ref:he,autoPlay:!0,className:"w-full h-full object-contain"});switch(o){case"pending":return r.jsx("p",{children:"Requesting camera and microphone access..."});case"denied":return r.jsxs("div",{className:"text-center p-4",children:[r.jsx(hn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-red-400 max-w-md",children:g})]});case"granted":return N||!f?r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-800",children:[r.jsx(ci,{className:"w-24 h-24 text-slate-600"}),r.jsx("p",{className:"mt-4 text-slate-400",children:"Your camera is off"})]}):r.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform -scale-x-100"});default:return null}};return r.jsxs("div",{ref:le,className:"flex w-full h-full bg-slate-900 text-white font-sans overflow-hidden select-none",onContextMenu:X=>X.preventDefault(),children:[r.jsxs("main",{className:"flex-1 flex flex-col relative",children:[r.jsx("header",{className:"absolute top-0 left-0 p-4 z-20",children:r.jsx("h2",{className:"text-lg font-bold",children:l.title})}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-4 pt-16 pb-24",children:r.jsxs("div",{className:"w-full h-full bg-black rounded-lg flex items-center justify-center relative overflow-hidden",children:[ye(),!z&&o==="granted"&&r.jsxs("span",{className:"absolute bottom-4 left-4 bg-black/50 px-3 py-1 rounded-lg text-sm font-semibold",children:[n.name," (You)"]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center items-center h-24 z-20",children:r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 bg-slate-800/80 backdrop-blur-sm p-3 rounded-full shadow-lg",children:[r.jsx("button",{onClick:oe,className:`p-3 rounded-full transition-colors ${E?"bg-red-600":"bg-slate-700 hover:bg-slate-600"}`,title:E?"Unmute":"Mute",disabled:o!=="granted",children:E?r.jsx(Ev,{className:"w-6 h-6"}):r.jsx(bv,{className:"w-6 h-6"})}),r.jsx("button",{onClick:fe,className:`p-3 rounded-full transition-colors ${N?"bg-red-600":"bg-slate-700 hover:bg-slate-600"}`,title:N?"Turn camera on":"Turn camera off",disabled:o!=="granted",children:N?r.jsx(Nv,{className:"w-6 h-6"}):r.jsx(Ui,{className:"w-6 h-6"})}),r.jsx("button",{onClick:O,className:`p-3 rounded-full transition-colors ${z?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,title:z?"Stop sharing":"Share screen",disabled:o!=="granted",children:r.jsx(Rv,{className:"w-6 h-6"})}),r.jsx("div",{className:"h-6 w-px bg-slate-600"}),r.jsx("button",{onClick:()=>re("participants"),className:`p-3 rounded-full transition-colors ${j==="participants"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,title:"Participants",children:r.jsx(ui,{className:"w-6 h-6"})}),r.jsx("button",{onClick:()=>re("chat"),className:`p-3 rounded-full transition-colors ${j==="chat"?"bg-indigo-600":"bg-slate-700 hover:bg-slate-600"}`,title:"Chat",children:r.jsx(_v,{className:"w-6 h-6"})}),r.jsx("button",{onClick:U,className:"p-3 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors",title:W?"Exit fullscreen":"Enter fullscreen",children:W?r.jsx(og,{className:"w-6 h-6"}):r.jsx(lg,{className:"w-6 h-6"})}),r.jsx("div",{className:"h-6 w-px bg-slate-600"}),r.jsx("button",{onClick:t,className:"p-3 rounded-full bg-red-600 hover:bg-red-700 transition-colors",title:"Leave session",children:r.jsx(Av,{className:"w-6 h-6"})})]})})]}),r.jsxs("aside",{className:`w-80 bg-slate-800 border-l border-slate-700 flex flex-col transition-all duration-300 ${j!=="closed"?"ml-0":"ml-[-320px] max-w-0 border-l-0"}`,children:[r.jsx("div",{className:"p-1 border-b border-slate-700 flex justify-end",children:r.jsx("button",{onClick:()=>B("closed"),className:"text-slate-400 hover:text-white p-1",children:r.jsx(hn,{className:"w-6 h-6"})})}),j==="chat"&&r.jsx(bb,{messages:T,currentUser:n,onSendMessage:ue}),j==="participants"&&r.jsx(Cb,{participants:ce,currentUser:n,session:l})]})]})},Eb=({session:t,users:n})=>{const l=n.find(u=>u.id===t.instructorId);let o=n.filter(u=>t.attendeeIds.includes(u.id));return l&&!o.some(u=>u.id===l.id)&&o.push(l),o.sort((u,f)=>u.id===(l==null?void 0:l.id)?-1:f.id===(l==null?void 0:l.id)?1:u.name.localeCompare(f.name)),r.jsxs("div",{className:"mt-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:["Session Participants (",o.length,")"]}),r.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:o.map(u=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:u.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:u.role}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:u.email})]},u.id))})]}),o.length===0&&r.jsx("p",{className:"text-center py-8 text-slate-500",children:"There were no participants in this session."})]})]})},Og=({session:t,onClose:n,currentUser:l,users:o,onUploadRecording:u,onLeaveFeedback:f})=>{var j;const[h,y]=I.useState(!1),[v,g]=I.useState(null),[x,T]=I.useState(null),C=new Date>t.endTime,E=(l.role===Y.Admin||l.role===Y.Instructor)&&u,_=(j=t.feedback)==null?void 0:j.find(B=>B.studentId===l.id),N=f&&l.role===Y.Student&&!_,F=B=>{var te;const W=(te=B.target.files)==null?void 0:te[0];W&&(T(W),g(null))},z=async()=>{if(!(!x||!E)){y(!0),g(null);try{await u(t.id,x),n()}catch(B){console.error(B),g("Failed to upload recording. Please try again.")}finally{y(!1)}}},J=()=>!E||!C||t.recordingUrl?null:r.jsxs("div",{className:"mt-6 p-4 border-t border-slate-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Upload Session Recording"}),r.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Upload a recording for students who missed the live session."}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{id:"recording-upload",type:"file",accept:"video/*",onChange:F,className:"hidden"}),r.jsx("label",{htmlFor:"recording-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50",children:x?"Change File":"Choose File"}),x&&r.jsx("span",{className:"text-sm text-slate-600 truncate",children:x.name})]}),v&&r.jsx("p",{className:"text-sm text-red-500 mt-2",children:v}),r.jsx("button",{onClick:z,disabled:!x||h,className:"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:h?"Uploading...":"Upload Recording"})]});return C?r.jsxs("div",{className:"bg-white text-slate-800",children:[r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"This session has ended."}),!t.recordingUrl&&r.jsx("p",{className:"text-slate-500",children:"A recording may be available soon."})]}),(N||_)&&r.jsx("div",{className:"px-8 pb-4",children:r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Your Feedback"}),N&&r.jsx("button",{onClick:()=>f==null?void 0:f(t),className:"px-6 py-2 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors",children:"Leave Feedback"}),_&&r.jsxs("div",{children:[r.jsx(ki,{rating:_.rating,readOnly:!0,className:"justify-center"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2 italic",children:['"',_.comment,'"']})]})]})}),r.jsx("div",{className:"px-8 pb-8",children:r.jsx(Eb,{session:t,users:o})}),J()]}):r.jsx(Hg,{onClose:n,currentUser:l,session:t})},Nb=({isOpen:t,onClose:n,onSubmit:l,session:o})=>{if(!t||!o)return null;const u=o.price&&o.price>0;return r.jsx(pt,{isOpen:t,onClose:n,title:"Confirm Registration",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-slate-600",children:"You are about to register for the following live session:"}),r.jsxs("div",{className:"p-4 bg-slate-50 border rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg text-slate-800",children:o.title}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.dateTime.toLocaleString()})]}),u&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-slate-600",children:"The cost for this session is:"}),r.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",o.price.toFixed(2)]}),r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"(This is a simulated payment for demonstration purposes)"})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg",children:u?"Pay & Register":"Confirm Registration"})]})]})})},Ab=({isOpen:t,onClose:n,session:l,users:o})=>{if(!t||!l)return null;const u=o.filter(f=>l.attendeeIds.includes(f.id));return r.jsx(pt,{isOpen:t,onClose:n,title:`Attendees for "${l.title}"`,size:"md",children:r.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:u.length>0?r.jsx("ul",{className:"divide-y divide-slate-200",children:u.map(f=>r.jsxs("li",{className:"py-3 flex items-center space-x-4",children:[r.jsx(ci,{className:"w-8 h-8 text-slate-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-800",children:f.name}),r.jsx("p",{className:"text-xs text-slate-500",children:f.email})]})]},f.id))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-slate-500",children:"No one has registered for this session yet."})})})})},cc=({currentUser:t,allLiveSessions:n,instructors:l,users:o,onCreateLiveSession:u,onUpdateLiveSession:f,onDeleteLiveSession:h,onRegisterForWebinar:y,onUploadWebinarRecording:v,onLeaveFeedback:g,allQuizzes:x,liveSessionProgress:T,onLiveSessionQuizComplete:C})=>{const[E,_]=I.useState(!1),[N,F]=I.useState(null),[z,J]=I.useState(null),[j,B]=I.useState(null),[W,te]=I.useState(null),[D,he]=I.useState(null),[le,ue]=I.useState(null),oe=t.role===Y.Admin||t.role===Y.Instructor,fe=ye=>{ye.id?f(ye):u(ye),_(!1),F(null)},Ne=ye=>{F(ye),_(!0)},O=ye=>l.find(X=>X.id===ye),re=()=>{j&&(y(j.id),B(null))},U=ye=>{const X=`Check out this upcoming webinar on Purple LMS!

*${ye.title}*
*Date:* ${ye.dateTime.toLocaleString()}

Join here: ${window.location.href}`,A=`https://wa.me/?text=${encodeURIComponent(X)}`;window.open(A,"_blank","noopener,noreferrer")},G=ye=>{le&&(C(le.id,ye),ue(null))},ce=le!=null&&le.quizId?x.find(ye=>ye.id===le.quizId):null;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Upcoming Live Sessions"}),oe&&r.jsx("button",{onClick:()=>{F(null),_(!0)},className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-semibold rounded-lg hover:from-indigo-700 hover:to-violet-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"+ Schedule Live Session"})]}),n.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(ye=>{const X=ye.quizId?x.find(V=>V.id===ye.quizId):void 0,A=T.find(V=>V.sessionId===ye.id&&V.studentId===t.id);return r.jsx(Vg,{session:ye,instructor:O(ye.instructorId),onJoin:J,onRegister:B,onEdit:oe?Ne:void 0,onViewAttendees:te,onViewRecording:he,onShare:U,isRegistered:ye.attendeeIds.includes(t.id),currentUserRole:t.role,quiz:X,sessionProgress:A,onTakeQuiz:ue},ye.id)})}):r.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-300 rounded-lg bg-slate-50",children:r.jsx("p",{className:"text-slate-500",children:"No upcoming live sessions scheduled."})}),r.jsx(pt,{isOpen:E,onClose:()=>{_(!1),F(null)},title:N?"Edit Live Session":"Schedule a New Live Session",children:r.jsx(Tb,{sessionToEdit:N,currentUser:t,instructors:l,onSubmit:fe,onCancel:()=>{_(!1),F(null)},allQuizzes:x})}),r.jsx(pt,{isOpen:!!z,onClose:()=>J(null),title:(z==null?void 0:z.title)||"Live Session",size:"4xl",children:z&&r.jsx(Og,{session:z,onClose:()=>J(null),currentUser:t,onUploadRecording:v,users:o,onLeaveFeedback:g})}),r.jsx(Nb,{isOpen:!!j,onClose:()=>B(null),onSubmit:re,session:j}),r.jsx(Ab,{isOpen:!!W,onClose:()=>te(null),session:W,users:o}),r.jsx(pt,{isOpen:!!D,onClose:()=>he(null),title:`Recording: ${D==null?void 0:D.title}`,size:"4xl",children:D&&D.recordingUrl&&r.jsx(Bg,{video:{title:D.title,content:D.recordingUrl,type:"video"},watermark:`${t.name} | ${t.email}`})}),r.jsx(pt,{isOpen:!!le,onClose:()=>ue(null),title:(ce==null?void 0:ce.title)||"Session Quiz",children:ce?r.jsx(Pg,{quiz:ce,onComplete:G}):r.jsx("p",{className:"text-center text-slate-500",children:"Quiz could not be loaded."})})]})},dc=({currentUser:t,messages:n,onSendMessage:l})=>{const[o,u]=I.useState(""),f=I.useRef(null),h=()=>{var x;(x=f.current)==null||x.scrollIntoView({behavior:"smooth"})};I.useEffect(h,[n]);const y=x=>{x.preventDefault(),o.trim()&&(l(o),u(""))},v=x=>{switch(x){case Y.Admin:return"text-red-500";case Y.Instructor:return"text-indigo-600";case Y.Student:return"text-green-600"}},g=x=>{switch(x){case Y.Admin:return"bg-red-500";case Y.Instructor:return"bg-indigo-600";case Y.Student:return"bg-green-600"}};return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Community Chat"}),r.jsxs(it,{className:"flex flex-col h-[70vh]",children:[r.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto bg-slate-50",children:[n.map(x=>r.jsx("div",{className:`flex items-end gap-3 ${x.user.id===t.id?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`order-2 ${x.user.id===t.id?"items-end":"items-start"} flex flex-col max-w-[85%]`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${g(x.user.role)}`}),r.jsxs("p",{className:"text-xs",children:[r.jsx("span",{className:`font-bold ${v(x.user.role)}`,children:x.user.name}),r.jsx("span",{className:"ml-2 text-slate-400",children:new Date(x.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),r.jsx("div",{className:`px-4 py-2 rounded-lg inline-block break-words ${x.user.id===t.id?"bg-indigo-600 text-white rounded-br-none":"bg-white text-slate-800 border border-slate-200 rounded-bl-none"}`,children:x.text})]})},x.id)),r.jsx("div",{ref:f})]}),r.jsx("div",{className:"p-4 border-t border-slate-200 bg-white",children:r.jsxs("form",{onSubmit:y,className:"flex space-x-3",children:[r.jsx("input",{type:"text",value:o,onChange:x=>u(x.target.value),placeholder:"Type your message...",className:"flex-1 bg-slate-100 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",autoComplete:"off"}),r.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-all duration-300 shadow-sm hover:shadow-md",children:"Send"})]})})]})]})},_b=({isOpen:t,onClose:n,onSubmit:l,currentUser:o,instructors:u,students:f,sessionToEdit:h})=>{const y=!!h,[v,g]=I.useState(""),[x,T]=I.useState(""),[C,E]=I.useState("");I.useEffect(()=>{if(t)if(y&&h){g(h.studentId),T(h.instructorId);const N=new Date(h.dateTime);N.setMinutes(N.getMinutes()-N.getTimezoneOffset()),E(N.toISOString().slice(0,16))}else o.role===Y.Student?(g(o.id),T("")):(g(""),T(o.role===Y.Instructor?o.id:"")),E("")},[t,y,h,o]);const _=N=>{if(N.preventDefault(),!v||!x||!C){alert("Please fill out all fields.");return}l({studentId:v,instructorId:x,dateTime:new Date(C),sessionId:h==null?void 0:h.id})};return r.jsx(pt,{isOpen:t,onClose:n,title:y?"Update Session":"Schedule a New Session",children:r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.role!==Y.Student?r.jsxs("div",{children:[r.jsx("label",{htmlFor:"student-select",className:"block mb-2 text-sm font-medium text-slate-700",children:"Student"}),r.jsxs("select",{id:"student-select",value:v,onChange:N=>g(N.target.value),className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"Select a student"}),f.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}):r.jsx("input",{type:"hidden",value:v}),o.role!==Y.Instructor?r.jsxs("div",{children:[r.jsx("label",{htmlFor:"instructor-select",className:"block mb-2 text-sm font-medium text-slate-700",children:"Instructor"}),r.jsxs("select",{id:"instructor-select",value:x,onChange:N=>T(N.target.value),className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"Select an instructor"}),u.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}):r.jsx("input",{type:"hidden",value:x}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"session-datetime",className:"block mb-2 text-sm font-medium text-slate-700",children:"Date and Time"}),r.jsx("input",{id:"session-datetime",type:"datetime-local",value:C,onChange:N=>E(N.target.value),className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",required:!0})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg",children:y?"Update Session":"Request Session"})]})]})})},wb=({status:t})=>{const n={pending:"bg-yellow-100 text-yellow-800",scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",canceled:"bg-gray-100 text-gray-800",rejected:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n[t]}`,children:t.charAt(0).toUpperCase()+t.slice(1)})},fc=({currentUser:t,instructors:n,students:l,users:o,sessions:u,onCreateSession:f,onUpdateSession:h,onCancelSession:y,onAcceptSession:v,onRejectSession:g,onLeaveFeedback:x})=>{var fe,Ne;const[T,C]=I.useState(!1),[E,_]=I.useState(null),[N,F]=I.useState(null),[z,J]=I.useState({session:null,message:"",title:""}),j=I.useMemo(()=>{const O=new Date;return u.map(re=>re.status==="scheduled"&&O.getTime()>re.dateTime.getTime()+1800*1e3?{...re,status:"completed"}:re)},[u]),B=O=>j.filter(re=>(t.role===Y.Admin||re.studentId===t.id||re.instructorId===t.id)&&O(re)).sort((re,U)=>re.dateTime.getTime()-U.dateTime.getTime()),W=B(O=>O.status==="pending"),te=B(O=>O.status==="scheduled"&&O.dateTime>new Date),D=B(O=>["completed","canceled","rejected"].includes(O.status)||O.status==="scheduled"&&O.dateTime<=new Date).sort((O,re)=>re.dateTime.getTime()-O.dateTime.getTime()),he=O=>{O.sessionId?h(O.sessionId,O.studentId,O.instructorId,O.dateTime):f(O.studentId,O.instructorId,O.dateTime),C(!1),_(null)},le=()=>{z.session&&(y(z.session.id),J({session:null,message:"",title:""}))},ue=({title:O,sessions:re,emptyMessage:U})=>{const G=t.role===Y.Admin||t.role===Y.Instructor,ce=X=>{var L,de,be,Me;if(t.role===Y.Student)return((L=o.find(K=>K.id===X.instructorId))==null?void 0:L.name)||"Unknown Instructor";if(t.role===Y.Instructor)return((de=o.find(K=>K.id===X.studentId))==null?void 0:de.name)||"Unknown Student";const A=((be=o.find(K=>K.id===X.studentId))==null?void 0:be.name)||"Unknown",V=((Me=o.find(K=>K.id===X.instructorId))==null?void 0:Me.name)||"Unknown";return`${A} & ${V}`},ye=X=>{X.status==="pending"?J({session:X,message:"Are you sure you want to withdraw this session request?",title:"Withdraw Request"}):J({session:X,message:"Are you sure you want to cancel this scheduled session? The other party will be notified.",title:"Cancel Session"})};return r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:O}),re.length===0?r.jsx(it,{className:"p-8 text-center",children:r.jsx("p",{className:"text-slate-500",children:U})}):r.jsx("div",{className:"space-y-4",children:re.map(X=>{const A=t.id===X.requestedById,V=G&&(X.status==="pending"||X.status==="scheduled"),L=new Date().getTime(),de=X.dateTime.getTime(),be=X.status==="scheduled"&&L>=de-1800*1e3&&L<de+1800*1e3,Me=X.status==="scheduled"&&X.dateTime>new Date,K=t.role===Y.Student&&X.status==="completed"&&!X.rating;return r.jsxs(it,{className:"p-4 flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:ce(X)}),r.jsx(wb,{status:X.status}),X.rating&&r.jsx(ki,{rating:X.rating,readOnly:!0})]}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:X.dateTime.toLocaleString()})]}),r.jsxs("div",{className:"flex space-x-2 flex-wrap gap-2 justify-start sm:justify-end",children:[K&&r.jsx("button",{onClick:()=>x(X),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-amber-500 rounded-md hover:bg-amber-600 transition-colors",children:"Leave Feedback"}),X.status==="pending"&&(A?r.jsxs("button",{onClick:()=>ye(X),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-slate-500 rounded-md hover:bg-slate-600 transition-colors",children:[r.jsx(hn,{className:"w-4 h-4 mr-2"})," Withdraw Request"]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>v(X.id),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors",children:[r.jsx(Ri,{className:"w-4 h-4 mr-2"})," Accept"]}),r.jsxs("button",{onClick:()=>g(X.id),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-md hover:bg-red-700 transition-colors",children:[r.jsx(hn,{className:"w-4 h-4 mr-2"})," Reject"]})]})),be&&r.jsxs("button",{onClick:()=>F(X),className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:[r.jsx(Ui,{className:"w-4 h-4 mr-2"})," Join"]}),Me&&r.jsx("button",{onClick:()=>ye(X),className:"flex items-center justify-center p-2 text-sm font-semibold text-red-600 bg-red-100 rounded-md hover:bg-red-200 transition-colors",children:r.jsx(Fu,{className:"w-4 h-4"})}),V&&r.jsx("button",{onClick:()=>{_(X),C(!0)},className:"flex items-center justify-center p-2 text-sm font-semibold text-blue-600 bg-blue-100 rounded-md hover:bg-blue-200 transition-colors",children:r.jsx(Yu,{className:"w-4 h-4"})})]})]},X.id)})})]})},oe=()=>r.jsxs(r.Fragment,{children:[W.length>0&&r.jsx(ue,{title:"Pending Requests",sessions:W,emptyMessage:"You have no pending session requests."}),r.jsx(ue,{title:"Upcoming Sessions",sessions:te,emptyMessage:"You have no upcoming sessions scheduled."}),r.jsx(ue,{title:"Past Sessions",sessions:D,emptyMessage:"You have no past sessions."})]});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"One-to-One Sessions"}),r.jsx("button",{onClick:()=>{_(null),C(!0)},className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-semibold rounded-lg hover:from-indigo-700 hover:to-violet-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"+ Schedule Session"})]}),oe(),r.jsx(_b,{isOpen:T,onClose:()=>{C(!1),_(null)},onSubmit:he,currentUser:t,instructors:n,students:l,sessionToEdit:E}),r.jsx(pt,{isOpen:!!N,onClose:()=>F(null),title:`Session with ${(fe=o.find(O=>O.id===((N==null?void 0:N.instructorId)===t.id?N==null?void 0:N.studentId:N==null?void 0:N.instructorId)))==null?void 0:fe.name}`,size:"4xl",children:N&&r.jsx(Hg,{onClose:()=>F(null),currentUser:t,session:{id:N.id,title:`1-on-1 Session with ${((Ne=o.find(O=>O.id===(N.instructorId===t.id?N.studentId:N.instructorId)))==null?void 0:Ne.name)||"Participant"}`,description:"A one-on-one session.",instructorId:N.instructorId,dateTime:N.dateTime,endTime:new Date(N.dateTime.getTime()+3600*1e3),attendeeIds:[N.studentId,N.instructorId]}})}),r.jsx(rc,{isOpen:!!z.session,onClose:()=>J({session:null,message:"",title:""}),onConfirm:le,title:z.title,message:z.message})]})},mc=({onPositionChange:t,currentPosition:n,onClose:l})=>{const o=I.useRef(null),u={"Bottom Right":"bottom-6 right-6","Bottom Left":"bottom-6 left-6","Top Right":"top-6 right-6","Top Left":"top-6 left-6"};return I.useEffect(()=>{const f=h=>{o.current&&!o.current.contains(h.target)&&l()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[l]),r.jsxs("div",{ref:o,className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-slate-200 z-50 animate-fade-in origin-top-right",children:[r.jsx("div",{className:"p-3 border-b",children:r.jsx("h3",{className:"font-semibold text-sm text-slate-800",children:"App Settings"})}),r.jsxs("div",{className:"p-2",children:[r.jsx("p",{className:"text-xs text-slate-500 px-2 mb-1",children:"WhatsApp Button Position"}),Object.entries(u).map(([f,h])=>r.jsx("button",{onClick:()=>t(h),className:`w-full text-left text-sm px-3 py-1.5 rounded-md ${n===h?"bg-indigo-100 text-indigo-800":"text-slate-700 hover:bg-slate-100"}`,children:f},f))]})]})},hc=({user:t,onLogout:n,onClose:l})=>{const o=I.useRef(null);return I.useEffect(()=>{const u=f=>{o.current&&!o.current.contains(f.target)&&l()};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[l]),r.jsxs("div",{ref:o,className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-200 z-50 animate-fade-in origin-top-right",children:[r.jsxs("div",{className:"p-3 border-b flex items-center space-x-3",children:[r.jsx(ci,{className:"w-10 h-10 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-sm text-gray-800 truncate",children:t.name}),r.jsx("p",{className:"text-xs text-gray-500",children:t.role})]})]}),r.jsx("div",{className:"p-2",children:r.jsxs("button",{onClick:n,className:"w-full flex items-center text-left text-sm px-3 py-1.5 rounded-md text-gray-700 hover:bg-gray-100",children:[r.jsx(tg,{className:"w-5 h-5 mr-2"}),"Logout"]})})]})},Mb=({label:t,icon:n,isActive:l,onClick:o})=>r.jsxs("button",{onClick:o,className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${l?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[n,r.jsx("span",{className:"ml-3",children:t})]}),pc=({user:t,currentPage:n,setCurrentPage:l,onLogout:o})=>{const f=[{id:"home",label:"Home",icon:r.jsx(eg,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"courses",label:"Classes",icon:r.jsx(wt,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"live",label:"Live",icon:r.jsx(Ui,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"sessions",label:"1-on-1 Sessions",icon:r.jsx(ui,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"community",label:"Community",icon:r.jsx(Ou,{className:"w-6 h-6"}),roles:[Y.Student,Y.Instructor,Y.Admin]},{id:"analytics",label:"Analytics",icon:r.jsx(sg,{className:"w-6 h-6"}),roles:[Y.Admin]},{id:"users",label:"User Management",icon:r.jsx(Wp,{className:"w-6 h-6"}),roles:[Y.Admin]}].filter(h=>h.roles.includes(t.role));return r.jsxs("nav",{className:"hidden md:flex flex-col w-64 bg-white border-r border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(wt,{className:"h-10 w-10 text-indigo-600"}),r.jsx("span",{className:"text-xl font-bold text-slate-800 ml-2",children:"Purple LMS"})]}),r.jsx("div",{className:"flex-1 space-y-2",children:f.map(h=>r.jsx(Mb,{label:h.label,icon:h.icon,isActive:n===h.id,onClick:()=>l(h.id)},h.id))}),r.jsx("div",{className:"mt-auto",children:r.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:[r.jsx(tg,{className:"w-6 h-6"}),r.jsx("span",{className:"ml-3",children:"Logout"})]})})]})},gc=({banners:t,currentUser:n,onCtaClick:l})=>{const[o,u]=I.useState(0),f=I.useCallback(()=>{u(y=>y===t.length-1?0:y+1)},[t.length]),h=()=>{u(y=>y===0?t.length-1:y-1)};return I.useEffect(()=>{const y=setInterval(f,7e3);return()=>clearInterval(y)},[f]),!t||t.length===0?null:r.jsxs("div",{className:"relative w-full h-80 rounded-2xl overflow-hidden shadow-lg group",children:[r.jsx("div",{className:"relative w-full h-full",children:t.map((y,v)=>r.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${y.background} ${v===o?"opacity-100 z-10":"opacity-0 z-0"}`,children:r.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center text-center p-8 text-white relative",children:[r.jsx("div",{className:"absolute -top-10 -right-10 w-48 h-48 bg-white/10 rounded-full filter blur-xl"}),r.jsx("div",{className:"absolute -bottom-12 -left-12 w-36 h-36 bg-white/10 rounded-full filter blur-xl"}),r.jsx("h2",{className:"text-4xl font-bold drop-shadow-md z-10 transition-all duration-500",style:{transform:v===o?"translateY(0)":"translateY(20px)",opacity:v===o?1:0,transitionDelay:"200ms"},children:y.title(n.name)}),r.jsx("p",{className:"mt-4 max-w-2xl text-lg text-white/90 drop-shadow-sm z-10 transition-all duration-500",style:{transform:v===o?"translateY(0)":"translateY(20px)",opacity:v===o?1:0,transitionDelay:"400ms"},children:y.subtitle}),r.jsx("button",{onClick:()=>l(y.ctaLink),className:"mt-8 px-8 py-3 bg-white/20 backdrop-blur-sm border border-white/30 text-white font-bold rounded-lg hover:bg-white/30 transition-all duration-300 z-10 transform hover:scale-105",style:{transform:v===o?"translateY(0)":"translateY(20px)",opacity:v===o?1:0,transitionDelay:"600ms"},children:y.ctaText})]})},y.id))}),r.jsx("button",{onClick:h,className:"absolute top-1/2 left-4 -translate-y-1/2 z-20 bg-black/30 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Previous slide",children:r.jsx(ng,{className:"w-6 h-6"})}),r.jsx("button",{onClick:f,className:"absolute top-1/2 right-4 -translate-y-1/2 z-20 bg-black/30 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Next slide",children:r.jsx(ig,{className:"w-6 h-6"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex space-x-2",children:t.map((y,v)=>r.jsx("button",{onClick:()=>u(v),className:`w-3 h-3 rounded-full transition-all duration-300 ${v===o?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${v+1}`},v))})]})},Ib=({isOpen:t,onClose:n,onSubmit:l})=>{const[o,u]=I.useState(0),[f,h]=I.useState(""),y=()=>{if(o===0){alert("Please select a rating.");return}l(o,f),u(0),h("")};return r.jsx(pt,{isOpen:t,onClose:n,title:"Leave Your Feedback",size:"lg",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-medium text-slate-700 mb-3",children:"How would you rate this session?"}),r.jsx(ki,{rating:o,onRatingChange:u,className:"justify-center"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"feedback-comment",className:"block mb-2 text-sm font-medium text-slate-700",children:"Comments (optional)"}),r.jsx("textarea",{id:"feedback-comment",value:f,onChange:v=>h(v.target.value),rows:5,className:"w-full p-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"What did you like? What could be improved?"})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{onClick:n,className:"px-6 py-2 bg-slate-200 text-slate-800 font-semibold rounded-md hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{onClick:y,className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700",children:"Submit Feedback"})]})]})})},Rb=t=>{const[n,l]=I.useState("home"),[o,u]=I.useState(!1),[f,h]=I.useState(!1),[y,v]=I.useState(""),[g,x]=I.useState(null),[T,C]=I.useState(null),[E,_]=I.useState(null),[N,F]=I.useState(null),z=t.allCourses.filter(oe=>t.studentProgress.some(fe=>fe.studentId===t.currentUser.id&&fe.courseId===oe.id)),J=t.studentProgress.filter(oe=>oe.studentId===t.currentUser.id),j=["home","courses"].includes(n),B=oe=>{J.find(Ne=>Ne.courseId===oe.id)?x(oe):C(oe)},W=oe=>{if(t.allCourses.some(Ne=>Ne.id===oe)){const Ne=t.allCourses.find(O=>O.id===oe);B(Ne)}else l(oe)},te=oe=>{T&&(t.onEnrollInCourse(T.id,oe),(!T.price||T.price<=0)&&C(null))},D=oe=>{const fe=`Check out this upcoming webinar on Purple LMS!

*${oe.title}*
*Date:* ${oe.dateTime.toLocaleString()}

Join here: ${window.location.href}`,Ne=`https://wa.me/?text=${encodeURIComponent(fe)}`;window.open(Ne,"_blank","noopener,noreferrer")},he=(oe,fe)=>{F({session:oe,type:fe})},le=(oe,fe)=>{N&&(N.type==="1-on-1"?t.onOneToOneFeedback(N.session.id,oe,fe):t.onWebinarFeedback(N.session.id,oe,fe),F(null))},ue=()=>{const oe={currentUser:t.currentUser,instructors:t.instructors,studentProgress:J,onModuleComplete:t.onModuleComplete,onQuizComplete:t.onQuizComplete,onAssignmentSubmit:t.onAssignmentSubmit,onRateCourse:t.onRateCourse,onEnrollInCourse:t.onEnrollInCourse,onNotifyInstructorOfCompletion:t.onNotifyInstructorOfCompletion,students:t.students,allQuizzes:t.allQuizzes,onCreateCourse:()=>{},onDeleteCourse:()=>{},onIssueCertificate:()=>{},searchTerm:y};switch(n){case"courses":return r.jsx(uc,{...oe,allCourses:t.allCourses});case"live":return r.jsx(cc,{currentUser:t.currentUser,allLiveSessions:t.allLiveSessions,instructors:t.instructors,onCreateLiveSession:()=>{},onUpdateLiveSession:()=>{},onDeleteLiveSession:()=>{},onRegisterForWebinar:t.onRegisterForWebinar,onUploadWebinarRecording:async()=>{},onLeaveFeedback:re=>he(re,"webinar"),users:t.users,allQuizzes:t.allQuizzes,liveSessionProgress:t.liveSessionProgress,onLiveSessionQuizComplete:t.onLiveSessionQuizComplete});case"community":return r.jsx(dc,{currentUser:t.currentUser,messages:t.chatMessages,onSendMessage:t.onSendMessage});case"sessions":return r.jsx(fc,{currentUser:t.currentUser,instructors:t.instructors,students:t.students,users:t.users,sessions:t.sessions,onCreateSession:t.onCreateSession,onUpdateSession:t.onUpdateSession,onCancelSession:t.onCancelSession,onAcceptSession:t.onAcceptSession,onRejectSession:t.onRejectSession,onLeaveFeedback:re=>he(re,"1-on-1")});case"home":default:const fe=t.allLiveSessions.filter(re=>new Date(re.dateTime)>new Date).sort((re,U)=>new Date(re.dateTime).getTime()-new Date(U.dateTime).getTime()).slice(0,5),Ne=(z.length>0?z:t.allCourses).slice(0,5),O=oc.filter(re=>!re.roles||re.roles.includes(Y.Student));return r.jsxs("div",{className:"space-y-12 animate-fade-in",children:[r.jsx(gc,{banners:O,currentUser:t.currentUser,onCtaClick:W}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Continue Your Learning"}),r.jsx("button",{onClick:()=>l("courses"),className:"text-sm font-medium text-indigo-600 hover:underline",children:"View All "})]}),Ne.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ne.map(re=>r.jsx(Xu,{course:re,instructor:t.instructors.find(U=>U.id===re.instructorId),progress:J.find(U=>U.courseId===re.id),onClick:B,userRole:t.currentUser.role},re.id))}):r.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-300 rounded-lg bg-slate-50",children:r.jsx("p",{className:"text-slate-500",children:"No courses available. Explore the 'Courses' tab to get started!"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Upcoming Live Sessions"}),r.jsx("button",{onClick:()=>l("live"),className:"text-sm font-medium text-indigo-600 hover:underline",children:"View All "})]}),fe.length>0?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:fe.map(re=>r.jsx(Vg,{session:re,instructor:t.instructors.find(U=>U.id===re.instructorId),onJoin:()=>_(re),onRegister:()=>{},onShare:D,isRegistered:re.attendeeIds.includes(t.currentUser.id),currentUserRole:t.currentUser.role},re.id))}):r.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-300 rounded-lg bg-slate-50",children:r.jsx("p",{className:"text-slate-500",children:"No upcoming live sessions. Check back soon!"})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Personalized Coaching"}),r.jsxs("div",{onClick:()=>l("sessions"),className:"group bg-gradient-to-br from-purple-600 to-indigo-700 p-8 rounded-2xl flex flex-col md:flex-row items-center justify-between gap-6 cursor-pointer hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-6 text-white",children:[r.jsx("div",{className:"hidden sm:block p-4 bg-white/20 rounded-full",children:r.jsx(ui,{className:"w-10 h-10"})}),r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Book a 1-on-1 Session"}),r.jsx("p",{className:"text-purple-100 mt-1 max-w-lg",children:"Get dedicated time with an instructor to clarify doubts, discuss strategies, and accelerate your learning."})]})]}),r.jsx("div",{className:"mt-4 md:mt-0 px-8 py-3 bg-white text-indigo-700 font-bold rounded-lg group-hover:bg-purple-100 transition-colors duration-300 flex-shrink-0 text-base pointer-events-none",children:"Book Now "})]})]})]})}};return r.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[r.jsx(pc,{user:t.currentUser,currentPage:n,setCurrentPage:l,onLogout:t.onLogout}),r.jsxs("div",{className:"flex-1 flex flex-col w-full overflow-hidden",children:[r.jsxs("header",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-indigo-500 to-violet-600 text-white shadow-md sticky top-0 z-30",children:[r.jsxs("div",{className:"flex items-center flex-shrink-0 md:hidden",children:[r.jsx(wt,{className:"h-8 w-8"}),r.jsx("span",{className:"text-lg font-bold ml-2 hidden sm:block",children:"Purple LMS"})]}),r.jsx("div",{className:"flex-1 min-w-0",children:j&&r.jsxs("div",{className:"relative w-full max-w-lg mx-auto",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Qu,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{type:"text",placeholder:"Search for courses...",value:y,onChange:oe=>v(oe.target.value),className:"block w-full bg-indigo-400/50 border-transparent rounded-lg py-2 pl-10 pr-4 text-sm text-white placeholder-indigo-100 focus:ring-white focus:bg-indigo-400/80"})]})}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[r.jsx($u,{currentUser:t.currentUser,notifications:t.notifications,setNotifications:t.setNotifications,setCurrentPage:l}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>u(!o),className:"p-1 rounded-full hover:bg-white/20",children:r.jsx(na,{className:"w-6 h-6"})}),o&&r.jsx(mc,{onPositionChange:t.setWhatsAppPosition,currentPosition:t.whatsAppPosition,onClose:()=>u(!1)})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>h(!f),className:"rounded-full hover:bg-white/20",children:r.jsx(ci,{className:"w-8 h-8"})}),f&&r.jsx(hc,{user:t.currentUser,onLogout:t.onLogout,onClose:()=>h(!1)})]})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6 pb-24 md:pb-6",children:ue()}),r.jsx("div",{className:"md:hidden",children:r.jsx(Ku,{user:t.currentUser,currentPage:n,setCurrentPage:l})})]}),r.jsx(pt,{isOpen:!!g,onClose:()=>x(null),title:(g==null?void 0:g.title)||"Course Details",size:"4xl",children:g&&r.jsx(jg,{course:g,student:t.currentUser,progress:J.find(oe=>oe.courseId===g.id),onModuleComplete:oe=>t.onModuleComplete(g.id,oe),onQuizComplete:oe=>t.onQuizComplete(g.id,oe),onRateCourse:oe=>t.onRateCourse(g.id,oe),onNotifyInstructorOfCompletion:()=>t.onNotifyInstructorOfCompletion(g.id),allQuizzes:t.allQuizzes})}),r.jsx(Gg,{isOpen:!!T,onClose:()=>C(null),onSubmit:te,course:T,user:t.currentUser}),r.jsx(pt,{isOpen:!!E,onClose:()=>_(null),title:(E==null?void 0:E.title)||"Live Session",size:"4xl",children:E&&r.jsx(Og,{session:E,onClose:()=>_(null),currentUser:t.currentUser,users:t.users,onLeaveFeedback:oe=>he(oe,"webinar")})}),r.jsx(Ib,{isOpen:!!N,onClose:()=>F(null),onSubmit:le})]})},Db=t=>{const[n,l]=I.useState("home"),[o,u]=I.useState(!1),[f,h]=I.useState(!1),[y,v]=I.useState(""),g=["home","courses"].includes(n),x=C=>{const E=t.allCourses.some(_=>_.id===C);l(E?"courses":C)},T=()=>{const C={currentUser:t.currentUser,instructors:t.instructors,studentProgress:t.studentProgress,onCreateCourse:t.onCreateCourse,onDeleteCourse:t.onDeleteCourse,onIssueCertificate:t.onIssueCertificate,students:t.students,allQuizzes:t.allQuizzes,onModuleComplete:()=>{},onQuizComplete:()=>{},onAssignmentSubmit:()=>{},onRateCourse:()=>{},onEnrollInCourse:()=>{},onNotifyInstructorOfCompletion:()=>{},searchTerm:y};switch(n){case"courses":return r.jsx(uc,{...C,allCourses:t.allCourses});case"live":return r.jsx(cc,{currentUser:t.currentUser,allLiveSessions:t.allLiveSessions,instructors:t.instructors,onCreateLiveSession:t.onCreateLiveSession,onUpdateLiveSession:t.onUpdateLiveSession,onDeleteLiveSession:t.onDeleteLiveSession,onRegisterForWebinar:t.onRegisterForWebinar,onUploadWebinarRecording:t.onUploadWebinarRecording,users:t.users,allQuizzes:t.allQuizzes,liveSessionProgress:t.liveSessionProgress,onLiveSessionQuizComplete:t.onLiveSessionQuizComplete});case"community":return r.jsx(dc,{currentUser:t.currentUser,messages:t.chatMessages,onSendMessage:t.onSendMessage});case"sessions":return r.jsx(fc,{currentUser:t.currentUser,instructors:t.instructors,students:t.students,users:t.users,sessions:t.sessions,onCreateSession:t.onCreateSession,onUpdateSession:t.onUpdateSession,onCancelSession:t.onCancelSession,onAcceptSession:t.onAcceptSession,onRejectSession:t.onRejectSession,onLeaveFeedback:()=>{}});case"home":default:const E=t.allCourses.filter(B=>B.instructorId===t.currentUser.id),_=oc.filter(B=>!B.roles||B.roles.includes(Y.Instructor)),N=E.map(B=>B.id),F=new Set(t.studentProgress.filter(B=>N.includes(B.courseId)).map(B=>B.studentId)).size,z=E.filter(B=>B.rating&&B.totalRatings&&B.totalRatings>0),J=z.length>0?z.reduce((B,W)=>B+(W.rating||0),0)/z.length:0,j=t.sessions.filter(B=>B.instructorId===t.currentUser.id&&B.status==="pending");return r.jsxs("div",{className:"space-y-8",children:[r.jsx(gc,{banners:_,currentUser:t.currentUser,onCtaClick:x}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(ui,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:F})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(wt,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Courses Published"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:E.length})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(Ju,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Average Rating"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:J.toFixed(1)})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(Iv,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Pending Requests"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:j.length})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Courses"}),r.jsx("button",{onClick:()=>l("courses"),className:"text-sm font-medium text-indigo-600 hover:underline",children:"Manage All "})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.slice(0,4).map(B=>r.jsx(Xu,{course:B,instructor:t.currentUser,userRole:t.currentUser.role,onClick:()=>l("courses")},B.id))})]}),r.jsx("div",{className:"space-y-6",children:j.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Pending 1-on-1s"}),r.jsxs(it,{className:"p-4 space-y-3",children:[j.slice(0,3).map(B=>{var W;return r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:((W=t.students.find(te=>te.id===B.studentId))==null?void 0:W.name)||"..."})," requested a session."]}),r.jsx("p",{className:"text-slate-500 text-xs",children:B.dateTime.toLocaleString()})]},B.id)}),r.jsx("button",{onClick:()=>l("sessions"),className:"text-sm font-bold text-indigo-600 hover:underline mt-2",children:"View All Requests"})]})]})})]})]})}};return r.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[r.jsx(pc,{user:t.currentUser,currentPage:n,setCurrentPage:l,onLogout:t.onLogout}),r.jsxs("div",{className:"flex-1 flex flex-col w-full overflow-hidden",children:[r.jsxs("header",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-indigo-500 to-violet-600 text-white shadow-md sticky top-0 z-30",children:[r.jsxs("div",{className:"flex items-center flex-shrink-0 md:hidden",children:[r.jsx(wt,{className:"h-8 w-8"}),r.jsx("span",{className:"text-lg font-bold ml-2 hidden sm:block",children:"Purple LMS"})]}),r.jsx("div",{className:"flex-1 min-w-0",children:g&&r.jsxs("div",{className:"relative w-full max-w-lg mx-auto",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Qu,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{type:"text",placeholder:"Search for courses...",value:y,onChange:C=>v(C.target.value),className:"block w-full bg-indigo-400/50 border-transparent rounded-lg py-2 pl-10 pr-4 text-sm text-white placeholder-indigo-100 focus:ring-white focus:bg-indigo-400/80"})]})}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[r.jsx($u,{currentUser:t.currentUser,notifications:t.notifications,setNotifications:t.setNotifications,setCurrentPage:l}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>u(!o),className:"p-1 rounded-full hover:bg-white/20",children:r.jsx(na,{className:"w-6 h-6"})}),o&&r.jsx(mc,{onPositionChange:t.setWhatsAppPosition,currentPosition:t.whatsAppPosition,onClose:()=>u(!1)})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>h(!f),className:"rounded-full hover:bg-white/20",children:r.jsx(ci,{className:"w-8 h-8"})}),f&&r.jsx(hc,{user:t.currentUser,onLogout:t.onLogout,onClose:()=>h(!1)})]})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6 pb-24 md:pb-6",children:T()}),r.jsx("div",{className:"md:hidden",children:r.jsx(Ku,{user:t.currentUser,currentPage:n,setCurrentPage:l})})]})]})},Ub=({user:t,onSubmit:n,onCancel:l})=>{const[o,u]=I.useState(""),[f,h]=I.useState(Y.Student);I.useEffect(()=>{t?(u(t.name),h(t.role)):(u(""),h(Y.Student))},[t]);const y=g=>{if(g.preventDefault(),!o){alert("Please enter a name.");return}n({id:t==null?void 0:t.id,name:o,role:f})},v=!!t;return r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-slate-700",children:"Full Name"}),r.jsx("input",{type:"text",id:"name",value:o,onChange:g=>u(g.target.value),className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",placeholder:"e.g. John Smith",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Role"}),r.jsx("div",{className:"flex space-x-2 rounded-lg bg-slate-100 p-1",children:Object.values(Y).map(g=>r.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-300 ${f===g?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:g},g))})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 text-sm font-semibold text-slate-700 bg-slate-200 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 rounded-lg",children:v?"Update User":"Create User"})]})]})},wl=({title:t,data:n})=>{const l=Math.max(...n.map(o=>o.value),1);return r.jsxs(it,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:t}),r.jsx("div",{className:"space-y-4 min-h-[10rem]",children:n.length>0?n.map(o=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[r.jsx("span",{className:"text-slate-600 truncate pr-2",children:o.label}),r.jsx("span",{className:"font-semibold text-slate-800",children:o.displayValue||o.value})]}),r.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-violet-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${o.value/l*100}%`}})})]},o.label)):r.jsx("p",{className:"text-slate-500 text-center pt-8",children:"No data available for this chart."})})]})},kb=({users:t,courses:n,studentProgress:l})=>{const o=t.filter(_=>_.role===Y.Student).length,u=t.filter(_=>_.role===Y.Instructor).length,f=t.filter(_=>_.role===Y.Admin).length,h=n.map(_=>{const N=l.filter(F=>F.courseId===_.id).length;return{..._,enrollments:N}}),y=h.reduce((_,N)=>_+(N.price||0)*N.enrollments,0),v=n.filter(_=>_.rating&&_.totalRatings&&_.totalRatings>0),g=v.length>0?v.reduce((_,N)=>_+(N.rating||0),0)/v.length:0,x=[{label:"Students",value:o},{label:"Instructors",value:u},{label:"Admins",value:f}],T=h.sort((_,N)=>N.enrollments-_.enrollments).slice(0,5).map(_=>({label:_.title,value:_.enrollments,displayValue:`${_.enrollments} students`})),C=h.filter(_=>_.price&&_.price>0&&_.enrollments>0).map(_=>({label:_.title,value:(_.price||0)*_.enrollments,displayValue:`${Math.round((_.price||0)*_.enrollments).toLocaleString("en-IN")}`})).sort((_,N)=>N.value-_.value).slice(0,5),E=t.filter(_=>_.role===Y.Instructor).map(_=>{const N=n.filter(F=>F.instructorId===_.id).length;return{label:_.name,value:N,displayValue:`${N} course${N!==1?"s":""}`}}).filter(_=>_.value>0).sort((_,N)=>N.value-_.value).slice(0,5);return r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Platform Analytics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs(it,{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Total Revenue"}),r.jsxs("p",{className:"text-3xl font-bold text-violet-600",children:["",y.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),r.jsxs(it,{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Total Students"}),r.jsx("p",{className:"text-3xl font-bold text-violet-600",children:o})]}),r.jsxs(it,{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Active Courses"}),r.jsx("p",{className:"text-3xl font-bold text-violet-600",children:n.length})]}),r.jsxs(it,{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Average Rating"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("p",{className:"text-3xl font-bold text-violet-600 mr-2",children:g.toFixed(1)}),r.jsx(Ju,{className:"w-7 h-7 text-yellow-400",fill:"currentColor"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx(wl,{title:"Top 5 Courses by Enrollment",data:T}),r.jsx(wl,{title:"Top 5 Courses by Revenue",data:C}),r.jsx(wl,{title:"User Role Distribution",data:x}),r.jsx(wl,{title:"Top Instructors by Courses Created",data:E})]})]})},Lb=({users:t,onUpdateUser:n,onDeleteUser:l})=>{const[o,u]=I.useState(!1),[f,h]=I.useState(null),[y,v]=I.useState(null),g=C=>{h(C),u(!0)},x=C=>{n(C),u(!1),h(null)},T=()=>{y&&(l(y.id),v(null))};return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"User Management"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(C=>r.jsxs(it,{className:"flex flex-col",children:[r.jsxs("div",{className:"p-5 flex-grow",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 truncate",children:C.name}),r.jsx("p",{className:"text-sm text-slate-500 truncate",children:C.email}),r.jsx("p",{className:`text-sm font-semibold mt-2 ${C.role===Y.Admin?"text-red-600":C.role===Y.Instructor?"text-indigo-600":"text-green-600"}`,children:C.role})]}),r.jsxs("div",{className:"bg-slate-50 p-3 border-t flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>g(C),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors","aria-label":`Edit ${C.name}`,children:r.jsx(Yu,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>v(C),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":`Delete ${C.name}`,children:r.jsx(Fu,{className:"w-5 h-5"})})]})]},C.id))}),r.jsx(pt,{isOpen:o,onClose:()=>{u(!1),h(null)},title:f?"Edit User":"Create User",children:r.jsx(Ub,{user:f,onSubmit:x,onCancel:()=>{u(!1),h(null)}})}),r.jsx(rc,{isOpen:!!y,onClose:()=>v(null),onConfirm:T,title:"Delete User",message:`Are you sure you want to delete the user ${y==null?void 0:y.name}? This action cannot be undone.`})]})},qb=t=>{const[n,l]=I.useState("home"),[o,u]=I.useState(!1),[f,h]=I.useState(!1),[y,v]=I.useState(""),g=n==="courses",x=C=>{l(C)},T=()=>{const C={currentUser:t.currentUser,allCourses:t.allCourses,allQuizzes:t.allQuizzes,instructors:t.instructors,studentProgress:t.studentProgress,onCreateCourse:t.onCreateCourse,onDeleteCourse:t.onDeleteCourse,onIssueCertificate:t.onIssueCertificate,students:t.students,onModuleComplete:()=>{},onQuizComplete:()=>{},onAssignmentSubmit:()=>{},onRateCourse:()=>{},onEnrollInCourse:()=>{},onNotifyInstructorOfCompletion:()=>{},searchTerm:y};switch(n){case"courses":return r.jsx(uc,{...C});case"live":return r.jsx(cc,{currentUser:t.currentUser,allLiveSessions:t.allLiveSessions,instructors:t.instructors,onCreateLiveSession:t.onCreateLiveSession,onUpdateLiveSession:t.onUpdateLiveSession,onDeleteLiveSession:t.onDeleteLiveSession,onRegisterForWebinar:t.onRegisterForWebinar,onUploadWebinarRecording:t.onUploadWebinarRecording,users:t.users,allQuizzes:t.allQuizzes,liveSessionProgress:t.liveSessionProgress,onLiveSessionQuizComplete:t.onLiveSessionQuizComplete});case"community":return r.jsx(dc,{currentUser:t.currentUser,messages:t.chatMessages,onSendMessage:t.onSendMessage});case"analytics":return r.jsx(kb,{users:t.users,courses:t.allCourses,studentProgress:t.studentProgress});case"users":return r.jsx(Lb,{users:t.users,onUpdateUser:t.onUpdateUser,onDeleteUser:t.onDeleteUser});case"sessions":return r.jsx(fc,{currentUser:t.currentUser,instructors:t.instructors,students:t.students,users:t.users,sessions:t.sessions,onCreateSession:t.onCreateSession,onUpdateSession:t.onUpdateSession,onCancelSession:t.onCancelSession,onAcceptSession:t.onAcceptSession,onRejectSession:t.onRejectSession,onLeaveFeedback:()=>{}});case"home":default:const E=oc.filter(z=>!z.roles||z.roles.includes(Y.Admin));t.users.filter(z=>z.role===Y.Student).length;const _=t.users.filter(z=>z.role===Y.Instructor).length,N=t.allCourses.reduce((z,J)=>{const j=t.studentProgress.filter(B=>B.courseId===J.id).length;return z+(J.price||0)*j},0),F=t.allCourses.map(z=>({label:z.title,value:t.studentProgress.filter(J=>J.courseId===z.id).length})).sort((z,J)=>J.value-z.value).slice(0,5);return r.jsxs("div",{className:"space-y-8",children:[r.jsx(gc,{banners:E,currentUser:t.currentUser,onCtaClick:x}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(ui,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t.users.length})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(wt,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Active Courses"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t.allCourses.length})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(wv,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",N.toLocaleString("en-IN")]})]})]}),r.jsxs(it,{className:"p-5 flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-violet-100 rounded-full",children:r.jsx(ci,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-slate-500",children:"Instructors"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(wl,{title:"Top Courses by Enrollment",data:F})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Quick Links"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:[r.jsxs(it,{onClick:()=>l("users"),className:"p-5 flex items-center gap-4 hover:bg-slate-50 cursor-pointer",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(ui,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800",children:"User Management"}),r.jsx("p",{className:"text-sm text-slate-500",children:"View and manage all users"})]})]}),r.jsxs(it,{onClick:()=>l("courses"),className:"p-5 flex items-center gap-4 hover:bg-slate-50 cursor-pointer",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(wt,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800",children:"Course Management"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Edit and create courses"})]})]}),r.jsxs(it,{onClick:()=>l("analytics"),className:"p-5 flex items-center gap-4 hover:bg-slate-50 cursor-pointer",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Mv,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800",children:"Platform Analytics"}),r.jsx("p",{className:"text-sm text-slate-500",children:"View detailed statistics"})]})]})]})]})]})]})}};return r.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[r.jsx(pc,{user:t.currentUser,currentPage:n,setCurrentPage:l,onLogout:t.onLogout}),r.jsxs("div",{className:"flex-1 flex flex-col w-full overflow-hidden",children:[r.jsxs("header",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-indigo-500 to-violet-600 text-white shadow-md sticky top-0 z-30",children:[r.jsxs("div",{className:"flex items-center flex-shrink-0 md:hidden",children:[r.jsx(wt,{className:"h-8 w-8"}),r.jsx("span",{className:"text-lg font-bold ml-2 hidden sm:block",children:"Purple LMS"})]}),r.jsx("div",{className:"flex-1 min-w-0",children:g&&r.jsxs("div",{className:"relative w-full max-w-lg mx-auto",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Qu,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{type:"text",placeholder:"Search for courses...",value:y,onChange:C=>v(C.target.value),className:"block w-full bg-indigo-400/50 border-transparent rounded-lg py-2 pl-10 pr-4 text-sm text-white placeholder-indigo-100 focus:ring-white focus:bg-indigo-400/80"})]})}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[r.jsx($u,{currentUser:t.currentUser,notifications:t.notifications,setNotifications:t.setNotifications,setCurrentPage:l}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>u(!o),className:"p-1 rounded-full hover:bg-white/20",children:r.jsx(na,{className:"w-6 h-6"})}),o&&r.jsx(mc,{onPositionChange:t.setWhatsAppPosition,currentPosition:t.whatsAppPosition,onClose:()=>u(!1)})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>h(!f),className:"rounded-full hover:bg-white/20",children:r.jsx(ci,{className:"w-8 h-8"})}),f&&r.jsx(hc,{user:t.currentUser,onLogout:t.onLogout,onClose:()=>h(!1)})]})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6 pb-24 md:pb-6",children:T()}),r.jsx("div",{className:"md:hidden",children:r.jsx(Ku,{user:t.currentUser,currentPage:n,setCurrentPage:l})})]})]})},zb=({message:t,type:n,onClose:l})=>{I.useEffect(()=>{const f=setTimeout(()=>{l()},5e3);return()=>clearTimeout(f)},[l]);const o=n==="success"?"bg-green-600":"bg-red-600",u=n==="success"?Ri:hn;return r.jsxs("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 z-[100] flex items-center w-full max-w-sm p-4 text-white ${o} rounded-lg shadow-2xl animate-fade-in`,role:"alert",children:[r.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg bg-white/20",children:r.jsx(u,{className:"w-5 h-5"})}),r.jsx("div",{className:"ml-3 text-sm font-medium",children:t}),r.jsxs("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-white/10 text-white rounded-lg focus:ring-2 focus:ring-white/50 p-1.5 hover:bg-white/20 inline-flex h-8 w-8 transition-colors",onClick:l,"aria-label":"Close",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},Pb="http://localhost:5000/api";async function Ee(t,n={}){const l=`${Pb}${t}`,{authToken:o,...u}=n,f={"Content-Type":"application/json"};u.headers&&(u.headers instanceof Headers?u.headers.forEach((y,v)=>{f[v]=y}):Array.isArray(u.headers)?u.headers.forEach(([y,v])=>{f[y]=v}):Object.assign(f,u.headers)),o&&(f.Authorization=`Bearer ${o}`),delete u.headers,u.body instanceof FormData&&delete f["Content-Type"];const h={...u,headers:f};try{const y=await fetch(l,h),v=await y.json();if(!y.ok)throw new Error(v.message||`HTTP error! status: ${y.status}`);return v.data}catch(y){throw console.error(`API request failed for ${t}:`,y),y}}const Ko={auth:{checkEmail:t=>Ee(`/auth/check-email?email=${encodeURIComponent(t)}`),signup:t=>Ee("/auth/signup",{method:"POST",body:JSON.stringify(t)}),login:t=>Ee("/auth/login",{method:"POST",body:JSON.stringify(t)})},getUsers:()=>Ee("/users"),getUserById:t=>Ee(`/users/${t}`),createUser:t=>Ee("/users",{method:"POST",body:JSON.stringify(t)}),updateUser:(t,n)=>Ee(`/users/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteUser:t=>Ee(`/users/${t}`,{method:"DELETE"}),getCourses:t=>{const n=new URLSearchParams;t!=null&&t.instructorId&&n.append("instructorId",t.instructorId),t!=null&&t.category&&n.append("category",t.category),t!=null&&t.difficulty&&n.append("difficulty",t.difficulty);const l=n.toString();return Ee(`/courses${l?`?${l}`:""}`)},getCourseById:t=>Ee(`/courses/${t}`),createCourse:t=>Ee("/courses",{method:"POST",body:JSON.stringify(t)}),updateCourse:(t,n)=>Ee(`/courses/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteCourse:t=>Ee(`/courses/${t}`,{method:"DELETE"}),getQuizzes:()=>Ee("/quizzes"),getQuizById:t=>Ee(`/quizzes/${t}`),createQuiz:t=>Ee("/quizzes",{method:"POST",body:JSON.stringify(t)}),updateQuiz:(t,n)=>Ee(`/quizzes/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteQuiz:t=>Ee(`/quizzes/${t}`,{method:"DELETE"}),getStudentProgress:t=>{const n=new URLSearchParams;t!=null&&t.studentId&&n.append("studentId",t.studentId),t!=null&&t.courseId&&n.append("courseId",t.courseId);const l=n.toString();return Ee(`/student-progress${l?`?${l}`:""}`)},getStudentProgressById:t=>Ee(`/student-progress/${t}`),createStudentProgress:t=>Ee("/student-progress",{method:"POST",body:JSON.stringify(t)}),updateStudentProgress:(t,n)=>Ee(`/student-progress/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteStudentProgress:t=>Ee(`/student-progress/${t}`,{method:"DELETE"}),getNotifications:t=>{const n=new URLSearchParams;t!=null&&t.recipientId&&n.append("recipientId",t.recipientId);const l=n.toString();return Ee(`/notifications${l?`?${l}`:""}`)},getNotificationById:t=>Ee(`/notifications/${t}`),createNotification:t=>Ee("/notifications",{method:"POST",body:JSON.stringify(t)}),updateNotification:(t,n)=>Ee(`/notifications/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteNotification:t=>Ee(`/notifications/${t}`,{method:"DELETE"}),getChatMessages:()=>Ee("/chat-messages"),getChatMessageById:t=>Ee(`/chat-messages/${t}`),createChatMessage:t=>Ee("/chat-messages",{method:"POST",body:JSON.stringify(t)}),updateChatMessage:(t,n)=>Ee(`/chat-messages/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteChatMessage:t=>Ee(`/chat-messages/${t}`,{method:"DELETE"}),getLiveSessions:()=>Ee("/live-sessions"),getLiveSessionById:t=>Ee(`/live-sessions/${t}`),createLiveSession:t=>Ee("/live-sessions",{method:"POST",body:JSON.stringify(t)}),updateLiveSession:(t,n)=>Ee(`/live-sessions/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteLiveSession:t=>Ee(`/live-sessions/${t}`,{method:"DELETE"}),getAssignments:t=>{const n=new URLSearchParams;t!=null&&t.courseId&&n.append("courseId",t.courseId);const l=n.toString();return Ee(`/assignments${l?`?${l}`:""}`)},getAssignmentById:t=>Ee(`/assignments/${t}`),createAssignment:t=>Ee("/assignments",{method:"POST",body:JSON.stringify(t)}),updateAssignment:(t,n)=>Ee(`/assignments/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteAssignment:t=>Ee(`/assignments/${t}`,{method:"DELETE"}),getOneToOneSessions:t=>{const n=new URLSearchParams;t!=null&&t.studentId&&n.append("studentId",t.studentId),t!=null&&t.instructorId&&n.append("instructorId",t.instructorId);const l=n.toString();return Ee(`/one-to-one-sessions${l?`?${l}`:""}`)},getOneToOneSessionById:t=>Ee(`/one-to-one-sessions/${t}`),createOneToOneSession:t=>Ee("/one-to-one-sessions",{method:"POST",body:JSON.stringify(t)}),updateOneToOneSession:(t,n)=>Ee(`/one-to-one-sessions/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteOneToOneSession:t=>Ee(`/one-to-one-sessions/${t}`,{method:"DELETE"}),getLiveSessionProgress:t=>{const n=new URLSearchParams;t!=null&&t.sessionId&&n.append("sessionId",t.sessionId),t!=null&&t.studentId&&n.append("studentId",t.studentId);const l=n.toString();return Ee(`/live-session-progress${l?`?${l}`:""}`)},getLiveSessionProgressById:t=>Ee(`/live-session-progress/${t}`),createLiveSessionProgress:t=>Ee("/live-session-progress",{method:"POST",body:JSON.stringify(t)}),updateLiveSessionProgress:(t,n)=>Ee(`/live-session-progress/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteLiveSessionProgress:t=>Ee(`/live-session-progress/${t}`,{method:"DELETE"}),getBanners:()=>Ee("/banners"),getBannerById:t=>Ee(`/banners/${t}`),createBanner:t=>Ee("/banners",{method:"POST",body:JSON.stringify(t)}),updateBanner:(t,n)=>Ee(`/banners/${t}`,{method:"PUT",body:JSON.stringify(n)}),deleteBanner:t=>Ee(`/banners/${t}`,{method:"DELETE"})},Du=t=>({id:t._id||t.id,name:t.name,email:t.email,role:t.role,phoneNumber:t.phoneNumber,address:t.address}),Bb=()=>{const[t,n]=I.useState(null),[l,o]=I.useState([]),[u,f]=I.useState([]),[h,y]=I.useState([]),[v,g]=I.useState([]),[x,T]=I.useState([]),[C,E]=I.useState([]),[_,N]=I.useState([]),[F,z]=I.useState([]),[J,j]=I.useState([]),[B,W]=I.useState("bottom-6 right-6"),[te,D]=I.useState(null),[he,le]=I.useState(()=>localStorage.getItem("authToken")),[ue,oe]=I.useState(null),[fe,Ne]=I.useState(null);I.useEffect(()=>{const ne=localStorage.getItem("currentUser");if(ne)try{const $=JSON.parse(ne);n($)}catch($){console.error("Failed to parse stored user",$),localStorage.removeItem("currentUser")}},[]),I.useEffect(()=>{fb(),(async()=>{try{const ie=(await Ko.getUsers()).map(Du);o(ie),Ie.saveUsers(ie)}catch($){console.error("Error loading users from backend, using local storage:",$),o(Ie.getUsers())}})(),f(Ie.getCourses()),g(Ie.getStudentProgress()),T(Ie.getNotifications()),E(Ie.getChatMessages()),N(Ie.getLiveSessions()),z(Ie.getOneToOneSessions()),j(Ie.getLiveSessionProgress()),y(Ie.getQuizzes())},[]);const O=I.useCallback(ne=>{T($=>{const ie=typeof ne=="function"?ne($):ne;return Ie.saveNotifications(ie),ie})},[]);I.useEffect(()=>{if(t){const ne={id:`notif-${Date.now()}`,recipientId:t.id,message:`Welcome back, ${t.name}!`,createdAt:new Date,read:!1,type:"system"};O($=>[...$,ne])}},[t,O]),I.useEffect(()=>{const ne=setInterval(()=>{const $=new Date().getTime(),ie=F.map(ae=>{const ve=new Date(ae.dateTime).getTime()-$,Ue=1800*1e3;if(ae.status==="scheduled"&&!ae.reminderSent&&ve>0&&ve<=Ue){const Pe=l.find(He=>He.id===ae.studentId),lt=l.find(He=>He.id===ae.instructorId);if(Pe&&lt){const He=`Your 1-on-1 session with ${lt.name} is starting in 30 minutes.`,un=`Your 1-on-1 session with ${Pe.name} is starting in 30 minutes.`;O(Ds=>[...Ds,{id:`notif-${Date.now()}-s`,recipientId:Pe.id,message:He,createdAt:new Date,read:!1,type:"session",link:"sessions"},{id:`notif-${Date.now()}-i`,recipientId:lt.id,message:un,createdAt:new Date,read:!1,type:"session",link:"sessions"}])}return{...ae,reminderSent:!0}}return ae});JSON.stringify(ie)!==JSON.stringify(F)&&(z(ie),Ie.saveOneToOneSessions(ie));const se=_.map(ae=>{const ve=new Date(ae.dateTime).getTime()-$,Ue=3600*1e3;if(!ae.reminderSent&&ve>0&&ve<=Ue){const Pe=`The webinar "${ae.title}" is starting in 1 hour.`,He=[...ae.attendeeIds,ae.instructorId].map(un=>({id:`notif-${Date.now()}-${un}`,recipientId:un,message:Pe,createdAt:new Date,read:!1,type:"session",link:"live"}));return O(un=>[...un,...He]),{...ae,reminderSent:!0}}return ae});JSON.stringify(se)!==JSON.stringify(_)&&(N(se),Ie.saveLiveSessions(se))},6e4);return()=>clearInterval(ne)},[F,_,l,O]);const re=(ne,$)=>{n(ne),le($),localStorage.setItem("currentUser",JSON.stringify(ne)),localStorage.setItem("authToken",$)},U=()=>{n(null),le(null),localStorage.removeItem("currentUser"),localStorage.removeItem("authToken")},G=async(ne,$)=>{try{const{user:ie,token:se}=await Ko.auth.login({email:ne,password:$}),ae=Du(ie);return re(ae,se),D({message:"Login successful!",type:"success"}),ae}catch(ie){console.error("Login failed:",ie);const se=ie instanceof Error?ie.message:"Login failed. Please try again.";return D({message:se,type:"error"}),U(),null}},ce=()=>{U(),D({message:"Logged out successfully.",type:"success"})},ye=async(ne,$,ie,se)=>{const ae=$.trim();if(!ae)return!1;try{const{exists:me}=await Ko.auth.checkEmail(ae);if(me)return!1;const ve=Math.floor(1e5+Math.random()*9e5).toString();return Ne(ve),oe({name:ne,email:ae,password:ie,role:se}),D({message:`(For testing) Your OTP is: ${ve}`,type:"success"}),!0}catch(me){if(console.error("Error checking email availability:",me),l.some(Ue=>Ue.email.toLowerCase()===ae.toLowerCase()))return!1;const ve=Math.floor(1e5+Math.random()*9e5).toString();return Ne(ve),oe({name:ne,email:ae,password:ie,role:se}),D({message:`(For testing) Your OTP is: ${ve}`,type:"success"}),!0}},X=async ne=>{if(ne===fe&&ue)try{const{user:$,token:ie}=await Ko.auth.signup({name:ue.name,email:ue.email,password:ue.password,role:ue.role}),se=Du($),ae=[...l,se];return Ie.saveUsers(ae),o(ae),re(se,ie),D({message:"Account created successfully! Welcome.",type:"success"}),oe(null),Ne(null),!0}catch($){return console.error("Error creating user:",$),D({message:$ instanceof Error?$.message:"Failed to create account. Please try again.",type:"error"}),!1}return!1},A=ne=>{let $,ie,se=[...h];if(ne.quiz.id){ie=ne.quiz.id;const ve={id:ie,title:ne.quiz.title,questions:ne.quiz.questions};se=se.map(Ue=>Ue.id===ie?ve:Ue)}else{ie=`q-${Date.now()}`;const ve={id:ie,title:ne.quiz.title,questions:ne.quiz.questions};se.push(ve)}Ie.saveQuizzes(se),y(se);const{quiz:ae,...me}=ne;if(ne.id)$=u.map(ve=>ve.id===ne.id?{...ve,...me,quizId:ie,modules:ne.modules.map((Ue,Pe)=>{var lt;return{...Ue,id:((lt=ve.modules[Pe])==null?void 0:lt.id)||`m-${Date.now()}-${Pe}`}})}:ve);else{const ve={...me,id:`course-${Date.now()}`,quizId:ie,rating:0,totalRatings:0,modules:ne.modules.map((Ue,Pe)=>({...Ue,id:`m-${Date.now()}-${Pe}`}))};$=[...u,ve]}try{Ie.saveCourses($),f($)}catch(ve){ve.name==="QuotaExceededError"?D({message:"Storage limit exceeded. Could not save course. Please reduce video sizes.",type:"error"}):D({message:"An unexpected error occurred while saving the course.",type:"error"})}},V=async ne=>{const $=u.find(se=>se.id===ne);if($){const se=$.modules.filter(ae=>ae.type==="video"&&ae.content.startsWith("indexeddb://")).map(ae=>{const me=ae.content.replace("indexeddb://","");return Ie.deleteVideo(me).catch(ve=>console.error(`Failed to delete video ${me}`,ve))});await Promise.all(se)}const ie=u.filter(se=>se.id!==ne);Ie.saveCourses(ie),f(ie)},L=(ne,$)=>{t&&g(ie=>{const se=JSON.parse(JSON.stringify(ie)),ae=se.findIndex(me=>me.courseId===ne&&me.studentId===t.id);if(ae>-1){const me=se[ae];me.completedModules.includes($)||me.completedModules.push($)}else se.push({courseId:ne,studentId:t.id,completedModules:[$],quizScore:null,assignmentStatus:"pending",completionNotified:!1,certificateIssued:!1});return Ie.saveStudentProgress(se),se})},de=(ne,$)=>{if(!t)return;g(se=>{const ae=JSON.parse(JSON.stringify(se)),me=ae.findIndex(ve=>ve.courseId===ne&&ve.studentId===t.id);return me>-1?ae[me].quizScore=$:ae.push({courseId:ne,studentId:t.id,completedModules:[],quizScore:$,assignmentStatus:"pending",completionNotified:!1,certificateIssued:!1}),Ie.saveStudentProgress(ae),ae});const ie={id:`notif-${Date.now()}`,recipientId:t.id,message:`You scored ${$}% on the quiz!`,createdAt:new Date,read:!1,type:"course",link:"courses"};O(se=>[...se,ie]),D({message:ie.message,type:"success"})},be=(ne,$)=>{if(!t)return;g(se=>{const ae=JSON.parse(JSON.stringify(se)),me=ae.findIndex(ve=>ve.courseId===ne&&ve.studentId===t.id);return me>-1&&(ae[me].rating=$),Ie.saveStudentProgress(ae),ae});const ie=u.map(se=>se.id===ne?{...se,rating:((se.rating||0)*(se.totalRatings||0)+$)/((se.totalRatings||0)+1),totalRatings:(se.totalRatings||0)+1}:se);try{Ie.saveCourses(ie),f(ie)}catch(se){se.name==="QuotaExceededError"?D({message:"Storage limit exceeded. Course rating could not be saved.",type:"error"}):D({message:"An unexpected error occurred while saving the rating.",type:"error"})}},Me=ne=>{if(!t)return;const $={id:`msg-${Date.now()}`,user:t,timestamp:new Date,text:ne},ie=[...C,$];Ie.saveChatMessages(ie),E(ie)},K=ne=>{const $={...ne,id:`ls-${Date.now()}`,dateTime:new Date(ne.dateTime),endTime:new Date(ne.endTime),attendeeIds:[]},ie=[..._,$];Ie.saveLiveSessions(ie),N(ie)},pe=ne=>{if(!ne.id)return;const $=_.map(ie=>ie.id===ne.id?{...ie,...ne,id:ie.id,dateTime:new Date(ne.dateTime),endTime:new Date(ne.endTime)}:ie);Ie.saveLiveSessions($),N($),D({message:"Live session updated successfully!",type:"success"})},Se=ne=>{const $=_.filter(ie=>ie.id!==ne);Ie.saveLiveSessions($),N($)},_e=ne=>{if(ne.id){const $=l.map(ie=>ie.id===ne.id?{...ie,name:ne.name,role:ne.role}:ie);Ie.saveUsers($),o($)}},tn=ne=>{const $=l.filter(ie=>ie.id!==ne);Ie.saveUsers($),o($)},zn=(ne,$,ie)=>{if(!t)return;const se=3600*1e3,ae=ie.getTime();if(F.some(He=>He.status==="scheduled"&&(He.studentId===ne||He.instructorId===$)&&Math.abs(ae-He.dateTime.getTime())<se)){D({message:"Scheduling conflict detected. The instructor or student is unavailable at this time.",type:"error"});return}const ve={id:`oto-${Date.now()}`,studentId:ne,instructorId:$,dateTime:ie,status:"pending",requestedById:t.id},Ue=[...F,ve];Ie.saveOneToOneSessions(Ue),z(Ue);const Pe=l.find(He=>He.id===ne),lt=l.find(He=>He.id===$);if(Pe&&lt){const He=ie.toLocaleString(),un=t.id===Pe.id?lt.id:Pe.id,Ds=`New 1-on-1 session request from ${t.name} for ${He}.`;O(da=>[...da,{id:`notif-${Date.now()}-recipient`,recipientId:un,message:Ds,createdAt:new Date,read:!1,type:"session",link:"sessions"}]),D({message:"Session request sent successfully.",type:"success"})}},Pn=(ne,$,ie,se)=>{const ae=F.map(me=>me.id===ne?{...me,studentId:$,instructorId:ie,dateTime:se}:me);Ie.saveOneToOneSessions(ae),z(ae)},nn=ne=>{const $=F.find(se=>se.id===ne);if(!$)return;const ie=F.map(se=>se.id===ne?{...se,status:"canceled"}:se);if(Ie.saveOneToOneSessions(ie),z(ie),$.status==="scheduled"&&t){const se=l.find(Ue=>Ue.id===$.studentId),ae=l.find(Ue=>Ue.id===$.instructorId);if(!se||!ae)return;const me=t.id===se.id?ae.id:se.id,ve=`Your session with ${t.name} for ${$.dateTime.toLocaleString()} has been canceled.`;O(Ue=>[...Ue,{id:`notif-${Date.now()}-cancel`,recipientId:me,message:ve,createdAt:new Date,read:!1,type:"session",link:"sessions"}])}D({message:$.status==="pending"?"Session request withdrawn.":"Session canceled.",type:"success"})},Ms=ne=>{let $;const ie=F.map(se=>se.id===ne?($={...se,status:"scheduled"},$):se);if(Ie.saveOneToOneSessions(ie),z(ie),$&&t){l.find(ve=>ve.id===$.studentId),l.find(ve=>ve.id===$.instructorId);const se=$.dateTime.toLocaleString(),ae=$.requestedById,me=`${t.name} has confirmed your session request for ${se}.`;O(ve=>[...ve,{id:`notif-${Date.now()}-recipient`,recipientId:ae,message:me,createdAt:new Date,read:!1,type:"session",link:"sessions"}]),D({message:"Session confirmed!",type:"success"})}},Is=ne=>{let $;const ie=F.map(se=>se.id===ne?($={...se,status:"rejected"},$):se);if(Ie.saveOneToOneSessions(ie),z(ie),$&&t){const se=$.requestedById,ae=`${t.name} has rejected your session request for ${$.dateTime.toLocaleString()}.`;O(me=>[...me,{id:`notif-${Date.now()}-recipient`,recipientId:se,message:ae,createdAt:new Date,read:!1,type:"session",link:"sessions"}]),D({message:"Session request rejected.",type:"success"})}},aa=(ne,$)=>{if(!t)return;const ie=l.map(me=>me.id===t.id?{...me,...$}:me);Ie.saveUsers(ie),o(ie),n(me=>me?{...me,...$}:null),g(me=>{if(me.some(lt=>lt.courseId===ne&&lt.studentId===t.id))return me;const Ue={courseId:ne,studentId:t.id,completedModules:[],quizScore:null,assignmentStatus:"pending",completionNotified:!1,certificateIssued:!1},Pe=[...me,Ue];return Ie.saveStudentProgress(Pe),Pe});const se=u.find(me=>me.id===ne),ae={id:`notif-${Date.now()}`,recipientId:t.id,message:`You have successfully enrolled in "${se==null?void 0:se.title}"!`,createdAt:new Date,read:!1,type:"course",link:"courses"};O(me=>[...me,ae]),D({message:ae.message,type:"success"})},Il=ne=>{if(!t)return;const $=u.find(se=>se.id===ne);if(!$)return;g(se=>{const ae=se.map(me=>me.courseId===ne&&me.studentId===t.id?{...me,completionNotified:!0}:me);return Ie.saveStudentProgress(ae),ae});const ie={id:`notif-${Date.now()}`,recipientId:$.instructorId,message:`${t.name} has completed the course "${$.title}".`,createdAt:new Date,read:!1,type:"course",link:"courses"};O(se=>[...se,ie])},qi=(ne,$)=>{const ie=u.find(ae=>ae.id===ne);if(!ie)return;g(ae=>{const me=ae.map(ve=>ve.courseId===ne&&ve.studentId===$?{...ve,certificateIssued:!0}:ve);return Ie.saveStudentProgress(me),me});const se={id:`notif-${Date.now()}`,recipientId:$,message:`Congratulations! Your certificate for "${ie.title}" has been issued.`,createdAt:new Date,read:!1,type:"certificate",link:"courses"};O(ae=>[...ae,se]),(t==null?void 0:t.id)===$&&D({message:se.message,type:"success"})},Rs=ne=>{if(!t)return;const $=_.find(ae=>ae.id===ne);if(!$)return;if($.attendeeIds.includes(t.id)){D({message:"You are already registered for this session.",type:"error"});return}const ie=_.map(ae=>ae.id===ne?{...ae,attendeeIds:[...ae.attendeeIds,t.id]}:ae);Ie.saveLiveSessions(ie),N(ie);const se={id:`notif-${Date.now()}`,recipientId:t.id,message:`You have successfully registered for "${$.title}".`,createdAt:new Date,read:!1,type:"session",link:"live"};O(ae=>[...ae,se]),D({message:se.message,type:"success"})},zi=async(ne,$)=>{try{const ie=`webinar-rec-${ne}-${Date.now()}`;await Ie.saveVideo(ie,$);const se=`indexeddb://${ie}`,ae=_.map(me=>me.id===ne?{...me,recordingUrl:se}:me);Ie.saveLiveSessions(ae),N(ae),D({message:"Recording uploaded successfully!",type:"success"})}catch(ie){throw console.error("Failed to upload recording:",ie),D({message:"Failed to upload recording.",type:"error"}),ie}},ra=(ne,$,ie)=>{const se=F.find(ve=>ve.id===ne);if(!se||!t)return;const ae=F.map(ve=>ve.id===ne?{...ve,rating:$,feedback:ie}:ve);Ie.saveOneToOneSessions(ae),z(ae);const me={id:`notif-${Date.now()}`,recipientId:se.instructorId,message:`${t.name} left ${$}-star feedback for your 1-on-1 session.`,createdAt:new Date,read:!1,type:"session",link:"sessions"};O(ve=>[...ve,me]),D({message:"Thank you for your feedback!",type:"success"})},ua=(ne,$,ie)=>{const se=_.find(Ue=>Ue.id===ne);if(!se||!t)return;const ae={studentId:t.id,rating:$,comment:ie},me=_.map(Ue=>{if(Ue.id===ne){const Pe=Ue.feedback||[];return{...Ue,feedback:[...Pe,ae]}}return Ue});Ie.saveLiveSessions(me),N(me);const ve={id:`notif-${Date.now()}`,recipientId:se.instructorId,message:`${t.name} left ${$}-star feedback for your webinar "${se.title}".`,createdAt:new Date,read:!1,type:"session",link:"live"};O(Ue=>[...Ue,ve]),D({message:"Thank you for your feedback!",type:"success"})},At=(ne,$)=>{if(!t)return;j(me=>{const ve=JSON.parse(JSON.stringify(me)),Ue=ve.findIndex(Pe=>Pe.sessionId===ne&&Pe.studentId===t.id);return Ue>-1?ve[Ue].quizScore=$:ve.push({sessionId:ne,studentId:t.id,quizScore:$}),Ie.saveLiveSessionProgress(ve),ve});const ie=_.find(me=>me.id===ne),se=`You scored ${$}% on the quiz for "${ie==null?void 0:ie.title}"!`,ae={id:`notif-${Date.now()}`,recipientId:t.id,message:se,createdAt:new Date,read:!1,type:"session",link:"live"};O(me=>[...me,ae]),D({message:se,type:"success"})},ca=()=>{if(!t)return null;const ne=l.filter(se=>se.role===Y.Instructor),$=l.filter(se=>se.role===Y.Student),ie={currentUser:t,onLogout:ce,notifications:x,setNotifications:O,chatMessages:C,onSendMessage:Me,allLiveSessions:_,sessions:F,instructors:ne,students:$,users:l,whatsAppPosition:B,setWhatsAppPosition:W,onCreateSession:zn,onUpdateSession:Pn,onCancelSession:nn,onAcceptSession:Ms,onRejectSession:Is,onRegisterForWebinar:Rs,liveSessionProgress:J,onLiveSessionQuizComplete:At};switch(t.role){case Y.Student:return r.jsx(Rb,{...ie,allCourses:u,allQuizzes:h,studentProgress:v,onModuleComplete:L,onQuizComplete:de,onAssignmentSubmit:()=>{},onRateCourse:be,onEnrollInCourse:aa,onNotifyInstructorOfCompletion:Il,onOneToOneFeedback:ra,onWebinarFeedback:ua});case Y.Instructor:return r.jsx(Db,{...ie,allCourses:u,allQuizzes:h,studentProgress:v,onCreateCourse:A,onDeleteCourse:V,onCreateLiveSession:K,onUpdateLiveSession:pe,onDeleteLiveSession:Se,onIssueCertificate:qi,onUploadWebinarRecording:zi});case Y.Admin:return r.jsx(qb,{...ie,allCourses:u,allQuizzes:h,studentProgress:v,onCreateCourse:A,onDeleteCourse:V,onCreateLiveSession:K,onUpdateLiveSession:pe,onDeleteLiveSession:Se,onUpdateUser:_e,onDeleteUser:tn,onIssueCertificate:qi,onUploadWebinarRecording:zi});default:return r.jsx("div",{children:"Invalid user role."})}};return r.jsxs(r.Fragment,{children:[te&&r.jsx(zb,{message:te.message,type:te.type,onClose:()=>D(null)}),t?ca():r.jsx(Pv,{onLogin:G,onInitiateSignup:ye,onVerifyOtp:X})]})},Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const jb=pv.createRoot(Fg);jb.render(r.jsx(Zp.StrictMode,{children:r.jsx(Bb,{})}));
